#! /bin/sh
# Guess values for system-dependent variables and create Makefiles.
# Generated by GNU Autoconf 2.60.
#
# Copyright (C) 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001,
# 2002, 2003, 2004, 2005, 2006 Free Software Foundation, Inc.
# This configure script is free software; the Free Software Foundation
# gives unlimited permission to copy, distribute and modify it.
## --------------------- ##
## M4sh Initialization.  ##
## --------------------- ##

# Be Bourne compatible
if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then
  emulate sh
  NULLCMD=:
  # Zsh 3.x and 4.x performs word splitting on ${1+"$@"}, which
  # is contrary to our usage.  Disable this feature.
  alias -g '${1+"$@"}'='"$@"'
  setopt NO_GLOB_SUBST
else
  case `(set -o) 2>/dev/null` in *posix*) set -o posix;; esac
fi
BIN_SH=xpg4; export BIN_SH # for Tru64
DUALCASE=1; export DUALCASE # for MKS sh


# PATH needs CR
# Avoid depending upon Character Ranges.
as_cr_letters='abcdefghijklmnopqrstuvwxyz'
as_cr_LETTERS='ABCDEFGHIJKLMNOPQRSTUVWXYZ'
as_cr_Letters=$as_cr_letters$as_cr_LETTERS
as_cr_digits='0123456789'
as_cr_alnum=$as_cr_Letters$as_cr_digits

# The user is always right.
if test "${PATH_SEPARATOR+set}" != set; then
  echo "#! /bin/sh" >conf$$.sh
  echo  "exit 0"   >>conf$$.sh
  chmod +x conf$$.sh
  if (PATH="/nonexistent;."; conf$$.sh) >/dev/null 2>&1; then
    PATH_SEPARATOR=';'
  else
    PATH_SEPARATOR=:
  fi
  rm -f conf$$.sh
fi

# Support unset when possible.
if ( (MAIL=60; unset MAIL) || exit) >/dev/null 2>&1; then
  as_unset=unset
else
  as_unset=false
fi


# IFS
# We need space, tab and new line, in precisely that order.  Quoting is
# there to prevent editors from complaining about space-tab.
# (If _AS_PATH_WALK were called with IFS unset, it would disable word
# splitting by setting IFS to empty value.)
as_nl='
'
IFS=" ""	$as_nl"

# Find who we are.  Look in the path if we contain no directory separator.
case $0 in
  *[\\/]* ) as_myself=$0 ;;
  *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
  test -r "$as_dir/$0" && as_myself=$as_dir/$0 && break
done
IFS=$as_save_IFS

     ;;
esac
# We did not find ourselves, most probably we were run as `sh COMMAND'
# in which case we are not to be found in the path.
if test "x$as_myself" = x; then
  as_myself=$0
fi
if test ! -f "$as_myself"; then
  echo "$as_myself: error: cannot find myself; rerun with an absolute file name" >&2
  { (exit 1); exit 1; }
fi

# Work around bugs in pre-3.0 UWIN ksh.
for as_var in ENV MAIL MAILPATH
do ($as_unset $as_var) >/dev/null 2>&1 && $as_unset $as_var
done
PS1='$ '
PS2='> '
PS4='+ '

# NLS nuisances.
for as_var in \
  LANG LANGUAGE LC_ADDRESS LC_ALL LC_COLLATE LC_CTYPE LC_IDENTIFICATION \
  LC_MEASUREMENT LC_MESSAGES LC_MONETARY LC_NAME LC_NUMERIC LC_PAPER \
  LC_TELEPHONE LC_TIME
do
  if (set +x; test -z "`(eval $as_var=C; export $as_var) 2>&1`"); then
    eval $as_var=C; export $as_var
  else
    ($as_unset $as_var) >/dev/null 2>&1 && $as_unset $as_var
  fi
done

# Required to use basename.
if expr a : '\(a\)' >/dev/null 2>&1 &&
   test "X`expr 00001 : '.*\(...\)'`" = X001; then
  as_expr=expr
else
  as_expr=false
fi

if (basename -- /) >/dev/null 2>&1 && test "X`basename -- / 2>&1`" = "X/"; then
  as_basename=basename
else
  as_basename=false
fi


# Name of the executable.
as_me=`$as_basename -- "$0" ||
$as_expr X/"$0" : '.*/\([^/][^/]*\)/*$' \| \
	 X"$0" : 'X\(//\)$' \| \
	 X"$0" : 'X\(/\)' \| . 2>/dev/null ||
echo X/"$0" |
    sed '/^.*\/\([^/][^/]*\)\/*$/{
	    s//\1/
	    q
	  }
	  /^X\/\(\/\/\)$/{
	    s//\1/
	    q
	  }
	  /^X\/\(\/\).*/{
	    s//\1/
	    q
	  }
	  s/.*/./; q'`

# CDPATH.
$as_unset CDPATH


if test "x$CONFIG_SHELL" = x; then
  if (eval ":") 2>/dev/null; then
  as_have_required=yes
else
  as_have_required=no
fi

  if test $as_have_required = yes && 	 (eval ":
(as_func_return () {
  (exit \$1)
}
as_func_success () {
  as_func_return 0
}
as_func_failure () {
  as_func_return 1
}
as_func_ret_success () {
  return 0
}
as_func_ret_failure () {
  return 1
}

exitcode=0
if as_func_success; then
  :
else
  exitcode=1
  echo as_func_success failed.
fi

if as_func_failure; then
  exitcode=1
  echo as_func_failure succeeded.
fi

if as_func_ret_success; then
  :
else
  exitcode=1
  echo as_func_ret_success failed.
fi

if as_func_ret_failure; then
  exitcode=1
  echo as_func_ret_failure succeeded.
fi

if ( set x; as_func_ret_success y && test x = \"\$1\" ); then
  :
else
  exitcode=1
  echo positional parameters were not saved.
fi

test \$exitcode = 0) || { (exit 1); exit 1; }

(
  as_lineno_1=\$LINENO
  as_lineno_2=\$LINENO
  test \"x\$as_lineno_1\" != \"x\$as_lineno_2\" &&
  test \"x\`expr \$as_lineno_1 + 1\`\" = \"x\$as_lineno_2\") || { (exit 1); exit 1; }
") 2> /dev/null; then
  :
else
  as_candidate_shells=
    as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in /usr/bin/posix$PATH_SEPARATOR/bin$PATH_SEPARATOR/usr/bin$PATH_SEPARATOR$PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
  case $as_dir in
	 /*)
	   for as_base in sh bash ksh sh5; do
	     as_candidate_shells="$as_candidate_shells $as_dir/$as_base"
	   done;;
       esac
done
IFS=$as_save_IFS


      for as_shell in $as_candidate_shells $SHELL; do
	 # Try only shells that exist, to save several forks.
	 if { test -f "$as_shell" || test -f "$as_shell.exe"; } &&
		{ ("$as_shell") 2> /dev/null <<\_ASEOF
# Be Bourne compatible
if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then
  emulate sh
  NULLCMD=:
  # Zsh 3.x and 4.x performs word splitting on ${1+"$@"}, which
  # is contrary to our usage.  Disable this feature.
  alias -g '${1+"$@"}'='"$@"'
  setopt NO_GLOB_SUBST
else
  case `(set -o) 2>/dev/null` in *posix*) set -o posix;; esac
fi
BIN_SH=xpg4; export BIN_SH # for Tru64
DUALCASE=1; export DUALCASE # for MKS sh

:
_ASEOF
}; then
  CONFIG_SHELL=$as_shell
	       as_have_required=yes
	       if { "$as_shell" 2> /dev/null <<\_ASEOF
# Be Bourne compatible
if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then
  emulate sh
  NULLCMD=:
  # Zsh 3.x and 4.x performs word splitting on ${1+"$@"}, which
  # is contrary to our usage.  Disable this feature.
  alias -g '${1+"$@"}'='"$@"'
  setopt NO_GLOB_SUBST
else
  case `(set -o) 2>/dev/null` in *posix*) set -o posix;; esac
fi
BIN_SH=xpg4; export BIN_SH # for Tru64
DUALCASE=1; export DUALCASE # for MKS sh

:
(as_func_return () {
  (exit $1)
}
as_func_success () {
  as_func_return 0
}
as_func_failure () {
  as_func_return 1
}
as_func_ret_success () {
  return 0
}
as_func_ret_failure () {
  return 1
}

exitcode=0
if as_func_success; then
  :
else
  exitcode=1
  echo as_func_success failed.
fi

if as_func_failure; then
  exitcode=1
  echo as_func_failure succeeded.
fi

if as_func_ret_success; then
  :
else
  exitcode=1
  echo as_func_ret_success failed.
fi

if as_func_ret_failure; then
  exitcode=1
  echo as_func_ret_failure succeeded.
fi

if ( set x; as_func_ret_success y && test x = "$1" ); then
  :
else
  exitcode=1
  echo positional parameters were not saved.
fi

test $exitcode = 0) || { (exit 1); exit 1; }

(
  as_lineno_1=$LINENO
  as_lineno_2=$LINENO
  test "x$as_lineno_1" != "x$as_lineno_2" &&
  test "x`expr $as_lineno_1 + 1`" = "x$as_lineno_2") || { (exit 1); exit 1; }

_ASEOF
}; then
  break
fi

fi

      done

      if test "x$CONFIG_SHELL" != x; then
  for as_var in BASH_ENV ENV
        do ($as_unset $as_var) >/dev/null 2>&1 && $as_unset $as_var
        done
        export CONFIG_SHELL
        exec "$CONFIG_SHELL" "$as_myself" ${1+"$@"}
fi


    if test $as_have_required = no; then
  echo This script requires a shell more modern than all the
      echo shells that I found on your system.  Please install a
      echo modern shell, or manually run the script under such a
      echo shell if you do have one.
      { (exit 1); exit 1; }
fi


fi

fi



(eval "as_func_return () {
  (exit \$1)
}
as_func_success () {
  as_func_return 0
}
as_func_failure () {
  as_func_return 1
}
as_func_ret_success () {
  return 0
}
as_func_ret_failure () {
  return 1
}

exitcode=0
if as_func_success; then
  :
else
  exitcode=1
  echo as_func_success failed.
fi

if as_func_failure; then
  exitcode=1
  echo as_func_failure succeeded.
fi

if as_func_ret_success; then
  :
else
  exitcode=1
  echo as_func_ret_success failed.
fi

if as_func_ret_failure; then
  exitcode=1
  echo as_func_ret_failure succeeded.
fi

if ( set x; as_func_ret_success y && test x = \"\$1\" ); then
  :
else
  exitcode=1
  echo positional parameters were not saved.
fi

test \$exitcode = 0") || {
  echo No shell found that supports shell functions.
  echo Please tell autoconf@gnu.org about your system,
  echo including any error possibly output before this
  echo message
}



  as_lineno_1=$LINENO
  as_lineno_2=$LINENO
  test "x$as_lineno_1" != "x$as_lineno_2" &&
  test "x`expr $as_lineno_1 + 1`" = "x$as_lineno_2" || {

  # Create $as_me.lineno as a copy of $as_myself, but with $LINENO
  # uniformly replaced by the line number.  The first 'sed' inserts a
  # line-number line after each line using $LINENO; the second 'sed'
  # does the real work.  The second script uses 'N' to pair each
  # line-number line with the line containing $LINENO, and appends
  # trailing '-' during substitution so that $LINENO is not a special
  # case at line end.
  # (Raja R Harinath suggested sed '=', and Paul Eggert wrote the
  # scripts with optimization help from Paolo Bonzini.  Blame Lee
  # E. McMahon (1931-1989) for sed's syntax.  :-)
  sed -n '
    p
    /[$]LINENO/=
  ' <$as_myself |
    sed '
      s/[$]LINENO.*/&-/
      t lineno
      b
      :lineno
      N
      :loop
      s/[$]LINENO\([^'$as_cr_alnum'_].*\n\)\(.*\)/\2\1\2/
      t loop
      s/-\n.*//
    ' >$as_me.lineno &&
  chmod +x "$as_me.lineno" ||
    { echo "$as_me: error: cannot create $as_me.lineno; rerun with a POSIX shell" >&2
   { (exit 1); exit 1; }; }

  # Don't try to exec as it changes $[0], causing all sort of problems
  # (the dirname of $[0] is not the place where we might find the
  # original and so on.  Autoconf is especially sensitive to this).
  . "./$as_me.lineno"
  # Exit status is that of the last command.
  exit
}


if (as_dir=`dirname -- /` && test "X$as_dir" = X/) >/dev/null 2>&1; then
  as_dirname=dirname
else
  as_dirname=false
fi

ECHO_C= ECHO_N= ECHO_T=
case `echo -n x` in
-n*)
  case `echo 'x\c'` in
  *c*) ECHO_T='	';;	# ECHO_T is single tab character.
  *)   ECHO_C='\c';;
  esac;;
*)
  ECHO_N='-n';;
esac

if expr a : '\(a\)' >/dev/null 2>&1 &&
   test "X`expr 00001 : '.*\(...\)'`" = X001; then
  as_expr=expr
else
  as_expr=false
fi

rm -f conf$$ conf$$.exe conf$$.file
if test -d conf$$.dir; then
  rm -f conf$$.dir/conf$$.file
else
  rm -f conf$$.dir
  mkdir conf$$.dir
fi
echo >conf$$.file
if ln -s conf$$.file conf$$ 2>/dev/null; then
  as_ln_s='ln -s'
  # ... but there are two gotchas:
  # 1) On MSYS, both `ln -s file dir' and `ln file dir' fail.
  # 2) DJGPP < 2.04 has no symlinks; `ln -s' creates a wrapper executable.
  # In both cases, we have to default to `cp -p'.
  ln -s conf$$.file conf$$.dir 2>/dev/null && test ! -f conf$$.exe ||
    as_ln_s='cp -p'
elif ln conf$$.file conf$$ 2>/dev/null; then
  as_ln_s=ln
else
  as_ln_s='cp -p'
fi
rm -f conf$$ conf$$.exe conf$$.dir/conf$$.file conf$$.file
rmdir conf$$.dir 2>/dev/null

if mkdir -p . 2>/dev/null; then
  as_mkdir_p=:
else
  test -d ./-p && rmdir ./-p
  as_mkdir_p=false
fi

# Find out whether ``test -x'' works.  Don't use a zero-byte file, as
# systems may use methods other than mode bits to determine executability.
cat >conf$$.file <<_ASEOF
#! /bin/sh
exit 0
_ASEOF
chmod +x conf$$.file
if test -x conf$$.file >/dev/null 2>&1; then
  as_executable_p="test -x"
else
  as_executable_p=:
fi
rm -f conf$$.file

# Sed expression to map a string onto a valid CPP name.
as_tr_cpp="eval sed 'y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g'"

# Sed expression to map a string onto a valid variable name.
as_tr_sh="eval sed 'y%*+%pp%;s%[^_$as_cr_alnum]%_%g'"



exec 7<&0 </dev/null 6>&1

# Name of the host.
# hostname on some systems (SVR3.2, Linux) returns a bogus exit status,
# so uname gets run too.
ac_hostname=`(hostname || uname -n) 2>/dev/null | sed 1q`

#
# Initializations.
#
ac_default_prefix=/usr/local
ac_clean_files=
ac_config_libobj_dir=.
LIBOBJS=
cross_compiling=no
subdirs=
MFLAGS=
MAKEFLAGS=
SHELL=${CONFIG_SHELL-/bin/sh}

# Identity of this package.
PACKAGE_NAME=
PACKAGE_TARNAME=
PACKAGE_VERSION=
PACKAGE_STRING=
PACKAGE_BUGREPORT=

ac_unique_file="acore/sound.patch"
ac_default_prefix=/usr
ac_subst_vars='SHELL
PATH_SEPARATOR
PACKAGE_NAME
PACKAGE_TARNAME
PACKAGE_VERSION
PACKAGE_STRING
PACKAGE_BUGREPORT
exec_prefix
prefix
program_transform_name
bindir
sbindir
libexecdir
datarootdir
datadir
sysconfdir
sharedstatedir
localstatedir
includedir
oldincludedir
docdir
infodir
htmldir
dvidir
pdfdir
psdir
libdir
localedir
mandir
DEFS
ECHO_C
ECHO_N
ECHO_T
LIBS
build_alias
host_alias
target_alias
CC
CFLAGS
LDFLAGS
CPPFLAGS
ac_ct_CC
EXEEXT
OBJEXT
RANLIB
INSTALL_PROGRAM
INSTALL_SCRIPT
INSTALL_DATA
AR
AS
CPP
GREP
EGREP
SRCDIR
CROSS_COMPILE
ALSAKERNELDIR
kaversion
kversion
kpatchlevel
ksublevel
kextraversion
NEW_KBUILD
CONFIG_SND_KERNELDIR
MAKE_ADDS
CONFIG_EXPERIMENTAL
moddir
modsubdir
moddir_tree
CONFIG_SGI
processor
ARCH
KLD
CONFIG_X86
CONFIG_X86_32
CONFIG_X86_64
CONFIG_ALPHA
CONFIG_L3
CONFIG_ARM
CONFIG_ARCH_SA1100
CONFIG_ARCH_PXA
CONFIG_PPC
CONFIG_SPARC32
CONFIG_SPARC64
CONFIG_SBUS
CONFIG_MIPS
CONFIG_ISA
CONFIG_ISA_DMA_API
CONFIG_PARISC
CONFIG_SUPERH
CONFIG_SUPERH64
CONFIG_SND_MVERSION
CONFIG_PCI
CONFIG_I2C
CONFIG_FW_LOADER
CONFIG_INPUT
msmp
CONFIG_VIDEO_DEV
CONFIG_ISAPNP_KERNEL
CONFIG_PNP_KERNEL
CONFIG_ISAPNP
CONFIG_PNP
CONFIG_SND_VERSION
CONFIG_SND_DATE
CONFIG_RTC
CONFIG_HPET
CONFIG_PROC_FS
CONFIG_USB
CONFIG_SND_BIT32_EMUL
CONFIG_X86_PC
CONFIG_HIGH_RES_TIMERS
CONFIG_PCMCIA
CONFIG_X86_PC9800
CONFIG_PARPORT
CONFIG_PM
CONFIG_HAS_DMA
CONFIG_SOUND
CONFIG_HAS_IOMEM
CONFIG_SOUND_OSS_CORE
CONFIG_SOUND_OSS_CORE_PRECLAIM
CONFIG_M68K
CONFIG_SND
CONFIG_SND_TIMER
CONFIG_SND_PCM
CONFIG_GCD
CONFIG_SND_HWDEP
CONFIG_SND_RAWMIDI
CONFIG_SND_JACK
CONFIG_SND_SEQUENCER
CONFIG_SND_SEQ_DUMMY
CONFIG_SND_OSSEMUL
CONFIG_SND_MIXER_OSS
CONFIG_SND_PCM_OSS
CONFIG_SND_PCM_OSS_PLUGINS
CONFIG_SND_SEQUENCER_OSS
CONFIG_SND_HRTIMER
CONFIG_SND_SEQ_HRTIMER_DEFAULT
CONFIG_SND_RTCTIMER
CONFIG_SND_SEQ_RTCTIMER_DEFAULT
CONFIG_SND_DYNAMIC_MINORS
CONFIG_SND_SUPPORT_OLD_API
CONFIG_SND_VERBOSE_PROCFS
CONFIG_SND_VERBOSE_PRINTK
CONFIG_SND_DEBUG
CONFIG_SND_DEBUG_VERBOSE
CONFIG_SND_PCM_XRUN_DEBUG
CONFIG_SND_VMASTER
CONFIG_SND_DMA_SGBUF
CONFIG_SND_RAWMIDI_SEQ
CONFIG_SND_OPL3_LIB_SEQ
CONFIG_SND_OPL3_LIB
CONFIG_SND_OPL4_LIB_SEQ
CONFIG_SND_OPL4_LIB
CONFIG_SND_SBAWE_SEQ
CONFIG_SND_SBAWE
CONFIG_SND_EMU10K1_SEQ
CONFIG_SND_EMU10K1
CONFIG_SND_DEBUG_MEMORY
CONFIG_SND_HPET
CONFIG_BROKEN
CONFIG_SND_MPU401_UART
CONFIG_SND_VX_LIB
CONFIG_SND_AC97_CODEC
CONFIG_SND_DRIVERS
CONFIG_SND_PCSP
CONFIG_PCSPKR_PLATFORM
CONFIG_SND_DUMMY
CONFIG_SND_VIRMIDI
CONFIG_SND_MTPAV
CONFIG_SND_MTS64
CONFIG_SND_SERIAL_U16550
CONFIG_SND_MPU401
CONFIG_SND_PORTMAN2X4
CONFIG_SND_ML403_AC97CR
CONFIG_XILINX_VIRTEX
CONFIG_SND_AC97_POWER_SAVE
CONFIG_SND_AC97_POWER_SAVE_DEFAULT
CONFIG_SND_SERIALMIDI
CONFIG_SND_LOOPBACK
CONFIG_SND_WSS_LIB
CONFIG_SND_SB_COMMON
CONFIG_SND_SB8_DSP
CONFIG_SND_SB16_DSP
CONFIG_SND_ISA
CONFIG_SND_ADLIB
CONFIG_SND_AD1816A
CONFIG_SND_AD1848
CONFIG_SND_ALS100
CONFIG_SND_AZT2320
CONFIG_SND_CMI8330
CONFIG_SND_CS4231
CONFIG_SND_CS4236
CONFIG_SND_ES968
CONFIG_SND_ES1688
CONFIG_SND_ES18XX
CONFIG_SND_SC6000
CONFIG_HAS_IOPORT
CONFIG_SND_GUSCLASSIC
CONFIG_SND_GUSEXTREME
CONFIG_SND_GUSMAX
CONFIG_SND_INTERWAVE
CONFIG_SND_INTERWAVE_STB
CONFIG_SND_JAZZ16
CONFIG_SND_OPL3SA2
CONFIG_SND_OPTI92X_AD1848
CONFIG_SND_OPTI92X_CS4231
CONFIG_SND_OPTI93X
CONFIG_SND_MIRO
CONFIG_SND_SB8
CONFIG_SND_SB16
CONFIG_SND_SB16_CSP
CONFIG_SND_SGALAXY
CONFIG_SND_SSCAPE
CONFIG_SND_WAVEFRONT
CONFIG_SND_MSND_PINNACLE
CONFIG_SND_MSND_CLASSIC
CONFIG_SND_PC98_CS4232
CONFIG_SND_PCI
CONFIG_SND_AD1889
CONFIG_SND_ALS300
CONFIG_SND_ALS4000
CONFIG_SND_ALI5451
CONFIG_SND_ATIIXP
CONFIG_SND_ATIIXP_MODEM
CONFIG_SND_AU8810
CONFIG_SND_AU8820
CONFIG_SND_AU8830
CONFIG_SND_AW2
CONFIG_SND_AZT3328
CONFIG_SND_BT87X
CONFIG_SND_BT87X_OVERCLOCK
CONFIG_SND_CA0106
CONFIG_SND_CMIPCI
CONFIG_SND_OXYGEN_LIB
CONFIG_SND_OXYGEN
CONFIG_SND_CS4281
CONFIG_SND_CS46XX
CONFIG_SND_CS46XX_NEW_DSP
CONFIG_SND_CS5530
CONFIG_SND_CS5535AUDIO
CONFIG_SND_CTXFI
CONFIG_SND_DARLA20
CONFIG_SND_GINA20
CONFIG_SND_LAYLA20
CONFIG_SND_DARLA24
CONFIG_SND_GINA24
CONFIG_SND_LAYLA24
CONFIG_SND_MONA
CONFIG_SND_MIA
CONFIG_SND_ECHO3G
CONFIG_SND_INDIGO
CONFIG_SND_INDIGOIO
CONFIG_SND_INDIGODJ
CONFIG_SND_INDIGOIOX
CONFIG_SND_INDIGODJX
CONFIG_SND_EMU10K1X
CONFIG_SND_ENS1370
CONFIG_SND_ENS1371
CONFIG_SND_ES1938
CONFIG_SND_ES1968
CONFIG_SND_FM801
CONFIG_SND_FM801_TEA575X_BOOL
CONFIG_VIDEO_V4L2
CONFIG_SND_FM801_TEA575X
CONFIG_SND_HDA_INTEL
CONFIG_SND_HDA_HWDEP
CONFIG_SND_HDA_RECONFIG
CONFIG_SND_HDA_INPUT_BEEP
CONFIG_SND_HDA_INPUT_BEEP_MODE
CONFIG_SND_HDA_INPUT_JACK
CONFIG_SND_HDA_PATCH_LOADER
CONFIG_SND_HDA_CODEC_REALTEK
CONFIG_SND_HDA_CODEC_ANALOG
CONFIG_SND_HDA_CODEC_SIGMATEL
CONFIG_SND_HDA_CODEC_VIA
CONFIG_SND_HDA_CODEC_ATIHDMI
CONFIG_SND_HDA_CODEC_NVHDMI
CONFIG_SND_HDA_CODEC_INTELHDMI
CONFIG_SND_HDA_ELD
CONFIG_SND_HDA_CODEC_CIRRUS
CONFIG_SND_HDA_CODEC_CONEXANT
CONFIG_SND_HDA_CODEC_CA0110
CONFIG_SND_HDA_CODEC_CMEDIA
CONFIG_SND_HDA_CODEC_SI3054
CONFIG_SND_HDA_GENERIC
CONFIG_SND_HDA_POWER_SAVE
CONFIG_SND_HDA_POWER_SAVE_DEFAULT
CONFIG_SND_HDSP
CONFIG_SND_HDSPM
CONFIG_SND_HIFIER
CONFIG_SND_ICE1712
CONFIG_BITREVERSE
CONFIG_SND_ICE1724
CONFIG_SND_INTEL8X0
CONFIG_SND_INTEL8X0M
CONFIG_SND_KORG1212
CONFIG_SND_LX6464ES
CONFIG_SND_MAESTRO3
CONFIG_SND_MIXART
CONFIG_SND_NM256
CONFIG_SND_PCXHR
CONFIG_SND_RIPTIDE
CONFIG_SND_RME32
CONFIG_SND_RME96
CONFIG_SND_RME9652
CONFIG_SND_SIS7019
CONFIG_SND_SONICVIBES
CONFIG_SND_TRIDENT
CONFIG_SND_VIA82XX
CONFIG_SND_VIA82XX_MODEM
CONFIG_SND_VIRTUOSO
CONFIG_SND_VX222
CONFIG_SND_YMFPCI
CONFIG_SND_PDPLUS
CONFIG_SND_ASIHPI
CONFIG_SND_PPC
CONFIG_SND_POWERMAC
CONFIG_PPC_PMAC
CONFIG_SND_POWERMAC_AUTO_DRC
CONFIG_SND_PS3
CONFIG_PS3_PS3AV
CONFIG_SND_PS3_DEFAULT_START_DELAY
CONFIG_SND_AOA
CONFIG_SND_AOA_FABRIC_LAYOUT
CONFIG_SND_AOA_ONYX
CONFIG_I2C_POWERMAC
CONFIG_SND_AOA_TAS
CONFIG_SND_AOA_TOONIE
CONFIG_SND_AOA_SOUNDBUS
CONFIG_SND_AOA_SOUNDBUS_I2S
CONFIG_SND_ARM
CONFIG_SND_ARMAACI
CONFIG_ARM_AMBA
CONFIG_SND_PXA2XX_PCM
CONFIG_SND_PXA2XX_LIB
CONFIG_SND_PXA2XX_LIB_AC97
CONFIG_SND_PXA2XX_AC97
CONFIG_SND_SA11XX_UDA1341
CONFIG_SND_S3C2410
CONFIG_ARCH_S3C2410
CONFIG_I2C_SENSOR
CONFIG_SND_PXA2XX_I2SOUND
CONFIG_AVR32
CONFIG_ARCH_AT91
CONFIG_SND_ATMEL_ABDAC
CONFIG_DW_DMAC
CONFIG_SND_ATMEL_AC97C
CONFIG_SND_SPI
CONFIG_SPI
CONFIG_SND_AT73C213
CONFIG_ATMEL_SSC
CONFIG_SND_AT73C213_TARGET_BITRATE
CONFIG_SND_MIPS
CONFIG_SND_SGI_O2
CONFIG_SGI_IP32
CONFIG_SND_SGI_HAL2
CONFIG_SGI_HAS_HAL2
CONFIG_SND_AU1X00
CONFIG_SOC_AU1000
CONFIG_SOC_AU1100
CONFIG_SOC_AU1500
CONFIG_SND_SUPERH
CONFIG_SND_AICA
CONFIG_SH_DREAMCAST
CONFIG_G2_DMA
CONFIG_SND_SH_DAC_AUDIO
CONFIG_CPU_SH3
CONFIG_SND_USB
CONFIG_SND_USB_AUDIO
CONFIG_SND_USB_UA101
CONFIG_SND_USB_USX2Y
CONFIG_SND_USB_CAIAQ
CONFIG_SND_USB_CAIAQ_INPUT
CONFIG_SND_USB_US122L
CONFIG_SND_PCMCIA
CONFIG_SND_VXPOCKET
CONFIG_SND_PDAUDIOCF
CONFIG_SND_SPARC
CONFIG_SPARC
CONFIG_SND_SUN_AMD7930
CONFIG_SND_SUN_CS4231
CONFIG_SND_SUN_DBRI
CONFIG_SND_GSC
CONFIG_GSC
CONFIG_SND_HARMONY
CONFIG_SND_SOC
CONFIG_SND_SOC_AC97_BUS
CONFIG_SND_ATMEL_SOC
CONFIG_SND_ATMEL_SOC_SSC
CONFIG_SND_AT91_SOC_SAM9G20_WM8731
CONFIG_ARCH_AT91SAM9G20
CONFIG_SND_AT32_SOC_PLAYPAQ
CONFIG_BOARD_PLAYPAQ
CONFIG_SND_AT32_SOC_PLAYPAQ_SLAVE
CONFIG_SND_AT91_SOC_AFEB9260
CONFIG_MACH_AFEB9260
CONFIG_SND_SOC_AU1XPSC
CONFIG_SOC_AU1200
CONFIG_SOC_AU1550
CONFIG_SND_SOC_AU1XPSC_I2S
CONFIG_SND_SOC_AU1XPSC_AC97
CONFIG_SND_SOC_SAMPLE_PSC_AC97
CONFIG_SND_BF5XX_I2S
CONFIG_BLACKFIN
CONFIG_SND_BF5XX_SOC_SSM2602
CONFIG_SND_BF5XX_SOC_AD73311
CONFIG_SND_BFIN_AD73311_SE
CONFIG_SND_BF5XX_TDM
CONFIG_SND_BF5XX_SOC_AD1836
CONFIG_SND_BF5XX_SOC_AD1938
CONFIG_SND_BF5XX_AC97
CONFIG_SND_BF5XX_MMAP_SUPPORT
CONFIG_SND_BF5XX_MULTICHAN_SUPPORT
CONFIG_SND_BF5XX_HAVE_COLD_RESET
CONFIG_SND_BF5XX_RESET_GPIO_NUM
CONFIG_SND_BF5XX_SOC_AD1980
CONFIG_SND_BF5XX_SOC_SPORT
CONFIG_SND_BF5XX_SOC_I2S
CONFIG_SND_BF5XX_SOC_TDM
CONFIG_SND_BF5XX_SOC_AC97
CONFIG_SND_BF5XX_SPORT_NUM
CONFIG_SND_DAVINCI_SOC
CONFIG_ARCH_DAVINCI
CONFIG_SND_DAVINCI_SOC_I2S
CONFIG_SND_DAVINCI_SOC_MCASP
CONFIG_SND_DAVINCI_SOC_EVM
CONFIG_MACH_DAVINCI_EVM
CONFIG_MACH_DAVINCI_DM355_EVM
CONFIG_MACH_DAVINCI_DM365_EVM
CONFIG_SND_DM6467_SOC_EVM
CONFIG_MACH_DAVINCI_DM6467_EVM
CONFIG_SND_DAVINCI_SOC_SFFSDR
CONFIG_MACH_SFFSDR
CONFIG_SFFSDR_FPGA
CONFIG_SND_DA830_SOC_EVM
CONFIG_MACH_DAVINCI_DA830_EVM
CONFIG_SND_DA850_SOC_EVM
CONFIG_MACH_DAVINCI_DA850_EVM
CONFIG_SND_SOC_OF_SIMPLE
CONFIG_SND_MPC52XX_DMA
CONFIG_SND_SOC_MPC8610
CONFIG_MPC8610
CONFIG_SND_SOC_MPC8610_HPCD
CONFIG_MPC8610_HPCD
CONFIG_SND_SOC_MPC5200_I2S
CONFIG_PPC_MPC52XX
CONFIG_PPC_BESTCOMM
CONFIG_PPC_BESTCOMM_GEN_BD
CONFIG_SND_SOC_MPC5200_AC97
CONFIG_SND_MPC52XX_SOC_PCM030
CONFIG_PPC_MPC5200_SIMPLE
CONFIG_SND_MPC52XX_SOC_EFIKA
CONFIG_PPC_EFIKA
CONFIG_SND_MX1_MX2_SOC
CONFIG_ARCH_MX2
CONFIG_ARCH_MX1
CONFIG_SND_MXC_SOC_SSI
CONFIG_SND_SOC_MX27VIS_WM8974
CONFIG_MACH_MX27
CONFIG_MACH_IMX27_VISSTRIM_M10
CONFIG_SND_OMAP_SOC
CONFIG_ARCH_OMAP
CONFIG_SND_OMAP_SOC_MCBSP
CONFIG_OMAP_MCBSP
CONFIG_SND_OMAP_SOC_N810
CONFIG_MACH_NOKIA_N810
CONFIG_OMAP_MUX
CONFIG_SND_OMAP_SOC_AMS_DELTA
CONFIG_MACH_AMS_DELTA
CONFIG_SND_OMAP_SOC_OSK5912
CONFIG_MACH_OMAP_OSK
CONFIG_SND_OMAP_SOC_OVERO
CONFIG_TWL4030_CORE
CONFIG_MACH_OVERO
CONFIG_MACH_CM_T35
CONFIG_SND_OMAP_SOC_OMAP2EVM
CONFIG_MACH_OMAP2EVM
CONFIG_SND_OMAP_SOC_OMAP3EVM
CONFIG_MACH_OMAP3EVM
CONFIG_SND_OMAP_SOC_AM3517EVM
CONFIG_MACH_OMAP3517EVM
CONFIG_SND_OMAP_SOC_SDP3430
CONFIG_MACH_OMAP_3430SDP
CONFIG_SND_OMAP_SOC_OMAP3_PANDORA
CONFIG_MACH_OMAP3_PANDORA
CONFIG_SND_OMAP_SOC_OMAP3_BEAGLE
CONFIG_MACH_OMAP3_BEAGLE
CONFIG_SND_OMAP_SOC_ZOOM2
CONFIG_MACH_OMAP_ZOOM2
CONFIG_SND_OMAP_SOC_IGEP0020
CONFIG_MACH_IGEP0020
CONFIG_SND_PXA2XX_SOC
CONFIG_SND_PXA2XX_SOC_AC97
CONFIG_SND_PXA2XX_SOC_I2S
CONFIG_SND_PXA_SOC_SSP
CONFIG_SND_PXA2XX_SOC_CORGI
CONFIG_PXA_SHARP_C7XX
CONFIG_SND_PXA2XX_SOC_SPITZ
CONFIG_PXA_SHARP_CXX00
CONFIG_SND_PXA2XX_SOC_POODLE
CONFIG_MACH_POODLE
CONFIG_SND_PXA2XX_SOC_TOSA
CONFIG_MACH_TOSA
CONFIG_MFD_TC6393XB
CONFIG_SND_PXA2XX_SOC_E740
CONFIG_MACH_E740
CONFIG_SND_PXA2XX_SOC_E750
CONFIG_MACH_E750
CONFIG_SND_PXA2XX_SOC_E800
CONFIG_MACH_E800
CONFIG_SND_PXA2XX_SOC_EM_X270
CONFIG_MACH_EM_X270
CONFIG_MACH_EXEDA
CONFIG_MACH_CM_X300
CONFIG_SND_PXA2XX_SOC_PALM27X
CONFIG_MACH_PALMLD
CONFIG_MACH_PALMTX
CONFIG_MACH_PALMT5
CONFIG_MACH_PALMTE2
CONFIG_SND_SOC_ZYLONITE
CONFIG_MACH_ZYLONITE
CONFIG_SND_SOC_RAUMFELD
CONFIG_MACH_RAUMFELD_SPEAKER
CONFIG_MACH_RAUMFELD_CONNECTOR
CONFIG_SND_PXA2XX_SOC_MAGICIAN
CONFIG_MACH_MAGICIAN
CONFIG_SND_PXA2XX_SOC_MIOA701
CONFIG_MACH_MIOA701
CONFIG_SND_PXA2XX_SOC_IMOTE2
CONFIG_SND_S3C24XX_SOC
CONFIG_ARCH_S3C64XX
CONFIG_S3C64XX_DMA
CONFIG_SND_S3C24XX_SOC_I2S
CONFIG_S3C2410_DMA
CONFIG_SND_S3C_I2SV2_SOC
CONFIG_SND_S3C2412_SOC_I2S
CONFIG_SND_S3C64XX_SOC_I2S
CONFIG_SND_S3C_SOC_PCM
CONFIG_SND_S3C2443_SOC_AC97
CONFIG_SND_S3C24XX_SOC_NEO1973_WM8753
CONFIG_MACH_NEO1973_GTA01
CONFIG_SND_S3C24XX_SOC_NEO1973_GTA02_WM8753
CONFIG_MACH_NEO1973_GTA02
CONFIG_SND_S3C24XX_SOC_JIVE_WM8750
CONFIG_MACH_JIVE
CONFIG_SND_S3C64XX_SOC_WM8580
CONFIG_MACH_SMDK6400
CONFIG_MACH_SMDK6410
CONFIG_SND_S3C24XX_SOC_SMDK2443_WM9710
CONFIG_MACH_SMDK2443
CONFIG_SND_S3C24XX_SOC_LN2440SBC_ALC650
CONFIG_SND_S3C24XX_SOC_S3C24XX_UDA134X
CONFIG_SND_S3C24XX_SOC_SIMTEC
CONFIG_SND_S3C24XX_SOC_SIMTEC_TLV320AIC23
CONFIG_SND_S3C24XX_SOC_SIMTEC_HERMES
CONFIG_SND_S6000_SOC
CONFIG_XTENSA_VARIANT_S6000
CONFIG_SND_S6000_SOC_I2S
CONFIG_SND_S6000_SOC_S6IPCAM
CONFIG_XTENSA_PLATFORM_S6105
CONFIG_SND_SOC_PCM_SH7760
CONFIG_CPU_SUBTYPE_SH7760
CONFIG_SH_DMABRG
CONFIG_SND_SOC_SH4_HAC
CONFIG_SND_SOC_SH4_SSI
CONFIG_SND_SOC_SH4_FSI
CONFIG_CPU_SUBTYPE_SH7724
CONFIG_SND_SH7760_AC97
CONFIG_SND_FSI_AK4642
CONFIG_SND_FSI_DA7210
CONFIG_SND_SOC_TXX9ACLC
CONFIG_HAS_TXX9_ACLC
CONFIG_TXX9_DMAC
CONFIG_SND_SOC_TXX9ACLC_AC97
CONFIG_SND_SOC_TXX9ACLC_GENERIC
CONFIG_SND_SOC_I2C_AND_SPI
CONFIG_SND_SOC_ALL_CODECS
CONFIG_SND_SOC_WM_HUBS
CONFIG_SND_SOC_AC97_CODEC
CONFIG_SND_SOC_AD1836
CONFIG_SND_SOC_AD1938
CONFIG_SND_SOC_AD1980
CONFIG_SND_SOC_AD73311
CONFIG_SND_SOC_ADS117X
CONFIG_SND_SOC_AK4104
CONFIG_SND_SOC_AK4535
CONFIG_SND_SOC_AK4642
CONFIG_SND_SOC_AK4671
CONFIG_SND_SOC_CS4270
CONFIG_SND_SOC_DA7210
CONFIG_SND_SOC_CS4270_VD33_ERRATA
CONFIG_SND_SOC_CX20442
CONFIG_SND_SOC_L3
CONFIG_SND_SOC_PCM3008
CONFIG_SND_SOC_SPDIF
CONFIG_SND_SOC_SSM2602
CONFIG_SND_SOC_STAC9766
CONFIG_SND_SOC_TLV320AIC23
CONFIG_SND_SOC_TLV320AIC26
CONFIG_SND_SOC_TLV320AIC3X
CONFIG_SND_SOC_TLV320DAC33
CONFIG_SND_SOC_TWL4030
CONFIG_TWL4030_CODEC
CONFIG_SND_SOC_UDA134X
CONFIG_SND_SOC_UDA1380
CONFIG_SND_SOC_WM8350
CONFIG_SND_SOC_WM8400
CONFIG_SND_SOC_WM8510
CONFIG_SND_SOC_WM8523
CONFIG_SND_SOC_WM8580
CONFIG_SND_SOC_WM8711
CONFIG_SND_SOC_WM8727
CONFIG_SND_SOC_WM8728
CONFIG_SND_SOC_WM8731
CONFIG_SND_SOC_WM8750
CONFIG_SND_SOC_WM8753
CONFIG_SND_SOC_WM8776
CONFIG_SND_SOC_WM8900
CONFIG_SND_SOC_WM8903
CONFIG_SND_SOC_WM8904
CONFIG_SND_SOC_WM8940
CONFIG_SND_SOC_WM8955
CONFIG_SND_SOC_WM8960
CONFIG_SND_SOC_WM8961
CONFIG_SND_SOC_WM8971
CONFIG_SND_SOC_WM8974
CONFIG_SND_SOC_WM8988
CONFIG_SND_SOC_WM8990
CONFIG_SND_SOC_WM8993
CONFIG_SND_SOC_WM9081
CONFIG_SND_SOC_WM9705
CONFIG_SND_SOC_WM9712
CONFIG_SND_SOC_WM9713
CONFIG_SND_SOC_MAX9877
CONFIG_SND_SOC_TPA6130A2
CONFIG_SOUND_PRIME
CONFIG_AC97_BUS
c_opts
m_opts
GENKSYMS
EXTRA_INCLUDES
KERNEL_INC
LIBOBJS
LTLIBOBJS'
ac_subst_files=''
      ac_precious_vars='build_alias
host_alias
target_alias
CC
CFLAGS
LDFLAGS
CPPFLAGS
CPP'


# Initialize some variables set by options.
ac_init_help=
ac_init_version=false
# The variables have the same names as the options, with
# dashes changed to underlines.
cache_file=/dev/null
exec_prefix=NONE
no_create=
no_recursion=
prefix=NONE
program_prefix=NONE
program_suffix=NONE
program_transform_name=s,x,x,
silent=
site=
srcdir=
verbose=
x_includes=NONE
x_libraries=NONE

# Installation directory options.
# These are left unexpanded so users can "make install exec_prefix=/foo"
# and all the variables that are supposed to be based on exec_prefix
# by default will actually change.
# Use braces instead of parens because sh, perl, etc. also accept them.
# (The list follows the same order as the GNU Coding Standards.)
bindir='${exec_prefix}/bin'
sbindir='${exec_prefix}/sbin'
libexecdir='${exec_prefix}/libexec'
datarootdir='${prefix}/share'
datadir='${datarootdir}'
sysconfdir='${prefix}/etc'
sharedstatedir='${prefix}/com'
localstatedir='${prefix}/var'
includedir='${prefix}/include'
oldincludedir='/usr/include'
docdir='${datarootdir}/doc/${PACKAGE}'
infodir='${datarootdir}/info'
htmldir='${docdir}'
dvidir='${docdir}'
pdfdir='${docdir}'
psdir='${docdir}'
libdir='${exec_prefix}/lib'
localedir='${datarootdir}/locale'
mandir='${datarootdir}/man'

ac_prev=
ac_dashdash=
for ac_option
do
  # If the previous option needs an argument, assign it.
  if test -n "$ac_prev"; then
    eval $ac_prev=\$ac_option
    ac_prev=
    continue
  fi

  case $ac_option in
  *=*)	ac_optarg=`expr "X$ac_option" : '[^=]*=\(.*\)'` ;;
  *)	ac_optarg=yes ;;
  esac

  # Accept the important Cygnus configure options, so we can diagnose typos.

  case $ac_dashdash$ac_option in
  --)
    ac_dashdash=yes ;;

  -bindir | --bindir | --bindi | --bind | --bin | --bi)
    ac_prev=bindir ;;
  -bindir=* | --bindir=* | --bindi=* | --bind=* | --bin=* | --bi=*)
    bindir=$ac_optarg ;;

  -build | --build | --buil | --bui | --bu)
    ac_prev=build_alias ;;
  -build=* | --build=* | --buil=* | --bui=* | --bu=*)
    build_alias=$ac_optarg ;;

  -cache-file | --cache-file | --cache-fil | --cache-fi \
  | --cache-f | --cache- | --cache | --cach | --cac | --ca | --c)
    ac_prev=cache_file ;;
  -cache-file=* | --cache-file=* | --cache-fil=* | --cache-fi=* \
  | --cache-f=* | --cache-=* | --cache=* | --cach=* | --cac=* | --ca=* | --c=*)
    cache_file=$ac_optarg ;;

  --config-cache | -C)
    cache_file=config.cache ;;

  -datadir | --datadir | --datadi | --datad)
    ac_prev=datadir ;;
  -datadir=* | --datadir=* | --datadi=* | --datad=*)
    datadir=$ac_optarg ;;

  -datarootdir | --datarootdir | --datarootdi | --datarootd | --dataroot \
  | --dataroo | --dataro | --datar)
    ac_prev=datarootdir ;;
  -datarootdir=* | --datarootdir=* | --datarootdi=* | --datarootd=* \
  | --dataroot=* | --dataroo=* | --dataro=* | --datar=*)
    datarootdir=$ac_optarg ;;

  -disable-* | --disable-*)
    ac_feature=`expr "x$ac_option" : 'x-*disable-\(.*\)'`
    # Reject names that are not valid shell variable names.
    expr "x$ac_feature" : ".*[^-_$as_cr_alnum]" >/dev/null &&
      { echo "$as_me: error: invalid feature name: $ac_feature" >&2
   { (exit 1); exit 1; }; }
    ac_feature=`echo $ac_feature | sed 's/-/_/g'`
    eval enable_$ac_feature=no ;;

  -docdir | --docdir | --docdi | --doc | --do)
    ac_prev=docdir ;;
  -docdir=* | --docdir=* | --docdi=* | --doc=* | --do=*)
    docdir=$ac_optarg ;;

  -dvidir | --dvidir | --dvidi | --dvid | --dvi | --dv)
    ac_prev=dvidir ;;
  -dvidir=* | --dvidir=* | --dvidi=* | --dvid=* | --dvi=* | --dv=*)
    dvidir=$ac_optarg ;;

  -enable-* | --enable-*)
    ac_feature=`expr "x$ac_option" : 'x-*enable-\([^=]*\)'`
    # Reject names that are not valid shell variable names.
    expr "x$ac_feature" : ".*[^-_$as_cr_alnum]" >/dev/null &&
      { echo "$as_me: error: invalid feature name: $ac_feature" >&2
   { (exit 1); exit 1; }; }
    ac_feature=`echo $ac_feature | sed 's/-/_/g'`
    eval enable_$ac_feature=\$ac_optarg ;;

  -exec-prefix | --exec_prefix | --exec-prefix | --exec-prefi \
  | --exec-pref | --exec-pre | --exec-pr | --exec-p | --exec- \
  | --exec | --exe | --ex)
    ac_prev=exec_prefix ;;
  -exec-prefix=* | --exec_prefix=* | --exec-prefix=* | --exec-prefi=* \
  | --exec-pref=* | --exec-pre=* | --exec-pr=* | --exec-p=* | --exec-=* \
  | --exec=* | --exe=* | --ex=*)
    exec_prefix=$ac_optarg ;;

  -gas | --gas | --ga | --g)
    # Obsolete; use --with-gas.
    with_gas=yes ;;

  -help | --help | --hel | --he | -h)
    ac_init_help=long ;;
  -help=r* | --help=r* | --hel=r* | --he=r* | -hr*)
    ac_init_help=recursive ;;
  -help=s* | --help=s* | --hel=s* | --he=s* | -hs*)
    ac_init_help=short ;;

  -host | --host | --hos | --ho)
    ac_prev=host_alias ;;
  -host=* | --host=* | --hos=* | --ho=*)
    host_alias=$ac_optarg ;;

  -htmldir | --htmldir | --htmldi | --htmld | --html | --htm | --ht)
    ac_prev=htmldir ;;
  -htmldir=* | --htmldir=* | --htmldi=* | --htmld=* | --html=* | --htm=* \
  | --ht=*)
    htmldir=$ac_optarg ;;

  -includedir | --includedir | --includedi | --included | --include \
  | --includ | --inclu | --incl | --inc)
    ac_prev=includedir ;;
  -includedir=* | --includedir=* | --includedi=* | --included=* | --include=* \
  | --includ=* | --inclu=* | --incl=* | --inc=*)
    includedir=$ac_optarg ;;

  -infodir | --infodir | --infodi | --infod | --info | --inf)
    ac_prev=infodir ;;
  -infodir=* | --infodir=* | --infodi=* | --infod=* | --info=* | --inf=*)
    infodir=$ac_optarg ;;

  -libdir | --libdir | --libdi | --libd)
    ac_prev=libdir ;;
  -libdir=* | --libdir=* | --libdi=* | --libd=*)
    libdir=$ac_optarg ;;

  -libexecdir | --libexecdir | --libexecdi | --libexecd | --libexec \
  | --libexe | --libex | --libe)
    ac_prev=libexecdir ;;
  -libexecdir=* | --libexecdir=* | --libexecdi=* | --libexecd=* | --libexec=* \
  | --libexe=* | --libex=* | --libe=*)
    libexecdir=$ac_optarg ;;

  -localedir | --localedir | --localedi | --localed | --locale)
    ac_prev=localedir ;;
  -localedir=* | --localedir=* | --localedi=* | --localed=* | --locale=*)
    localedir=$ac_optarg ;;

  -localstatedir | --localstatedir | --localstatedi | --localstated \
  | --localstate | --localstat | --localsta | --localst | --locals)
    ac_prev=localstatedir ;;
  -localstatedir=* | --localstatedir=* | --localstatedi=* | --localstated=* \
  | --localstate=* | --localstat=* | --localsta=* | --localst=* | --locals=*)
    localstatedir=$ac_optarg ;;

  -mandir | --mandir | --mandi | --mand | --man | --ma | --m)
    ac_prev=mandir ;;
  -mandir=* | --mandir=* | --mandi=* | --mand=* | --man=* | --ma=* | --m=*)
    mandir=$ac_optarg ;;

  -nfp | --nfp | --nf)
    # Obsolete; use --without-fp.
    with_fp=no ;;

  -no-create | --no-create | --no-creat | --no-crea | --no-cre \
  | --no-cr | --no-c | -n)
    no_create=yes ;;

  -no-recursion | --no-recursion | --no-recursio | --no-recursi \
  | --no-recurs | --no-recur | --no-recu | --no-rec | --no-re | --no-r)
    no_recursion=yes ;;

  -oldincludedir | --oldincludedir | --oldincludedi | --oldincluded \
  | --oldinclude | --oldinclud | --oldinclu | --oldincl | --oldinc \
  | --oldin | --oldi | --old | --ol | --o)
    ac_prev=oldincludedir ;;
  -oldincludedir=* | --oldincludedir=* | --oldincludedi=* | --oldincluded=* \
  | --oldinclude=* | --oldinclud=* | --oldinclu=* | --oldincl=* | --oldinc=* \
  | --oldin=* | --oldi=* | --old=* | --ol=* | --o=*)
    oldincludedir=$ac_optarg ;;

  -prefix | --prefix | --prefi | --pref | --pre | --pr | --p)
    ac_prev=prefix ;;
  -prefix=* | --prefix=* | --prefi=* | --pref=* | --pre=* | --pr=* | --p=*)
    prefix=$ac_optarg ;;

  -program-prefix | --program-prefix | --program-prefi | --program-pref \
  | --program-pre | --program-pr | --program-p)
    ac_prev=program_prefix ;;
  -program-prefix=* | --program-prefix=* | --program-prefi=* \
  | --program-pref=* | --program-pre=* | --program-pr=* | --program-p=*)
    program_prefix=$ac_optarg ;;

  -program-suffix | --program-suffix | --program-suffi | --program-suff \
  | --program-suf | --program-su | --program-s)
    ac_prev=program_suffix ;;
  -program-suffix=* | --program-suffix=* | --program-suffi=* \
  | --program-suff=* | --program-suf=* | --program-su=* | --program-s=*)
    program_suffix=$ac_optarg ;;

  -program-transform-name | --program-transform-name \
  | --program-transform-nam | --program-transform-na \
  | --program-transform-n | --program-transform- \
  | --program-transform | --program-transfor \
  | --program-transfo | --program-transf \
  | --program-trans | --program-tran \
  | --progr-tra | --program-tr | --program-t)
    ac_prev=program_transform_name ;;
  -program-transform-name=* | --program-transform-name=* \
  | --program-transform-nam=* | --program-transform-na=* \
  | --program-transform-n=* | --program-transform-=* \
  | --program-transform=* | --program-transfor=* \
  | --program-transfo=* | --program-transf=* \
  | --program-trans=* | --program-tran=* \
  | --progr-tra=* | --program-tr=* | --program-t=*)
    program_transform_name=$ac_optarg ;;

  -pdfdir | --pdfdir | --pdfdi | --pdfd | --pdf | --pd)
    ac_prev=pdfdir ;;
  -pdfdir=* | --pdfdir=* | --pdfdi=* | --pdfd=* | --pdf=* | --pd=*)
    pdfdir=$ac_optarg ;;

  -psdir | --psdir | --psdi | --psd | --ps)
    ac_prev=psdir ;;
  -psdir=* | --psdir=* | --psdi=* | --psd=* | --ps=*)
    psdir=$ac_optarg ;;

  -q | -quiet | --quiet | --quie | --qui | --qu | --q \
  | -silent | --silent | --silen | --sile | --sil)
    silent=yes ;;

  -sbindir | --sbindir | --sbindi | --sbind | --sbin | --sbi | --sb)
    ac_prev=sbindir ;;
  -sbindir=* | --sbindir=* | --sbindi=* | --sbind=* | --sbin=* \
  | --sbi=* | --sb=*)
    sbindir=$ac_optarg ;;

  -sharedstatedir | --sharedstatedir | --sharedstatedi \
  | --sharedstated | --sharedstate | --sharedstat | --sharedsta \
  | --sharedst | --shareds | --shared | --share | --shar \
  | --sha | --sh)
    ac_prev=sharedstatedir ;;
  -sharedstatedir=* | --sharedstatedir=* | --sharedstatedi=* \
  | --sharedstated=* | --sharedstate=* | --sharedstat=* | --sharedsta=* \
  | --sharedst=* | --shareds=* | --shared=* | --share=* | --shar=* \
  | --sha=* | --sh=*)
    sharedstatedir=$ac_optarg ;;

  -site | --site | --sit)
    ac_prev=site ;;
  -site=* | --site=* | --sit=*)
    site=$ac_optarg ;;

  -srcdir | --srcdir | --srcdi | --srcd | --src | --sr)
    ac_prev=srcdir ;;
  -srcdir=* | --srcdir=* | --srcdi=* | --srcd=* | --src=* | --sr=*)
    srcdir=$ac_optarg ;;

  -sysconfdir | --sysconfdir | --sysconfdi | --sysconfd | --sysconf \
  | --syscon | --sysco | --sysc | --sys | --sy)
    ac_prev=sysconfdir ;;
  -sysconfdir=* | --sysconfdir=* | --sysconfdi=* | --sysconfd=* | --sysconf=* \
  | --syscon=* | --sysco=* | --sysc=* | --sys=* | --sy=*)
    sysconfdir=$ac_optarg ;;

  -target | --target | --targe | --targ | --tar | --ta | --t)
    ac_prev=target_alias ;;
  -target=* | --target=* | --targe=* | --targ=* | --tar=* | --ta=* | --t=*)
    target_alias=$ac_optarg ;;

  -v | -verbose | --verbose | --verbos | --verbo | --verb)
    verbose=yes ;;

  -version | --version | --versio | --versi | --vers | -V)
    ac_init_version=: ;;

  -with-* | --with-*)
    ac_package=`expr "x$ac_option" : 'x-*with-\([^=]*\)'`
    # Reject names that are not valid shell variable names.
    expr "x$ac_package" : ".*[^-_$as_cr_alnum]" >/dev/null &&
      { echo "$as_me: error: invalid package name: $ac_package" >&2
   { (exit 1); exit 1; }; }
    ac_package=`echo $ac_package| sed 's/-/_/g'`
    eval with_$ac_package=\$ac_optarg ;;

  -without-* | --without-*)
    ac_package=`expr "x$ac_option" : 'x-*without-\(.*\)'`
    # Reject names that are not valid shell variable names.
    expr "x$ac_package" : ".*[^-_$as_cr_alnum]" >/dev/null &&
      { echo "$as_me: error: invalid package name: $ac_package" >&2
   { (exit 1); exit 1; }; }
    ac_package=`echo $ac_package | sed 's/-/_/g'`
    eval with_$ac_package=no ;;

  --x)
    # Obsolete; use --with-x.
    with_x=yes ;;

  -x-includes | --x-includes | --x-include | --x-includ | --x-inclu \
  | --x-incl | --x-inc | --x-in | --x-i)
    ac_prev=x_includes ;;
  -x-includes=* | --x-includes=* | --x-include=* | --x-includ=* | --x-inclu=* \
  | --x-incl=* | --x-inc=* | --x-in=* | --x-i=*)
    x_includes=$ac_optarg ;;

  -x-libraries | --x-libraries | --x-librarie | --x-librari \
  | --x-librar | --x-libra | --x-libr | --x-lib | --x-li | --x-l)
    ac_prev=x_libraries ;;
  -x-libraries=* | --x-libraries=* | --x-librarie=* | --x-librari=* \
  | --x-librar=* | --x-libra=* | --x-libr=* | --x-lib=* | --x-li=* | --x-l=*)
    x_libraries=$ac_optarg ;;

  -*) { echo "$as_me: error: unrecognized option: $ac_option
Try \`$0 --help' for more information." >&2
   { (exit 1); exit 1; }; }
    ;;

  *=*)
    ac_envvar=`expr "x$ac_option" : 'x\([^=]*\)='`
    # Reject names that are not valid shell variable names.
    expr "x$ac_envvar" : ".*[^_$as_cr_alnum]" >/dev/null &&
      { echo "$as_me: error: invalid variable name: $ac_envvar" >&2
   { (exit 1); exit 1; }; }
    eval $ac_envvar=\$ac_optarg
    export $ac_envvar ;;

  *)
    # FIXME: should be removed in autoconf 3.0.
    echo "$as_me: WARNING: you should use --build, --host, --target" >&2
    expr "x$ac_option" : ".*[^-._$as_cr_alnum]" >/dev/null &&
      echo "$as_me: WARNING: invalid host type: $ac_option" >&2
    : ${build_alias=$ac_option} ${host_alias=$ac_option} ${target_alias=$ac_option}
    ;;

  esac
done

if test -n "$ac_prev"; then
  ac_option=--`echo $ac_prev | sed 's/_/-/g'`
  { echo "$as_me: error: missing argument to $ac_option" >&2
   { (exit 1); exit 1; }; }
fi

# Be sure to have absolute directory names.
for ac_var in	exec_prefix prefix bindir sbindir libexecdir datarootdir \
		datadir sysconfdir sharedstatedir localstatedir includedir \
		oldincludedir docdir infodir htmldir dvidir pdfdir psdir \
		libdir localedir mandir
do
  eval ac_val=\$$ac_var
  case $ac_val in
    [\\/$]* | ?:[\\/]* )  continue;;
    NONE | '' ) case $ac_var in *prefix ) continue;; esac;;
  esac
  { echo "$as_me: error: expected an absolute directory name for --$ac_var: $ac_val" >&2
   { (exit 1); exit 1; }; }
done

# There might be people who depend on the old broken behavior: `$host'
# used to hold the argument of --host etc.
# FIXME: To remove some day.
build=$build_alias
host=$host_alias
target=$target_alias

# FIXME: To remove some day.
if test "x$host_alias" != x; then
  if test "x$build_alias" = x; then
    cross_compiling=maybe
    echo "$as_me: WARNING: If you wanted to set the --build type, don't use --host.
    If a cross compiler is detected then cross compile mode will be used." >&2
  elif test "x$build_alias" != "x$host_alias"; then
    cross_compiling=yes
  fi
fi

ac_tool_prefix=
test -n "$host_alias" && ac_tool_prefix=$host_alias-

test "$silent" = yes && exec 6>/dev/null


ac_pwd=`pwd` && test -n "$ac_pwd" &&
ac_ls_di=`ls -di .` &&
ac_pwd_ls_di=`cd "$ac_pwd" && ls -di .` ||
  { echo "$as_me: error: Working directory cannot be determined" >&2
   { (exit 1); exit 1; }; }
test "X$ac_ls_di" = "X$ac_pwd_ls_di" ||
  { echo "$as_me: error: pwd does not report name of working directory" >&2
   { (exit 1); exit 1; }; }


# Find the source files, if location was not specified.
if test -z "$srcdir"; then
  ac_srcdir_defaulted=yes
  # Try the directory containing this script, then the parent directory.
  ac_confdir=`$as_dirname -- "$0" ||
$as_expr X"$0" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
	 X"$0" : 'X\(//\)[^/]' \| \
	 X"$0" : 'X\(//\)$' \| \
	 X"$0" : 'X\(/\)' \| . 2>/dev/null ||
echo X"$0" |
    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)[^/].*/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\).*/{
	    s//\1/
	    q
	  }
	  s/.*/./; q'`
  srcdir=$ac_confdir
  if test ! -r "$srcdir/$ac_unique_file"; then
    srcdir=..
  fi
else
  ac_srcdir_defaulted=no
fi
if test ! -r "$srcdir/$ac_unique_file"; then
  test "$ac_srcdir_defaulted" = yes && srcdir="$ac_confdir or .."
  { echo "$as_me: error: cannot find sources ($ac_unique_file) in $srcdir" >&2
   { (exit 1); exit 1; }; }
fi
ac_msg="sources are in $srcdir, but \`cd $srcdir' does not work"
ac_abs_confdir=`(
	cd "$srcdir" && test -r "./$ac_unique_file" || { echo "$as_me: error: $ac_msg" >&2
   { (exit 1); exit 1; }; }
	pwd)`
# When building in place, set srcdir=.
if test "$ac_abs_confdir" = "$ac_pwd"; then
  srcdir=.
fi
# Remove unnecessary trailing slashes from srcdir.
# Double slashes in file names in object file debugging info
# mess up M-x gdb in Emacs.
case $srcdir in
*/) srcdir=`expr "X$srcdir" : 'X\(.*[^/]\)' \| "X$srcdir" : 'X\(.*\)'`;;
esac
for ac_var in $ac_precious_vars; do
  eval ac_env_${ac_var}_set=\${${ac_var}+set}
  eval ac_env_${ac_var}_value=\$${ac_var}
  eval ac_cv_env_${ac_var}_set=\${${ac_var}+set}
  eval ac_cv_env_${ac_var}_value=\$${ac_var}
done

#
# Report the --help message.
#
if test "$ac_init_help" = "long"; then
  # Omit some internal or obsolete options to make the list less imposing.
  # This message is too long to be a string in the A/UX 3.1 sh.
  cat <<_ACEOF
\`configure' configures this package to adapt to many kinds of systems.

Usage: $0 [OPTION]... [VAR=VALUE]...

To assign environment variables (e.g., CC, CFLAGS...), specify them as
VAR=VALUE.  See below for descriptions of some of the useful variables.

Defaults for the options are specified in brackets.

Configuration:
  -h, --help              display this help and exit
      --help=short        display options specific to this package
      --help=recursive    display the short help of all the included packages
  -V, --version           display version information and exit
  -q, --quiet, --silent   do not print \`checking...' messages
      --cache-file=FILE   cache test results in FILE [disabled]
  -C, --config-cache      alias for \`--cache-file=config.cache'
  -n, --no-create         do not create output files
      --srcdir=DIR        find the sources in DIR [configure dir or \`..']

Installation directories:
  --prefix=PREFIX         install architecture-independent files in PREFIX
			  [$ac_default_prefix]
  --exec-prefix=EPREFIX   install architecture-dependent files in EPREFIX
			  [PREFIX]

By default, \`make install' will install all the files in
\`$ac_default_prefix/bin', \`$ac_default_prefix/lib' etc.  You can specify
an installation prefix other than \`$ac_default_prefix' using \`--prefix',
for instance \`--prefix=\$HOME'.

For better control, use the options below.

Fine tuning of the installation directories:
  --bindir=DIR           user executables [EPREFIX/bin]
  --sbindir=DIR          system admin executables [EPREFIX/sbin]
  --libexecdir=DIR       program executables [EPREFIX/libexec]
  --sysconfdir=DIR       read-only single-machine data [PREFIX/etc]
  --sharedstatedir=DIR   modifiable architecture-independent data [PREFIX/com]
  --localstatedir=DIR    modifiable single-machine data [PREFIX/var]
  --libdir=DIR           object code libraries [EPREFIX/lib]
  --includedir=DIR       C header files [PREFIX/include]
  --oldincludedir=DIR    C header files for non-gcc [/usr/include]
  --datarootdir=DIR      read-only arch.-independent data root [PREFIX/share]
  --datadir=DIR          read-only architecture-independent data [DATAROOTDIR]
  --infodir=DIR          info documentation [DATAROOTDIR/info]
  --localedir=DIR        locale-dependent data [DATAROOTDIR/locale]
  --mandir=DIR           man documentation [DATAROOTDIR/man]
  --docdir=DIR           documentation root [DATAROOTDIR/doc/PACKAGE]
  --htmldir=DIR          html documentation [DOCDIR]
  --dvidir=DIR           dvi documentation [DOCDIR]
  --pdfdir=DIR           pdf documentation [DOCDIR]
  --psdir=DIR            ps documentation [DOCDIR]
_ACEOF

  cat <<\_ACEOF
_ACEOF
fi

if test -n "$ac_init_help"; then

  cat <<\_ACEOF

Optional Features:
  --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)
  --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]
  --disable-update-version
                          disable updating alsa-kernel version
  --disable-experimental  disable CONFIG_EXPERIMENTAL
  --disable-verbose-procfs
                          disable verbose procfs
  --disable-verbose-printk
                          disable verbose printk (file + line number)
  --enable-dynamic-minors enable dynamic minor numbers for device files
                          (requires udev or devfs)

Optional Packages:
  --with-PACKAGE[=ARG]    use PACKAGE [ARG=yes]
  --without-PACKAGE       do not use PACKAGE (same as --with-PACKAGE=no)
  --with-cross=dir        give the cross-compile prefix
  --with-alsakernel=dir   give the directory with ALSA kernel sources
                          [../alsa-kmirror]
  --with-kernel=dir       give the directory with kernel sources
                          [/usr/src/linux]
  --with-build=dir        give the directory with kernel build tree
  --with-redhat=no,yes,auto  specify Red Hat kernel build
  --with-suse=no,yes,auto  specify SUSE kernel build
  --with-moddir=/path     give the path for the alsa driver kernel modules
                          [/lib/modules/<KVER>/misc]
  --with-debug=level      give the debug level (none,basic,full,verbose)
  --with-isapnp=yes,no,auto  driver will (not) be compiled with ISA PnP support
  --with-extra-version=VERSION  specifies the extra version string
  --with-sequencer=yes,no  driver will (not) be compiled with sequencer support
  --with-oss=no,yes       driver will (not) be compiled with OSS/Free emulation
  --with-pcm-oss-plugins=no,yes       driver will (not) be compiled with OSS PCM plugins
  --with-pcmcia=kernel,external   support kernel PCMCIA driver or external PCMCIA driver
  --with-pcmcia-root=dir  specify the root directory of external PCMCIA source-tree
  --with-cards=<list> compile driver for cards and options in <list>;
                          cards may be separated with commas;
                          'all' compiles all drivers;
                          Possible cards are:
                            seq-dummy, hrtimer, rtctimer, sbawe, emu10k1,
                            hpet, pcsp, dummy, virmidi, mtpav, mts64,
                            serial-u16550, mpu401, portman2x4, ml403-ac97cr,
                            serialmidi, loopback, adlib, ad1816a, ad1848,
                            als100, azt2320, cmi8330, cs4231, cs4236, es968,
                            es1688, es18xx, sc6000, gusclassic, gusextreme,
                            gusmax, interwave, interwave-stb, jazz16,
                            opl3sa2, opti92x-ad1848, opti92x-cs4231, opti93x,
                            miro, sb8, sb16, sgalaxy, sscape, wavefront,
                            msnd-pinnacle, msnd-classic, pc98-cs4232, ad1889,
                            als300, als4000, ali5451, atiixp, atiixp-modem,
                            au8810, au8820, au8830, aw2, azt3328, bt87x,
                            ca0106, cmipci, oxygen, cs4281, cs46xx, cs5530,
                            cs5535audio, ctxfi, darla20, gina20, layla20,
                            darla24, gina24, layla24, mona, mia, echo3g,
                            indigo, indigoio, indigodj, indigoiox, indigodjx,
                            emu10k1x, ens1370, ens1371, es1938, es1968,
                            fm801, hda-intel, hdsp, hdspm, hifier, ice1712,
                            ice1724, intel8x0, intel8x0m, korg1212, lx6464es,
                            maestro3, mixart, nm256, pcxhr, riptide, rme32,
                            rme96, rme9652, sis7019, sonicvibes, trident,
                            via82xx, via82xx-modem, virtuoso, vx222, ymfpci,
                            pdplus, asihpi, powermac, ps3, aoa,
                            aoa-fabric-layout, aoa-onyx, aoa-tas, aoa-toonie,
                            aoa-soundbus, aoa-soundbus-i2s, armaaci,
                            pxa2xx-ac97, sa11xx-uda1341, s3c2410,
                            atmel-abdac, atmel-ac97c, at73c213, sgi-o2,
                            sgi-hal2, au1x00, aica, sh-dac-audio, usb-audio,
                            usb-ua101, usb-usx2y, usb-caiaq, usb-us122l,
                            vxpocket, pdaudiocf, sun-amd7930, sun-cs4231,
                            sun-dbri, harmony, soc, atmel-soc,
                            at91-soc-sam9g20-wm8731, at32-soc-playpaq,
                            at91-soc-afeb9260, soc-au1xpsc,
                            soc-sample-psc-ac97, bf5xx-i2s,
                            bf5xx-soc-ssm2602, bf5xx-soc-ad73311, bf5xx-tdm,
                            bf5xx-soc-ad1836, bf5xx-soc-ad1938, bf5xx-ac97,
                            bf5xx-soc-ad1980, davinci-soc, davinci-soc-evm,
                            dm6467-soc-evm, davinci-soc-sffsdr,
                            da830-soc-evm, da850-soc-evm, soc-mpc8610-hpcd,
                            soc-mpc5200-i2s, soc-mpc5200-ac97,
                            mpc52xx-soc-pcm030, mpc52xx-soc-efika,
                            mx1-mx2-soc, soc-mx27vis-wm8974, omap-soc,
                            omap-soc-n810, omap-soc-ams-delta,
                            omap-soc-osk5912, omap-soc-overo,
                            omap-soc-omap2evm, omap-soc-omap3evm,
                            omap-soc-am3517evm, omap-soc-sdp3430,
                            omap-soc-omap3-pandora, omap-soc-omap3-beagle,
                            omap-soc-zoom2, omap-soc-igep0020, pxa2xx-soc,
                            pxa2xx-soc-corgi, pxa2xx-soc-spitz,
                            pxa2xx-soc-poodle, pxa2xx-soc-tosa,
                            pxa2xx-soc-e740, pxa2xx-soc-e750,
                            pxa2xx-soc-e800, pxa2xx-soc-em-x270,
                            soc-zylonite, soc-raumfeld, pxa2xx-soc-magician,
                            pxa2xx-soc-mioa701, s3c24xx-soc,
                            s3c24xx-soc-neo1973-wm8753,
                            s3c24xx-soc-neo1973-gta02-wm8753,
                            s3c24xx-soc-jive-wm8750, s3c64xx-soc-wm8580,
                            s3c24xx-soc-smdk2443-wm9710,
                            s3c24xx-soc-ln2440sbc-alc650,
                            s3c24xx-soc-s3c24xx-uda134x,
                            s3c24xx-soc-simtec-tlv320aic23,
                            s3c24xx-soc-simtec-hermes, s6000-soc,
                            s6000-soc-s6ipcam, soc-pcm-sh7760, soc-sh4-fsi,
                            sh7760-ac97, soc-txx9aclc, soc-txx9aclc-generic,
                            soc-tlv320aic26
  --with-card-options=<list> enable driver options in <list>;
                          options may be separated with commas;
                          'all' enables all options;
                          Possible options are:
                            seq-hrtimer-default, seq-rtctimer-default,
                            support-old-api, pcm-xrun-debug, ac97-power-save,
                            sb16-csp, bt87x-overclock, cs46xx-new-dsp,
                            fm801-tea575x-bool, hda-hwdep, hda-reconfig,
                            hda-input-beep, hda-input-jack, hda-patch-loader,
                            hda-codec-realtek, hda-codec-analog,
                            hda-codec-sigmatel, hda-codec-via,
                            hda-codec-atihdmi, hda-codec-nvhdmi,
                            hda-codec-intelhdmi, hda-codec-cirrus,
                            hda-codec-conexant, hda-codec-ca0110,
                            hda-codec-cmedia, hda-codec-si3054, hda-generic,
                            hda-power-save, powermac-auto-drc,
                            usb-caiaq-input, at32-soc-playpaq-slave,
                            bf5xx-mmap-support, bf5xx-multichan-support,
                            bf5xx-have-cold-reset, pxa2xx-soc-palm27x,
                            fsi-ak4642, fsi-da7210

Some influential environment variables:
  CC          C compiler command
  CFLAGS      C compiler flags
  LDFLAGS     linker flags, e.g. -L<lib dir> if you have libraries in a
              nonstandard directory <lib dir>
  CPPFLAGS    C/C++/Objective C preprocessor flags, e.g. -I<include dir> if
              you have headers in a nonstandard directory <include dir>
  CPP         C preprocessor

Use these variables to override the choices made by `configure' or to help
it to find libraries and programs with nonstandard names/locations.

_ACEOF
ac_status=$?
fi

if test "$ac_init_help" = "recursive"; then
  # If there are subdirs, report their specific --help.
  for ac_dir in : $ac_subdirs_all; do test "x$ac_dir" = x: && continue
    test -d "$ac_dir" || continue
    ac_builddir=.

case "$ac_dir" in
.) ac_dir_suffix= ac_top_builddir_sub=. ac_top_build_prefix= ;;
*)
  ac_dir_suffix=/`echo "$ac_dir" | sed 's,^\.[\\/],,'`
  # A ".." for each directory in $ac_dir_suffix.
  ac_top_builddir_sub=`echo "$ac_dir_suffix" | sed 's,/[^\\/]*,/..,g;s,/,,'`
  case $ac_top_builddir_sub in
  "") ac_top_builddir_sub=. ac_top_build_prefix= ;;
  *)  ac_top_build_prefix=$ac_top_builddir_sub/ ;;
  esac ;;
esac
ac_abs_top_builddir=$ac_pwd
ac_abs_builddir=$ac_pwd$ac_dir_suffix
# for backward compatibility:
ac_top_builddir=$ac_top_build_prefix

case $srcdir in
  .)  # We are building in place.
    ac_srcdir=.
    ac_top_srcdir=$ac_top_builddir_sub
    ac_abs_top_srcdir=$ac_pwd ;;
  [\\/]* | ?:[\\/]* )  # Absolute name.
    ac_srcdir=$srcdir$ac_dir_suffix;
    ac_top_srcdir=$srcdir
    ac_abs_top_srcdir=$srcdir ;;
  *) # Relative name.
    ac_srcdir=$ac_top_build_prefix$srcdir$ac_dir_suffix
    ac_top_srcdir=$ac_top_build_prefix$srcdir
    ac_abs_top_srcdir=$ac_pwd/$srcdir ;;
esac
ac_abs_srcdir=$ac_abs_top_srcdir$ac_dir_suffix

    cd "$ac_dir" || { ac_status=$?; continue; }
    # Check for guested configure.
    if test -f "$ac_srcdir/configure.gnu"; then
      echo &&
      $SHELL "$ac_srcdir/configure.gnu" --help=recursive
    elif test -f "$ac_srcdir/configure"; then
      echo &&
      $SHELL "$ac_srcdir/configure" --help=recursive
    else
      echo "$as_me: WARNING: no configuration information is in $ac_dir" >&2
    fi || ac_status=$?
    cd "$ac_pwd" || { ac_status=$?; break; }
  done
fi

test -n "$ac_init_help" && exit $ac_status
if $ac_init_version; then
  cat <<\_ACEOF
configure
generated by GNU Autoconf 2.60

Copyright (C) 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001,
2002, 2003, 2004, 2005, 2006 Free Software Foundation, Inc.
This configure script is free software; the Free Software Foundation
gives unlimited permission to copy, distribute and modify it.
_ACEOF
  exit
fi
cat >config.log <<_ACEOF
This file contains any messages produced by compilers while
running configure, to aid debugging if configure makes a mistake.

It was created by $as_me, which was
generated by GNU Autoconf 2.60.  Invocation command line was

  $ $0 $@

_ACEOF
exec 5>>config.log
{
cat <<_ASUNAME
## --------- ##
## Platform. ##
## --------- ##

hostname = `(hostname || uname -n) 2>/dev/null | sed 1q`
uname -m = `(uname -m) 2>/dev/null || echo unknown`
uname -r = `(uname -r) 2>/dev/null || echo unknown`
uname -s = `(uname -s) 2>/dev/null || echo unknown`
uname -v = `(uname -v) 2>/dev/null || echo unknown`

/usr/bin/uname -p = `(/usr/bin/uname -p) 2>/dev/null || echo unknown`
/bin/uname -X     = `(/bin/uname -X) 2>/dev/null     || echo unknown`

/bin/arch              = `(/bin/arch) 2>/dev/null              || echo unknown`
/usr/bin/arch -k       = `(/usr/bin/arch -k) 2>/dev/null       || echo unknown`
/usr/convex/getsysinfo = `(/usr/convex/getsysinfo) 2>/dev/null || echo unknown`
/usr/bin/hostinfo      = `(/usr/bin/hostinfo) 2>/dev/null      || echo unknown`
/bin/machine           = `(/bin/machine) 2>/dev/null           || echo unknown`
/usr/bin/oslevel       = `(/usr/bin/oslevel) 2>/dev/null       || echo unknown`
/bin/universe          = `(/bin/universe) 2>/dev/null          || echo unknown`

_ASUNAME

as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
  echo "PATH: $as_dir"
done
IFS=$as_save_IFS

} >&5

cat >&5 <<_ACEOF


## ----------- ##
## Core tests. ##
## ----------- ##

_ACEOF


# Keep a trace of the command line.
# Strip out --no-create and --no-recursion so they do not pile up.
# Strip out --silent because we don't want to record it for future runs.
# Also quote any args containing shell meta-characters.
# Make two passes to allow for proper duplicate-argument suppression.
ac_configure_args=
ac_configure_args0=
ac_configure_args1=
ac_must_keep_next=false
for ac_pass in 1 2
do
  for ac_arg
  do
    case $ac_arg in
    -no-create | --no-c* | -n | -no-recursion | --no-r*) continue ;;
    -q | -quiet | --quiet | --quie | --qui | --qu | --q \
    | -silent | --silent | --silen | --sile | --sil)
      continue ;;
    *\'*)
      ac_arg=`echo "$ac_arg" | sed "s/'/'\\\\\\\\''/g"` ;;
    esac
    case $ac_pass in
    1) ac_configure_args0="$ac_configure_args0 '$ac_arg'" ;;
    2)
      ac_configure_args1="$ac_configure_args1 '$ac_arg'"
      if test $ac_must_keep_next = true; then
	ac_must_keep_next=false # Got value, back to normal.
      else
	case $ac_arg in
	  *=* | --config-cache | -C | -disable-* | --disable-* \
	  | -enable-* | --enable-* | -gas | --g* | -nfp | --nf* \
	  | -q | -quiet | --q* | -silent | --sil* | -v | -verb* \
	  | -with-* | --with-* | -without-* | --without-* | --x)
	    case "$ac_configure_args0 " in
	      "$ac_configure_args1"*" '$ac_arg' "* ) continue ;;
	    esac
	    ;;
	  -* ) ac_must_keep_next=true ;;
	esac
      fi
      ac_configure_args="$ac_configure_args '$ac_arg'"
      ;;
    esac
  done
done
$as_unset ac_configure_args0 || test "${ac_configure_args0+set}" != set || { ac_configure_args0=; export ac_configure_args0; }
$as_unset ac_configure_args1 || test "${ac_configure_args1+set}" != set || { ac_configure_args1=; export ac_configure_args1; }

# When interrupted or exit'd, cleanup temporary files, and complete
# config.log.  We remove comments because anyway the quotes in there
# would cause problems or look ugly.
# WARNING: Use '\'' to represent an apostrophe within the trap.
# WARNING: Do not start the trap code with a newline, due to a FreeBSD 4.0 bug.
trap 'exit_status=$?
  # Save into config.log some information that might help in debugging.
  {
    echo

    cat <<\_ASBOX
## ---------------- ##
## Cache variables. ##
## ---------------- ##
_ASBOX
    echo
    # The following way of writing the cache mishandles newlines in values,
(
  for ac_var in `(set) 2>&1 | sed -n '\''s/^\([a-zA-Z_][a-zA-Z0-9_]*\)=.*/\1/p'\''`; do
    eval ac_val=\$$ac_var
    case $ac_val in #(
    *${as_nl}*)
      case $ac_var in #(
      *_cv_*) { echo "$as_me:$LINENO: WARNING: Cache variable $ac_var contains a newline." >&5
echo "$as_me: WARNING: Cache variable $ac_var contains a newline." >&2;} ;;
      esac
      case $ac_var in #(
      _ | IFS | as_nl) ;; #(
      *) $as_unset $ac_var ;;
      esac ;;
    esac
  done
  (set) 2>&1 |
    case $as_nl`(ac_space='\'' '\''; set) 2>&1` in #(
    *${as_nl}ac_space=\ *)
      sed -n \
	"s/'\''/'\''\\\\'\'''\''/g;
	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='\''\\2'\''/p"
      ;; #(
    *)
      sed -n "/^[_$as_cr_alnum]*_cv_[_$as_cr_alnum]*=/p"
      ;;
    esac |
    sort
)
    echo

    cat <<\_ASBOX
## ----------------- ##
## Output variables. ##
## ----------------- ##
_ASBOX
    echo
    for ac_var in $ac_subst_vars
    do
      eval ac_val=\$$ac_var
      case $ac_val in
      *\'\''*) ac_val=`echo "$ac_val" | sed "s/'\''/'\''\\\\\\\\'\'''\''/g"`;;
      esac
      echo "$ac_var='\''$ac_val'\''"
    done | sort
    echo

    if test -n "$ac_subst_files"; then
      cat <<\_ASBOX
## ------------------- ##
## File substitutions. ##
## ------------------- ##
_ASBOX
      echo
      for ac_var in $ac_subst_files
      do
	eval ac_val=\$$ac_var
	case $ac_val in
	*\'\''*) ac_val=`echo "$ac_val" | sed "s/'\''/'\''\\\\\\\\'\'''\''/g"`;;
	esac
	echo "$ac_var='\''$ac_val'\''"
      done | sort
      echo
    fi

    if test -s confdefs.h; then
      cat <<\_ASBOX
## ----------- ##
## confdefs.h. ##
## ----------- ##
_ASBOX
      echo
      cat confdefs.h
      echo
    fi
    test "$ac_signal" != 0 &&
      echo "$as_me: caught signal $ac_signal"
    echo "$as_me: exit $exit_status"
  } >&5
  rm -f core *.core core.conftest.* &&
    rm -f -r conftest* confdefs* conf$$* $ac_clean_files &&
    exit $exit_status
' 0
for ac_signal in 1 2 13 15; do
  trap 'ac_signal='$ac_signal'; { (exit 1); exit 1; }' $ac_signal
done
ac_signal=0

# confdefs.h avoids OS command line length limits that DEFS can exceed.
rm -f -r conftest* confdefs.h

# Predefined preprocessor variables.

cat >>confdefs.h <<_ACEOF
#define PACKAGE_NAME "$PACKAGE_NAME"
_ACEOF


cat >>confdefs.h <<_ACEOF
#define PACKAGE_TARNAME "$PACKAGE_TARNAME"
_ACEOF


cat >>confdefs.h <<_ACEOF
#define PACKAGE_VERSION "$PACKAGE_VERSION"
_ACEOF


cat >>confdefs.h <<_ACEOF
#define PACKAGE_STRING "$PACKAGE_STRING"
_ACEOF


cat >>confdefs.h <<_ACEOF
#define PACKAGE_BUGREPORT "$PACKAGE_BUGREPORT"
_ACEOF


# Let the site file select an alternate cache file if it wants to.
# Prefer explicitly selected file to automatically selected ones.
if test -n "$CONFIG_SITE"; then
  set x "$CONFIG_SITE"
elif test "x$prefix" != xNONE; then
  set x "$prefix/share/config.site" "$prefix/etc/config.site"
else
  set x "$ac_default_prefix/share/config.site" \
	"$ac_default_prefix/etc/config.site"
fi
shift
for ac_site_file
do
  if test -r "$ac_site_file"; then
    { echo "$as_me:$LINENO: loading site script $ac_site_file" >&5
echo "$as_me: loading site script $ac_site_file" >&6;}
    sed 's/^/| /' "$ac_site_file" >&5
    . "$ac_site_file"
  fi
done

if test -r "$cache_file"; then
  # Some versions of bash will fail to source /dev/null (special
  # files actually), so we avoid doing that.
  if test -f "$cache_file"; then
    { echo "$as_me:$LINENO: loading cache $cache_file" >&5
echo "$as_me: loading cache $cache_file" >&6;}
    case $cache_file in
      [\\/]* | ?:[\\/]* ) . "$cache_file";;
      *)                      . "./$cache_file";;
    esac
  fi
else
  { echo "$as_me:$LINENO: creating cache $cache_file" >&5
echo "$as_me: creating cache $cache_file" >&6;}
  >$cache_file
fi

# Check that the precious variables saved in the cache have kept the same
# value.
ac_cache_corrupted=false
for ac_var in $ac_precious_vars; do
  eval ac_old_set=\$ac_cv_env_${ac_var}_set
  eval ac_new_set=\$ac_env_${ac_var}_set
  eval ac_old_val=\$ac_cv_env_${ac_var}_value
  eval ac_new_val=\$ac_env_${ac_var}_value
  case $ac_old_set,$ac_new_set in
    set,)
      { echo "$as_me:$LINENO: error: \`$ac_var' was set to \`$ac_old_val' in the previous run" >&5
echo "$as_me: error: \`$ac_var' was set to \`$ac_old_val' in the previous run" >&2;}
      ac_cache_corrupted=: ;;
    ,set)
      { echo "$as_me:$LINENO: error: \`$ac_var' was not set in the previous run" >&5
echo "$as_me: error: \`$ac_var' was not set in the previous run" >&2;}
      ac_cache_corrupted=: ;;
    ,);;
    *)
      if test "x$ac_old_val" != "x$ac_new_val"; then
	{ echo "$as_me:$LINENO: error: \`$ac_var' has changed since the previous run:" >&5
echo "$as_me: error: \`$ac_var' has changed since the previous run:" >&2;}
	{ echo "$as_me:$LINENO:   former value:  $ac_old_val" >&5
echo "$as_me:   former value:  $ac_old_val" >&2;}
	{ echo "$as_me:$LINENO:   current value: $ac_new_val" >&5
echo "$as_me:   current value: $ac_new_val" >&2;}
	ac_cache_corrupted=:
      fi;;
  esac
  # Pass precious variables to config.status.
  if test "$ac_new_set" = set; then
    case $ac_new_val in
    *\'*) ac_arg=$ac_var=`echo "$ac_new_val" | sed "s/'/'\\\\\\\\''/g"` ;;
    *) ac_arg=$ac_var=$ac_new_val ;;
    esac
    case " $ac_configure_args " in
      *" '$ac_arg' "*) ;; # Avoid dups.  Use of quotes ensures accuracy.
      *) ac_configure_args="$ac_configure_args '$ac_arg'" ;;
    esac
  fi
done
if $ac_cache_corrupted; then
  { echo "$as_me:$LINENO: error: changes in the environment can compromise the build" >&5
echo "$as_me: error: changes in the environment can compromise the build" >&2;}
  { { echo "$as_me:$LINENO: error: run \`make distclean' and/or \`rm $cache_file' and start over" >&5
echo "$as_me: error: run \`make distclean' and/or \`rm $cache_file' and start over" >&2;}
   { (exit 1); exit 1; }; }
fi

















ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu



CONFIG_SND_VERSION="1.0.22.1"

ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu
if test -n "$ac_tool_prefix"; then
  # Extract the first word of "${ac_tool_prefix}gcc", so it can be a program name with args.
set dummy ${ac_tool_prefix}gcc; ac_word=$2
{ echo "$as_me:$LINENO: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
if test "${ac_cv_prog_CC+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
  for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_prog_CC="${ac_tool_prefix}gcc"
    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
done
IFS=$as_save_IFS

fi
fi
CC=$ac_cv_prog_CC
if test -n "$CC"; then
  { echo "$as_me:$LINENO: result: $CC" >&5
echo "${ECHO_T}$CC" >&6; }
else
  { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
fi


fi
if test -z "$ac_cv_prog_CC"; then
  ac_ct_CC=$CC
  # Extract the first word of "gcc", so it can be a program name with args.
set dummy gcc; ac_word=$2
{ echo "$as_me:$LINENO: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
if test "${ac_cv_prog_ac_ct_CC+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$ac_ct_CC"; then
  ac_cv_prog_ac_ct_CC="$ac_ct_CC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
  for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_prog_ac_ct_CC="gcc"
    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
done
IFS=$as_save_IFS

fi
fi
ac_ct_CC=$ac_cv_prog_ac_ct_CC
if test -n "$ac_ct_CC"; then
  { echo "$as_me:$LINENO: result: $ac_ct_CC" >&5
echo "${ECHO_T}$ac_ct_CC" >&6; }
else
  { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
fi

  if test "x$ac_ct_CC" = x; then
    CC=""
  else
    case $cross_compiling:$ac_tool_warned in
yes:)
{ echo "$as_me:$LINENO: WARNING: In the future, Autoconf will not detect cross-tools
whose name does not start with the host triplet.  If you think this
configuration is useful to you, please write to autoconf@gnu.org." >&5
echo "$as_me: WARNING: In the future, Autoconf will not detect cross-tools
whose name does not start with the host triplet.  If you think this
configuration is useful to you, please write to autoconf@gnu.org." >&2;}
ac_tool_warned=yes ;;
esac
    CC=$ac_ct_CC
  fi
else
  CC="$ac_cv_prog_CC"
fi

if test -z "$CC"; then
          if test -n "$ac_tool_prefix"; then
    # Extract the first word of "${ac_tool_prefix}cc", so it can be a program name with args.
set dummy ${ac_tool_prefix}cc; ac_word=$2
{ echo "$as_me:$LINENO: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
if test "${ac_cv_prog_CC+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
  for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_prog_CC="${ac_tool_prefix}cc"
    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
done
IFS=$as_save_IFS

fi
fi
CC=$ac_cv_prog_CC
if test -n "$CC"; then
  { echo "$as_me:$LINENO: result: $CC" >&5
echo "${ECHO_T}$CC" >&6; }
else
  { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
fi


  fi
fi
if test -z "$CC"; then
  # Extract the first word of "cc", so it can be a program name with args.
set dummy cc; ac_word=$2
{ echo "$as_me:$LINENO: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
if test "${ac_cv_prog_CC+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
  ac_prog_rejected=no
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
  for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; }; then
    if test "$as_dir/$ac_word$ac_exec_ext" = "/usr/ucb/cc"; then
       ac_prog_rejected=yes
       continue
     fi
    ac_cv_prog_CC="cc"
    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
done
IFS=$as_save_IFS

if test $ac_prog_rejected = yes; then
  # We found a bogon in the path, so make sure we never use it.
  set dummy $ac_cv_prog_CC
  shift
  if test $# != 0; then
    # We chose a different compiler from the bogus one.
    # However, it has the same basename, so the bogon will be chosen
    # first if we set CC to just the basename; use the full file name.
    shift
    ac_cv_prog_CC="$as_dir/$ac_word${1+' '}$@"
  fi
fi
fi
fi
CC=$ac_cv_prog_CC
if test -n "$CC"; then
  { echo "$as_me:$LINENO: result: $CC" >&5
echo "${ECHO_T}$CC" >&6; }
else
  { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
fi


fi
if test -z "$CC"; then
  if test -n "$ac_tool_prefix"; then
  for ac_prog in cl.exe
  do
    # Extract the first word of "$ac_tool_prefix$ac_prog", so it can be a program name with args.
set dummy $ac_tool_prefix$ac_prog; ac_word=$2
{ echo "$as_me:$LINENO: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
if test "${ac_cv_prog_CC+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
  for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_prog_CC="$ac_tool_prefix$ac_prog"
    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
done
IFS=$as_save_IFS

fi
fi
CC=$ac_cv_prog_CC
if test -n "$CC"; then
  { echo "$as_me:$LINENO: result: $CC" >&5
echo "${ECHO_T}$CC" >&6; }
else
  { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
fi


    test -n "$CC" && break
  done
fi
if test -z "$CC"; then
  ac_ct_CC=$CC
  for ac_prog in cl.exe
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
{ echo "$as_me:$LINENO: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
if test "${ac_cv_prog_ac_ct_CC+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$ac_ct_CC"; then
  ac_cv_prog_ac_ct_CC="$ac_ct_CC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
  for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_prog_ac_ct_CC="$ac_prog"
    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
done
IFS=$as_save_IFS

fi
fi
ac_ct_CC=$ac_cv_prog_ac_ct_CC
if test -n "$ac_ct_CC"; then
  { echo "$as_me:$LINENO: result: $ac_ct_CC" >&5
echo "${ECHO_T}$ac_ct_CC" >&6; }
else
  { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
fi


  test -n "$ac_ct_CC" && break
done

  if test "x$ac_ct_CC" = x; then
    CC=""
  else
    case $cross_compiling:$ac_tool_warned in
yes:)
{ echo "$as_me:$LINENO: WARNING: In the future, Autoconf will not detect cross-tools
whose name does not start with the host triplet.  If you think this
configuration is useful to you, please write to autoconf@gnu.org." >&5
echo "$as_me: WARNING: In the future, Autoconf will not detect cross-tools
whose name does not start with the host triplet.  If you think this
configuration is useful to you, please write to autoconf@gnu.org." >&2;}
ac_tool_warned=yes ;;
esac
    CC=$ac_ct_CC
  fi
fi

fi


test -z "$CC" && { { echo "$as_me:$LINENO: error: no acceptable C compiler found in \$PATH
See \`config.log' for more details." >&5
echo "$as_me: error: no acceptable C compiler found in \$PATH
See \`config.log' for more details." >&2;}
   { (exit 1); exit 1; }; }

# Provide some information about the compiler.
echo "$as_me:$LINENO: checking for C compiler version" >&5
ac_compiler=`set X $ac_compile; echo $2`
{ (ac_try="$ac_compiler --version >&5"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compiler --version >&5") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }
{ (ac_try="$ac_compiler -v >&5"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compiler -v >&5") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }
{ (ac_try="$ac_compiler -V >&5"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compiler -V >&5") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }

cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

int
main ()
{

  ;
  return 0;
}
_ACEOF
ac_clean_files_save=$ac_clean_files
ac_clean_files="$ac_clean_files a.out a.exe b.out"
# Try to create an executable without -o first, disregard a.out.
# It will help us diagnose broken compilers, and finding out an intuition
# of exeext.
{ echo "$as_me:$LINENO: checking for C compiler default output file name" >&5
echo $ECHO_N "checking for C compiler default output file name... $ECHO_C" >&6; }
ac_link_default=`echo "$ac_link" | sed 's/ -o *conftest[^ ]*//'`
#
# List of possible output files, starting from the most likely.
# The algorithm is not robust to junk in `.', hence go to wildcards (a.*)
# only as a last resort.  b.out is created by i960 compilers.
ac_files='a_out.exe a.exe conftest.exe a.out conftest a.* conftest.* b.out'
#
# The IRIX 6 linker writes into existing files which may not be
# executable, retaining their permissions.  Remove them first so a
# subsequent execution test works.
ac_rmfiles=
for ac_file in $ac_files
do
  case $ac_file in
    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.o | *.obj ) ;;
    * ) ac_rmfiles="$ac_rmfiles $ac_file";;
  esac
done
rm -f $ac_rmfiles

if { (ac_try="$ac_link_default"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_link_default") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; then
  # Autoconf-2.13 could set the ac_cv_exeext variable to `no'.
# So ignore a value of `no', otherwise this would lead to `EXEEXT = no'
# in a Makefile.  We should not override ac_cv_exeext if it was cached,
# so that the user can short-circuit this test for compilers unknown to
# Autoconf.
for ac_file in $ac_files
do
  test -f "$ac_file" || continue
  case $ac_file in
    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.o | *.obj )
	;;
    [ab].out )
	# We found the default executable, but exeext='' is most
	# certainly right.
	break;;
    *.* )
        if test "${ac_cv_exeext+set}" = set && test "$ac_cv_exeext" != no;
	then :; else
	   ac_cv_exeext=`expr "$ac_file" : '[^.]*\(\..*\)'`
	fi
	# We set ac_cv_exeext here because the later test for it is not
	# safe: cross compilers may not add the suffix if given an `-o'
	# argument, so we may need to know it at that point already.
	# Even if this section looks crufty: it has the advantage of
	# actually working.
	break;;
    * )
	break;;
  esac
done
test "$ac_cv_exeext" = no && ac_cv_exeext=

else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

{ { echo "$as_me:$LINENO: error: C compiler cannot create executables
See \`config.log' for more details." >&5
echo "$as_me: error: C compiler cannot create executables
See \`config.log' for more details." >&2;}
   { (exit 77); exit 77; }; }
fi

ac_exeext=$ac_cv_exeext
{ echo "$as_me:$LINENO: result: $ac_file" >&5
echo "${ECHO_T}$ac_file" >&6; }

# Check that the compiler produces executables we can run.  If not, either
# the compiler is broken, or we cross compile.
{ echo "$as_me:$LINENO: checking whether the C compiler works" >&5
echo $ECHO_N "checking whether the C compiler works... $ECHO_C" >&6; }
# FIXME: These cross compiler hacks should be removed for Autoconf 3.0
# If not cross compiling, check that we can run a simple program.
if test "$cross_compiling" != yes; then
  if { ac_try='./$ac_file'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
    cross_compiling=no
  else
    if test "$cross_compiling" = maybe; then
	cross_compiling=yes
    else
	{ { echo "$as_me:$LINENO: error: cannot run C compiled programs.
If you meant to cross compile, use \`--host'.
See \`config.log' for more details." >&5
echo "$as_me: error: cannot run C compiled programs.
If you meant to cross compile, use \`--host'.
See \`config.log' for more details." >&2;}
   { (exit 1); exit 1; }; }
    fi
  fi
fi
{ echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }

rm -f a.out a.exe conftest$ac_cv_exeext b.out
ac_clean_files=$ac_clean_files_save
# Check that the compiler produces executables we can run.  If not, either
# the compiler is broken, or we cross compile.
{ echo "$as_me:$LINENO: checking whether we are cross compiling" >&5
echo $ECHO_N "checking whether we are cross compiling... $ECHO_C" >&6; }
{ echo "$as_me:$LINENO: result: $cross_compiling" >&5
echo "${ECHO_T}$cross_compiling" >&6; }

{ echo "$as_me:$LINENO: checking for suffix of executables" >&5
echo $ECHO_N "checking for suffix of executables... $ECHO_C" >&6; }
if { (ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; then
  # If both `conftest.exe' and `conftest' are `present' (well, observable)
# catch `conftest.exe'.  For instance with Cygwin, `ls conftest' will
# work properly (i.e., refer to `conftest.exe'), while it won't with
# `rm'.
for ac_file in conftest.exe conftest conftest.*; do
  test -f "$ac_file" || continue
  case $ac_file in
    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.o | *.obj ) ;;
    *.* ) ac_cv_exeext=`expr "$ac_file" : '[^.]*\(\..*\)'`
	  break;;
    * ) break;;
  esac
done
else
  { { echo "$as_me:$LINENO: error: cannot compute suffix of executables: cannot compile and link
See \`config.log' for more details." >&5
echo "$as_me: error: cannot compute suffix of executables: cannot compile and link
See \`config.log' for more details." >&2;}
   { (exit 1); exit 1; }; }
fi

rm -f conftest$ac_cv_exeext
{ echo "$as_me:$LINENO: result: $ac_cv_exeext" >&5
echo "${ECHO_T}$ac_cv_exeext" >&6; }

rm -f conftest.$ac_ext
EXEEXT=$ac_cv_exeext
ac_exeext=$EXEEXT
{ echo "$as_me:$LINENO: checking for suffix of object files" >&5
echo $ECHO_N "checking for suffix of object files... $ECHO_C" >&6; }
if test "${ac_cv_objext+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

int
main ()
{

  ;
  return 0;
}
_ACEOF
rm -f conftest.o conftest.obj
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; then
  for ac_file in conftest.o conftest.obj conftest.*; do
  test -f "$ac_file" || continue;
  case $ac_file in
    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf ) ;;
    *) ac_cv_objext=`expr "$ac_file" : '.*\.\(.*\)'`
       break;;
  esac
done
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

{ { echo "$as_me:$LINENO: error: cannot compute suffix of object files: cannot compile
See \`config.log' for more details." >&5
echo "$as_me: error: cannot compute suffix of object files: cannot compile
See \`config.log' for more details." >&2;}
   { (exit 1); exit 1; }; }
fi

rm -f conftest.$ac_cv_objext conftest.$ac_ext
fi
{ echo "$as_me:$LINENO: result: $ac_cv_objext" >&5
echo "${ECHO_T}$ac_cv_objext" >&6; }
OBJEXT=$ac_cv_objext
ac_objext=$OBJEXT
{ echo "$as_me:$LINENO: checking whether we are using the GNU C compiler" >&5
echo $ECHO_N "checking whether we are using the GNU C compiler... $ECHO_C" >&6; }
if test "${ac_cv_c_compiler_gnu+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

int
main ()
{
#ifndef __GNUC__
       choke me
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_compiler_gnu=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	ac_compiler_gnu=no
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
ac_cv_c_compiler_gnu=$ac_compiler_gnu

fi
{ echo "$as_me:$LINENO: result: $ac_cv_c_compiler_gnu" >&5
echo "${ECHO_T}$ac_cv_c_compiler_gnu" >&6; }
GCC=`test $ac_compiler_gnu = yes && echo yes`
ac_test_CFLAGS=${CFLAGS+set}
ac_save_CFLAGS=$CFLAGS
{ echo "$as_me:$LINENO: checking whether $CC accepts -g" >&5
echo $ECHO_N "checking whether $CC accepts -g... $ECHO_C" >&6; }
if test "${ac_cv_prog_cc_g+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_save_c_werror_flag=$ac_c_werror_flag
   ac_c_werror_flag=yes
   ac_cv_prog_cc_g=no
   CFLAGS="-g"
   cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

int
main ()
{

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_prog_cc_g=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	CFLAGS=""
      cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

int
main ()
{

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	ac_c_werror_flag=$ac_save_c_werror_flag
	 CFLAGS="-g"
	 cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

int
main ()
{

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_prog_cc_g=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5


fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
   ac_c_werror_flag=$ac_save_c_werror_flag
fi
{ echo "$as_me:$LINENO: result: $ac_cv_prog_cc_g" >&5
echo "${ECHO_T}$ac_cv_prog_cc_g" >&6; }
if test "$ac_test_CFLAGS" = set; then
  CFLAGS=$ac_save_CFLAGS
elif test $ac_cv_prog_cc_g = yes; then
  if test "$GCC" = yes; then
    CFLAGS="-g -O2"
  else
    CFLAGS="-g"
  fi
else
  if test "$GCC" = yes; then
    CFLAGS="-O2"
  else
    CFLAGS=
  fi
fi
{ echo "$as_me:$LINENO: checking for $CC option to accept ISO C89" >&5
echo $ECHO_N "checking for $CC option to accept ISO C89... $ECHO_C" >&6; }
if test "${ac_cv_prog_cc_c89+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_cv_prog_cc_c89=no
ac_save_CC=$CC
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <stdarg.h>
#include <stdio.h>
#include <sys/types.h>
#include <sys/stat.h>
/* Most of the following tests are stolen from RCS 5.7's src/conf.sh.  */
struct buf { int x; };
FILE * (*rcsopen) (struct buf *, struct stat *, int);
static char *e (p, i)
     char **p;
     int i;
{
  return p[i];
}
static char *f (char * (*g) (char **, int), char **p, ...)
{
  char *s;
  va_list v;
  va_start (v,p);
  s = g (p, va_arg (v,int));
  va_end (v);
  return s;
}

/* OSF 4.0 Compaq cc is some sort of almost-ANSI by default.  It has
   function prototypes and stuff, but not '\xHH' hex character constants.
   These don't provoke an error unfortunately, instead are silently treated
   as 'x'.  The following induces an error, until -std is added to get
   proper ANSI mode.  Curiously '\x00'!='x' always comes out true, for an
   array size at least.  It's necessary to write '\x00'==0 to get something
   that's true only with -std.  */
int osf4_cc_array ['\x00' == 0 ? 1 : -1];

/* IBM C 6 for AIX is almost-ANSI by default, but it replaces macro parameters
   inside strings and character constants.  */
#define FOO(x) 'x'
int xlc6_cc_array[FOO(a) == 'x' ? 1 : -1];

int test (int i, double x);
struct s1 {int (*f) (int a);};
struct s2 {int (*f) (double a);};
int pairnames (int, char **, FILE *(*)(struct buf *, struct stat *, int), int, int);
int argc;
char **argv;
int
main ()
{
return f (e, argv, 0) != argv[0]  ||  f (e, argv, 1) != argv[1];
  ;
  return 0;
}
_ACEOF
for ac_arg in '' -qlanglvl=extc89 -qlanglvl=ansi -std \
	-Ae "-Aa -D_HPUX_SOURCE" "-Xc -D__EXTENSIONS__"
do
  CC="$ac_save_CC $ac_arg"
  rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_prog_cc_c89=$ac_arg
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5


fi

rm -f core conftest.err conftest.$ac_objext
  test "x$ac_cv_prog_cc_c89" != "xno" && break
done
rm -f conftest.$ac_ext
CC=$ac_save_CC

fi
# AC_CACHE_VAL
case "x$ac_cv_prog_cc_c89" in
  x)
    { echo "$as_me:$LINENO: result: none needed" >&5
echo "${ECHO_T}none needed" >&6; } ;;
  xno)
    { echo "$as_me:$LINENO: result: unsupported" >&5
echo "${ECHO_T}unsupported" >&6; } ;;
  *)
    CC="$CC $ac_cv_prog_cc_c89"
    { echo "$as_me:$LINENO: result: $ac_cv_prog_cc_c89" >&5
echo "${ECHO_T}$ac_cv_prog_cc_c89" >&6; } ;;
esac


ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

if test -n "$ac_tool_prefix"; then
  # Extract the first word of "${ac_tool_prefix}ranlib", so it can be a program name with args.
set dummy ${ac_tool_prefix}ranlib; ac_word=$2
{ echo "$as_me:$LINENO: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
if test "${ac_cv_prog_RANLIB+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$RANLIB"; then
  ac_cv_prog_RANLIB="$RANLIB" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
  for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_prog_RANLIB="${ac_tool_prefix}ranlib"
    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
done
IFS=$as_save_IFS

fi
fi
RANLIB=$ac_cv_prog_RANLIB
if test -n "$RANLIB"; then
  { echo "$as_me:$LINENO: result: $RANLIB" >&5
echo "${ECHO_T}$RANLIB" >&6; }
else
  { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
fi


fi
if test -z "$ac_cv_prog_RANLIB"; then
  ac_ct_RANLIB=$RANLIB
  # Extract the first word of "ranlib", so it can be a program name with args.
set dummy ranlib; ac_word=$2
{ echo "$as_me:$LINENO: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
if test "${ac_cv_prog_ac_ct_RANLIB+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$ac_ct_RANLIB"; then
  ac_cv_prog_ac_ct_RANLIB="$ac_ct_RANLIB" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
  for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_prog_ac_ct_RANLIB="ranlib"
    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
done
IFS=$as_save_IFS

fi
fi
ac_ct_RANLIB=$ac_cv_prog_ac_ct_RANLIB
if test -n "$ac_ct_RANLIB"; then
  { echo "$as_me:$LINENO: result: $ac_ct_RANLIB" >&5
echo "${ECHO_T}$ac_ct_RANLIB" >&6; }
else
  { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
fi

  if test "x$ac_ct_RANLIB" = x; then
    RANLIB=":"
  else
    case $cross_compiling:$ac_tool_warned in
yes:)
{ echo "$as_me:$LINENO: WARNING: In the future, Autoconf will not detect cross-tools
whose name does not start with the host triplet.  If you think this
configuration is useful to you, please write to autoconf@gnu.org." >&5
echo "$as_me: WARNING: In the future, Autoconf will not detect cross-tools
whose name does not start with the host triplet.  If you think this
configuration is useful to you, please write to autoconf@gnu.org." >&2;}
ac_tool_warned=yes ;;
esac
    RANLIB=$ac_ct_RANLIB
  fi
else
  RANLIB="$ac_cv_prog_RANLIB"
fi

ac_aux_dir=
for ac_dir in "$srcdir" "$srcdir/.." "$srcdir/../.."; do
  if test -f "$ac_dir/install-sh"; then
    ac_aux_dir=$ac_dir
    ac_install_sh="$ac_aux_dir/install-sh -c"
    break
  elif test -f "$ac_dir/install.sh"; then
    ac_aux_dir=$ac_dir
    ac_install_sh="$ac_aux_dir/install.sh -c"
    break
  elif test -f "$ac_dir/shtool"; then
    ac_aux_dir=$ac_dir
    ac_install_sh="$ac_aux_dir/shtool install -c"
    break
  fi
done
if test -z "$ac_aux_dir"; then
  { { echo "$as_me:$LINENO: error: cannot find install-sh or install.sh in \"$srcdir\" \"$srcdir/..\" \"$srcdir/../..\"" >&5
echo "$as_me: error: cannot find install-sh or install.sh in \"$srcdir\" \"$srcdir/..\" \"$srcdir/../..\"" >&2;}
   { (exit 1); exit 1; }; }
fi

# These three variables are undocumented and unsupported,
# and are intended to be withdrawn in a future Autoconf release.
# They can cause serious problems if a builder's source tree is in a directory
# whose full name contains unusual characters.
ac_config_guess="$SHELL $ac_aux_dir/config.guess"  # Please don't use this var.
ac_config_sub="$SHELL $ac_aux_dir/config.sub"  # Please don't use this var.
ac_configure="$SHELL $ac_aux_dir/configure"  # Please don't use this var.


# Find a good install program.  We prefer a C program (faster),
# so one script is as good as another.  But avoid the broken or
# incompatible versions:
# SysV /etc/install, /usr/sbin/install
# SunOS /usr/etc/install
# IRIX /sbin/install
# AIX /bin/install
# AmigaOS /C/install, which installs bootblocks on floppy discs
# AIX 4 /usr/bin/installbsd, which doesn't work without a -g flag
# AFS /usr/afsws/bin/install, which mishandles nonexistent args
# SVR4 /usr/ucb/install, which tries to use the nonexistent group "staff"
# OS/2's system install, which has a completely different semantic
# ./install, which can be erroneously created by make from ./install.sh.
{ echo "$as_me:$LINENO: checking for a BSD-compatible install" >&5
echo $ECHO_N "checking for a BSD-compatible install... $ECHO_C" >&6; }
if test -z "$INSTALL"; then
if test "${ac_cv_path_install+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
  # Account for people who put trailing slashes in PATH elements.
case $as_dir/ in
  ./ | .// | /cC/* | \
  /etc/* | /usr/sbin/* | /usr/etc/* | /sbin/* | /usr/afsws/bin/* | \
  ?:\\/os2\\/install\\/* | ?:\\/OS2\\/INSTALL\\/* | \
  /usr/ucb/* ) ;;
  *)
    # OSF1 and SCO ODT 3.0 have their own names for install.
    # Don't use installbsd from OSF since it installs stuff as root
    # by default.
    for ac_prog in ginstall scoinst install; do
      for ac_exec_ext in '' $ac_executable_extensions; do
	if { test -f "$as_dir/$ac_prog$ac_exec_ext" && $as_executable_p "$as_dir/$ac_prog$ac_exec_ext"; }; then
	  if test $ac_prog = install &&
	    grep dspmsg "$as_dir/$ac_prog$ac_exec_ext" >/dev/null 2>&1; then
	    # AIX install.  It has an incompatible calling convention.
	    :
	  elif test $ac_prog = install &&
	    grep pwplus "$as_dir/$ac_prog$ac_exec_ext" >/dev/null 2>&1; then
	    # program-specific install script used by HP pwplus--don't use.
	    :
	  else
	    ac_cv_path_install="$as_dir/$ac_prog$ac_exec_ext -c"
	    break 3
	  fi
	fi
      done
    done
    ;;
esac
done
IFS=$as_save_IFS


fi
  if test "${ac_cv_path_install+set}" = set; then
    INSTALL=$ac_cv_path_install
  else
    # As a last resort, use the slow shell script.  Don't cache a
    # value for INSTALL within a source directory, because that will
    # break other packages using the cache if that directory is
    # removed, or if the value is a relative name.
    INSTALL=$ac_install_sh
  fi
fi
{ echo "$as_me:$LINENO: result: $INSTALL" >&5
echo "${ECHO_T}$INSTALL" >&6; }

# Use test -z because SunOS4 sh mishandles braces in ${var-val}.
# It thinks the first close brace ends the variable substitution.
test -z "$INSTALL_PROGRAM" && INSTALL_PROGRAM='${INSTALL}'

test -z "$INSTALL_SCRIPT" && INSTALL_SCRIPT='${INSTALL}'

test -z "$INSTALL_DATA" && INSTALL_DATA='${INSTALL} -m 644'


AR=ar
AS=as




ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu
{ echo "$as_me:$LINENO: checking how to run the C preprocessor" >&5
echo $ECHO_N "checking how to run the C preprocessor... $ECHO_C" >&6; }
# On Suns, sometimes $CPP names a directory.
if test -n "$CPP" && test -d "$CPP"; then
  CPP=
fi
if test -z "$CPP"; then
  if test "${ac_cv_prog_CPP+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
      # Double quotes because CPP needs to be expanded
    for CPP in "$CC -E" "$CC -E -traditional-cpp" "/lib/cpp"
    do
      ac_preproc_ok=false
for ac_c_preproc_warn_flag in '' yes
do
  # Use a header file that comes with gcc, so configuring glibc
  # with a fresh cross-compiler works.
  # Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
  # <limits.h> exists even on freestanding compilers.
  # On the NeXT, cc -E runs the code through the compiler's parser,
  # not just through cpp. "Syntax error" is here to catch this case.
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#ifdef __STDC__
# include <limits.h>
#else
# include <assert.h>
#endif
		     Syntax error
_ACEOF
if { (ac_try="$ac_cpp conftest.$ac_ext"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  :
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

  # Broken: fails on valid input.
continue
fi

rm -f conftest.err conftest.$ac_ext

  # OK, works on sane cases.  Now check whether nonexistent headers
  # can be detected and how.
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <ac_nonexistent.h>
_ACEOF
if { (ac_try="$ac_cpp conftest.$ac_ext"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  # Broken: success on invalid input.
continue
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

  # Passes both tests.
ac_preproc_ok=:
break
fi

rm -f conftest.err conftest.$ac_ext

done
# Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.
rm -f conftest.err conftest.$ac_ext
if $ac_preproc_ok; then
  break
fi

    done
    ac_cv_prog_CPP=$CPP

fi
  CPP=$ac_cv_prog_CPP
else
  ac_cv_prog_CPP=$CPP
fi
{ echo "$as_me:$LINENO: result: $CPP" >&5
echo "${ECHO_T}$CPP" >&6; }
ac_preproc_ok=false
for ac_c_preproc_warn_flag in '' yes
do
  # Use a header file that comes with gcc, so configuring glibc
  # with a fresh cross-compiler works.
  # Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
  # <limits.h> exists even on freestanding compilers.
  # On the NeXT, cc -E runs the code through the compiler's parser,
  # not just through cpp. "Syntax error" is here to catch this case.
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#ifdef __STDC__
# include <limits.h>
#else
# include <assert.h>
#endif
		     Syntax error
_ACEOF
if { (ac_try="$ac_cpp conftest.$ac_ext"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  :
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

  # Broken: fails on valid input.
continue
fi

rm -f conftest.err conftest.$ac_ext

  # OK, works on sane cases.  Now check whether nonexistent headers
  # can be detected and how.
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <ac_nonexistent.h>
_ACEOF
if { (ac_try="$ac_cpp conftest.$ac_ext"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  # Broken: success on invalid input.
continue
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

  # Passes both tests.
ac_preproc_ok=:
break
fi

rm -f conftest.err conftest.$ac_ext

done
# Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.
rm -f conftest.err conftest.$ac_ext
if $ac_preproc_ok; then
  :
else
  { { echo "$as_me:$LINENO: error: C preprocessor \"$CPP\" fails sanity check
See \`config.log' for more details." >&5
echo "$as_me: error: C preprocessor \"$CPP\" fails sanity check
See \`config.log' for more details." >&2;}
   { (exit 1); exit 1; }; }
fi

ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


{ echo "$as_me:$LINENO: checking for grep that handles long lines and -e" >&5
echo $ECHO_N "checking for grep that handles long lines and -e... $ECHO_C" >&6; }
if test "${ac_cv_path_GREP+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  # Extract the first word of "grep ggrep" to use in msg output
if test -z "$GREP"; then
set dummy grep ggrep; ac_prog_name=$2
if test "${ac_cv_path_GREP+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_path_GREP_found=false
# Loop through the user's path and test for each of PROGNAME-LIST
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH$PATH_SEPARATOR/usr/xpg4/bin
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
  for ac_prog in grep ggrep; do
  for ac_exec_ext in '' $ac_executable_extensions; do
    ac_path_GREP="$as_dir/$ac_prog$ac_exec_ext"
    { test -f "$ac_path_GREP" && $as_executable_p "$ac_path_GREP"; } || continue
    # Check for GNU ac_path_GREP and select it if it is found.
  # Check for GNU $ac_path_GREP
case `"$ac_path_GREP" --version 2>&1` in
*GNU*)
  ac_cv_path_GREP="$ac_path_GREP" ac_path_GREP_found=:;;
*)
  ac_count=0
  echo $ECHO_N "0123456789$ECHO_C" >"conftest.in"
  while :
  do
    cat "conftest.in" "conftest.in" >"conftest.tmp"
    mv "conftest.tmp" "conftest.in"
    cp "conftest.in" "conftest.nl"
    echo 'GREP' >> "conftest.nl"
    "$ac_path_GREP" -e 'GREP$' -e '-(cannot match)-' < "conftest.nl" >"conftest.out" 2>/dev/null || break
    diff "conftest.out" "conftest.nl" >/dev/null 2>&1 || break
    ac_count=`expr $ac_count + 1`
    if test $ac_count -gt ${ac_path_GREP_max-0}; then
      # Best one so far, save it but keep looking for a better one
      ac_cv_path_GREP="$ac_path_GREP"
      ac_path_GREP_max=$ac_count
    fi
    # 10*(2^10) chars as input seems more than enough
    test $ac_count -gt 10 && break
  done
  rm -f conftest.in conftest.tmp conftest.nl conftest.out;;
esac


    $ac_path_GREP_found && break 3
  done
done

done
IFS=$as_save_IFS


fi

GREP="$ac_cv_path_GREP"
if test -z "$GREP"; then
  { { echo "$as_me:$LINENO: error: no acceptable $ac_prog_name could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" >&5
echo "$as_me: error: no acceptable $ac_prog_name could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" >&2;}
   { (exit 1); exit 1; }; }
fi

else
  ac_cv_path_GREP=$GREP
fi


fi
{ echo "$as_me:$LINENO: result: $ac_cv_path_GREP" >&5
echo "${ECHO_T}$ac_cv_path_GREP" >&6; }
 GREP="$ac_cv_path_GREP"


{ echo "$as_me:$LINENO: checking for egrep" >&5
echo $ECHO_N "checking for egrep... $ECHO_C" >&6; }
if test "${ac_cv_path_EGREP+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if echo a | $GREP -E '(a|b)' >/dev/null 2>&1
   then ac_cv_path_EGREP="$GREP -E"
   else
     # Extract the first word of "egrep" to use in msg output
if test -z "$EGREP"; then
set dummy egrep; ac_prog_name=$2
if test "${ac_cv_path_EGREP+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_path_EGREP_found=false
# Loop through the user's path and test for each of PROGNAME-LIST
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH$PATH_SEPARATOR/usr/xpg4/bin
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
  for ac_prog in egrep; do
  for ac_exec_ext in '' $ac_executable_extensions; do
    ac_path_EGREP="$as_dir/$ac_prog$ac_exec_ext"
    { test -f "$ac_path_EGREP" && $as_executable_p "$ac_path_EGREP"; } || continue
    # Check for GNU ac_path_EGREP and select it if it is found.
  # Check for GNU $ac_path_EGREP
case `"$ac_path_EGREP" --version 2>&1` in
*GNU*)
  ac_cv_path_EGREP="$ac_path_EGREP" ac_path_EGREP_found=:;;
*)
  ac_count=0
  echo $ECHO_N "0123456789$ECHO_C" >"conftest.in"
  while :
  do
    cat "conftest.in" "conftest.in" >"conftest.tmp"
    mv "conftest.tmp" "conftest.in"
    cp "conftest.in" "conftest.nl"
    echo 'EGREP' >> "conftest.nl"
    "$ac_path_EGREP" 'EGREP$' < "conftest.nl" >"conftest.out" 2>/dev/null || break
    diff "conftest.out" "conftest.nl" >/dev/null 2>&1 || break
    ac_count=`expr $ac_count + 1`
    if test $ac_count -gt ${ac_path_EGREP_max-0}; then
      # Best one so far, save it but keep looking for a better one
      ac_cv_path_EGREP="$ac_path_EGREP"
      ac_path_EGREP_max=$ac_count
    fi
    # 10*(2^10) chars as input seems more than enough
    test $ac_count -gt 10 && break
  done
  rm -f conftest.in conftest.tmp conftest.nl conftest.out;;
esac


    $ac_path_EGREP_found && break 3
  done
done

done
IFS=$as_save_IFS


fi

EGREP="$ac_cv_path_EGREP"
if test -z "$EGREP"; then
  { { echo "$as_me:$LINENO: error: no acceptable $ac_prog_name could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" >&5
echo "$as_me: error: no acceptable $ac_prog_name could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" >&2;}
   { (exit 1); exit 1; }; }
fi

else
  ac_cv_path_EGREP=$EGREP
fi


   fi
fi
{ echo "$as_me:$LINENO: result: $ac_cv_path_EGREP" >&5
echo "${ECHO_T}$ac_cv_path_EGREP" >&6; }
 EGREP="$ac_cv_path_EGREP"


{ echo "$as_me:$LINENO: checking for ANSI C header files" >&5
echo $ECHO_N "checking for ANSI C header files... $ECHO_C" >&6; }
if test "${ac_cv_header_stdc+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <stdlib.h>
#include <stdarg.h>
#include <string.h>
#include <float.h>

int
main ()
{

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_header_stdc=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	ac_cv_header_stdc=no
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

if test $ac_cv_header_stdc = yes; then
  # SunOS 4.x string.h does not declare mem*, contrary to ANSI.
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <string.h>

_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  $EGREP "memchr" >/dev/null 2>&1; then
  :
else
  ac_cv_header_stdc=no
fi
rm -f conftest*

fi

if test $ac_cv_header_stdc = yes; then
  # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <stdlib.h>

_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  $EGREP "free" >/dev/null 2>&1; then
  :
else
  ac_cv_header_stdc=no
fi
rm -f conftest*

fi

if test $ac_cv_header_stdc = yes; then
  # /bin/cc in Irix-4.0.5 gets non-ANSI ctype macros unless using -ansi.
  if test "$cross_compiling" = yes; then
  :
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <ctype.h>
#include <stdlib.h>
#if ((' ' & 0x0FF) == 0x020)
# define ISLOWER(c) ('a' <= (c) && (c) <= 'z')
# define TOUPPER(c) (ISLOWER(c) ? 'A' + ((c) - 'a') : (c))
#else
# define ISLOWER(c) \
		   (('a' <= (c) && (c) <= 'i') \
		     || ('j' <= (c) && (c) <= 'r') \
		     || ('s' <= (c) && (c) <= 'z'))
# define TOUPPER(c) (ISLOWER(c) ? ((c) | 0x40) : (c))
#endif

#define XOR(e, f) (((e) && !(f)) || (!(e) && (f)))
int
main ()
{
  int i;
  for (i = 0; i < 256; i++)
    if (XOR (islower (i), ISLOWER (i))
	|| toupper (i) != TOUPPER (i))
      return 2;
  return 0;
}
_ACEOF
rm -f conftest$ac_exeext
if { (ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
ac_cv_header_stdc=no
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi


fi
fi
{ echo "$as_me:$LINENO: result: $ac_cv_header_stdc" >&5
echo "${ECHO_T}$ac_cv_header_stdc" >&6; }
if test $ac_cv_header_stdc = yes; then

cat >>confdefs.h <<\_ACEOF
#define STDC_HEADERS 1
_ACEOF

fi

ac_config_headers="$ac_config_headers include/config.h include/config1.h include/version.h include/autoconf-extra.h"


{ echo "$as_me:$LINENO: checking for an ANSI C-conforming const" >&5
echo $ECHO_N "checking for an ANSI C-conforming const... $ECHO_C" >&6; }
if test "${ac_cv_c_const+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

int
main ()
{
/* FIXME: Include the comments suggested by Paul. */
#ifndef __cplusplus
  /* Ultrix mips cc rejects this.  */
  typedef int charset[2];
  const charset x;
  /* SunOS 4.1.1 cc rejects this.  */
  char const *const *ccp;
  char **p;
  /* NEC SVR4.0.2 mips cc rejects this.  */
  struct point {int x, y;};
  static struct point const zero = {0,0};
  /* AIX XL C 1.02.0.0 rejects this.
     It does not let you subtract one const X* pointer from another in
     an arm of an if-expression whose if-part is not a constant
     expression */
  const char *g = "string";
  ccp = &g + (g ? g-g : 0);
  /* HPUX 7.0 cc rejects these. */
  ++ccp;
  p = (char**) ccp;
  ccp = (char const *const *) p;
  { /* SCO 3.2v4 cc rejects this.  */
    char *t;
    char const *s = 0 ? (char *) 0 : (char const *) 0;

    *t++ = 0;
    if (s) return 0;
  }
  { /* Someone thinks the Sun supposedly-ANSI compiler will reject this.  */
    int x[] = {25, 17};
    const int *foo = &x[0];
    ++foo;
  }
  { /* Sun SC1.0 ANSI compiler rejects this -- but not the above. */
    typedef const int *iptr;
    iptr p = 0;
    ++p;
  }
  { /* AIX XL C 1.02.0.0 rejects this saying
       "k.c", line 2.27: 1506-025 (S) Operand must be a modifiable lvalue. */
    struct s { int j; const int *ap[3]; };
    struct s *b; b->j = 5;
  }
  { /* ULTRIX-32 V3.1 (Rev 9) vcc rejects this */
    const int foo = 10;
    if (!foo) return 0;
  }
  return !x[0] && !zero.x;
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_c_const=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	ac_cv_c_const=no
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
{ echo "$as_me:$LINENO: result: $ac_cv_c_const" >&5
echo "${ECHO_T}$ac_cv_c_const" >&6; }
if test $ac_cv_c_const = no; then

cat >>confdefs.h <<\_ACEOF
#define const
_ACEOF

fi

{ echo "$as_me:$LINENO: checking for inline" >&5
echo $ECHO_N "checking for inline... $ECHO_C" >&6; }
if test "${ac_cv_c_inline+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_cv_c_inline=no
for ac_kw in inline __inline__ __inline; do
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#ifndef __cplusplus
typedef int foo_t;
static $ac_kw foo_t static_foo () {return 0; }
$ac_kw foo_t foo () {return 0; }
#endif

_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_c_inline=$ac_kw
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5


fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  test "$ac_cv_c_inline" != no && break
done

fi
{ echo "$as_me:$LINENO: result: $ac_cv_c_inline" >&5
echo "${ECHO_T}$ac_cv_c_inline" >&6; }


case $ac_cv_c_inline in
  inline | yes) ;;
  *)
    case $ac_cv_c_inline in
      no) ac_val=;;
      *) ac_val=$ac_cv_c_inline;;
    esac
    cat >>confdefs.h <<_ACEOF
#ifndef __cplusplus
#define inline $ac_val
#endif
_ACEOF
    ;;
esac

{ echo "$as_me:$LINENO: checking whether time.h and sys/time.h may both be included" >&5
echo $ECHO_N "checking whether time.h and sys/time.h may both be included... $ECHO_C" >&6; }
if test "${ac_cv_header_time+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <sys/types.h>
#include <sys/time.h>
#include <time.h>

int
main ()
{
if ((struct tm *) 0)
return 0;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_header_time=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	ac_cv_header_time=no
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
{ echo "$as_me:$LINENO: result: $ac_cv_header_time" >&5
echo "${ECHO_T}$ac_cv_header_time" >&6; }
if test $ac_cv_header_time = yes; then

cat >>confdefs.h <<\_ACEOF
#define TIME_WITH_SYS_TIME 1
_ACEOF

fi


if test $ac_cv_c_compiler_gnu = yes; then
    { echo "$as_me:$LINENO: checking whether $CC needs -traditional" >&5
echo $ECHO_N "checking whether $CC needs -traditional... $ECHO_C" >&6; }
if test "${ac_cv_prog_gcc_traditional+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
    ac_pattern="Autoconf.*'x'"
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <sgtty.h>
Autoconf TIOCGETP
_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  $EGREP "$ac_pattern" >/dev/null 2>&1; then
  ac_cv_prog_gcc_traditional=yes
else
  ac_cv_prog_gcc_traditional=no
fi
rm -f conftest*


  if test $ac_cv_prog_gcc_traditional = no; then
    cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <termio.h>
Autoconf TCGETA
_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  $EGREP "$ac_pattern" >/dev/null 2>&1; then
  ac_cv_prog_gcc_traditional=yes
fi
rm -f conftest*

  fi
fi
{ echo "$as_me:$LINENO: result: $ac_cv_prog_gcc_traditional" >&5
echo "${ECHO_T}$ac_cv_prog_gcc_traditional" >&6; }
  if test $ac_cv_prog_gcc_traditional = yes; then
    CC="$CC -traditional"
  fi
fi


{ echo "$as_me:$LINENO: checking for current directory" >&5
echo $ECHO_N "checking for current directory... $ECHO_C" >&6; }
SRCDIR=`/bin/pwd`

{ echo "$as_me:$LINENO: result: $SRCDIR" >&5
echo "${ECHO_T}$SRCDIR" >&6; }


	CONFIG_SOUND=""
	CONFIG_HAS_IOMEM=""
	CONFIG_SOUND_OSS_CORE=""
	CONFIG_SOUND_OSS_CORE_PRECLAIM=""
	CONFIG_M68K=""
	CONFIG_SND=""
	CONFIG_SND_TIMER=""
	CONFIG_SND_PCM=""
	CONFIG_GCD=""
	CONFIG_SND_HWDEP=""
	CONFIG_SND_RAWMIDI=""
	CONFIG_SND_JACK=""
	CONFIG_SND_SEQUENCER=""
	CONFIG_SND_SEQ_DUMMY=""
	CONFIG_SND_OSSEMUL=""
	CONFIG_SND_MIXER_OSS=""
	CONFIG_SND_PCM_OSS=""
	CONFIG_SND_PCM_OSS_PLUGINS=""
	CONFIG_SND_SEQUENCER_OSS=""
	CONFIG_SND_HRTIMER=""
	CONFIG_HIGH_RES_TIMERS=""
	CONFIG_SND_SEQ_HRTIMER_DEFAULT=""
	CONFIG_SND_RTCTIMER=""
	CONFIG_RTC=""
	CONFIG_SND_SEQ_RTCTIMER_DEFAULT=""
	CONFIG_SND_DYNAMIC_MINORS=""
	CONFIG_SND_SUPPORT_OLD_API=""
	CONFIG_SND_VERBOSE_PROCFS=""
	CONFIG_PROC_FS=""
	CONFIG_SND_VERBOSE_PRINTK=""
	CONFIG_SND_DEBUG=""
	CONFIG_SND_DEBUG_VERBOSE=""
	CONFIG_SND_PCM_XRUN_DEBUG=""
	CONFIG_SND_VMASTER=""
	CONFIG_SND_DMA_SGBUF=""
	CONFIG_X86=""
	CONFIG_SND_RAWMIDI_SEQ=""
	CONFIG_SND_OPL3_LIB_SEQ=""
	CONFIG_SND_OPL3_LIB=""
	CONFIG_SND_OPL4_LIB_SEQ=""
	CONFIG_SND_OPL4_LIB=""
	CONFIG_SND_SBAWE_SEQ=""
	CONFIG_SND_SBAWE=""
	CONFIG_SND_EMU10K1_SEQ=""
	CONFIG_SND_EMU10K1=""
	CONFIG_SND_BIT32_EMUL=""
	CONFIG_SND_DEBUG_MEMORY=""
	CONFIG_SND_HPET=""
	CONFIG_HPET=""
	CONFIG_BROKEN=""
	CONFIG_SND_MPU401_UART=""
	CONFIG_SND_VX_LIB=""
	CONFIG_SND_AC97_CODEC=""
	CONFIG_SND_DRIVERS=""
	CONFIG_SND_PCSP=""
	CONFIG_PCSPKR_PLATFORM=""
	CONFIG_INPUT=""
	CONFIG_EXPERIMENTAL=""
	CONFIG_SND_DUMMY=""
	CONFIG_SND_VIRMIDI=""
	CONFIG_SND_MTPAV=""
	CONFIG_SND_MTS64=""
	CONFIG_PARPORT=""
	CONFIG_SND_SERIAL_U16550=""
	CONFIG_SND_MPU401=""
	CONFIG_SND_PORTMAN2X4=""
	CONFIG_SND_ML403_AC97CR=""
	CONFIG_XILINX_VIRTEX=""
	CONFIG_SND_AC97_POWER_SAVE=""
	CONFIG_SND_AC97_POWER_SAVE_DEFAULT=""
	CONFIG_SND_SERIALMIDI=""
	CONFIG_SND_LOOPBACK=""
	CONFIG_SND_WSS_LIB=""
	CONFIG_SND_SB_COMMON=""
	CONFIG_SND_SB8_DSP=""
	CONFIG_SND_SB16_DSP=""
	CONFIG_SND_ISA=""
	CONFIG_ISA=""
	CONFIG_ISA_DMA_API=""
	CONFIG_SND_ADLIB=""
	CONFIG_SND_AD1816A=""
	CONFIG_PNP=""
	CONFIG_ISAPNP=""
	CONFIG_SND_AD1848=""
	CONFIG_SND_ALS100=""
	CONFIG_SND_AZT2320=""
	CONFIG_SND_CMI8330=""
	CONFIG_SND_CS4231=""
	CONFIG_SND_CS4236=""
	CONFIG_SND_ES968=""
	CONFIG_SND_ES1688=""
	CONFIG_SND_ES18XX=""
	CONFIG_SND_SC6000=""
	CONFIG_HAS_IOPORT=""
	CONFIG_SND_GUSCLASSIC=""
	CONFIG_SND_GUSEXTREME=""
	CONFIG_SND_GUSMAX=""
	CONFIG_SND_INTERWAVE=""
	CONFIG_SND_INTERWAVE_STB=""
	CONFIG_SND_JAZZ16=""
	CONFIG_SND_OPL3SA2=""
	CONFIG_SND_OPTI92X_AD1848=""
	CONFIG_SND_OPTI92X_CS4231=""
	CONFIG_SND_OPTI93X=""
	CONFIG_SND_MIRO=""
	CONFIG_SND_SB8=""
	CONFIG_SND_SB16=""
	CONFIG_SND_SB16_CSP=""
	CONFIG_PPC=""
	CONFIG_FW_LOADER=""
	CONFIG_SND_SGALAXY=""
	CONFIG_SND_SSCAPE=""
	CONFIG_SND_WAVEFRONT=""
	CONFIG_SND_MSND_PINNACLE=""
	CONFIG_SND_MSND_CLASSIC=""
	CONFIG_SND_PC98_CS4232=""
	CONFIG_X86_PC9800=""
	CONFIG_SND_PCI=""
	CONFIG_PCI=""
	CONFIG_SND_AD1889=""
	CONFIG_SND_ALS300=""
	CONFIG_SND_ALS4000=""
	CONFIG_SND_ALI5451=""
	CONFIG_SND_ATIIXP=""
	CONFIG_SND_ATIIXP_MODEM=""
	CONFIG_SND_AU8810=""
	CONFIG_SND_AU8820=""
	CONFIG_SND_AU8830=""
	CONFIG_SND_AW2=""
	CONFIG_SND_AZT3328=""
	CONFIG_SND_BT87X=""
	CONFIG_SND_BT87X_OVERCLOCK=""
	CONFIG_SND_CA0106=""
	CONFIG_SND_CMIPCI=""
	CONFIG_SND_OXYGEN_LIB=""
	CONFIG_SND_OXYGEN=""
	CONFIG_SND_CS4281=""
	CONFIG_SND_CS46XX=""
	CONFIG_SND_CS46XX_NEW_DSP=""
	CONFIG_SND_CS5530=""
	CONFIG_SND_CS5535AUDIO=""
	CONFIG_SND_CTXFI=""
	CONFIG_SND_DARLA20=""
	CONFIG_SND_GINA20=""
	CONFIG_SND_LAYLA20=""
	CONFIG_SND_DARLA24=""
	CONFIG_SND_GINA24=""
	CONFIG_SND_LAYLA24=""
	CONFIG_SND_MONA=""
	CONFIG_SND_MIA=""
	CONFIG_SND_ECHO3G=""
	CONFIG_SND_INDIGO=""
	CONFIG_SND_INDIGOIO=""
	CONFIG_SND_INDIGODJ=""
	CONFIG_SND_INDIGOIOX=""
	CONFIG_SND_INDIGODJX=""
	CONFIG_SND_EMU10K1X=""
	CONFIG_SND_ENS1370=""
	CONFIG_SND_ENS1371=""
	CONFIG_SND_ES1938=""
	CONFIG_SND_ES1968=""
	CONFIG_SND_FM801=""
	CONFIG_SND_FM801_TEA575X_BOOL=""
	CONFIG_VIDEO_V4L2=""
	CONFIG_SND_FM801_TEA575X=""
	CONFIG_SND_HDA_INTEL=""
	CONFIG_SND_HDA_HWDEP=""
	CONFIG_SND_HDA_RECONFIG=""
	CONFIG_SND_HDA_INPUT_BEEP=""
	CONFIG_SND_HDA_INPUT_BEEP_MODE=""
	CONFIG_SND_HDA_INPUT_JACK=""
	CONFIG_SND_HDA_PATCH_LOADER=""
	CONFIG_SND_HDA_CODEC_REALTEK=""
	CONFIG_SND_HDA_CODEC_ANALOG=""
	CONFIG_SND_HDA_CODEC_SIGMATEL=""
	CONFIG_SND_HDA_CODEC_VIA=""
	CONFIG_SND_HDA_CODEC_ATIHDMI=""
	CONFIG_SND_HDA_CODEC_NVHDMI=""
	CONFIG_SND_HDA_CODEC_INTELHDMI=""
	CONFIG_SND_HDA_ELD=""
	CONFIG_SND_HDA_CODEC_CIRRUS=""
	CONFIG_SND_HDA_CODEC_CONEXANT=""
	CONFIG_SND_HDA_CODEC_CA0110=""
	CONFIG_SND_HDA_CODEC_CMEDIA=""
	CONFIG_SND_HDA_CODEC_SI3054=""
	CONFIG_SND_HDA_GENERIC=""
	CONFIG_SND_HDA_POWER_SAVE=""
	CONFIG_SND_HDA_POWER_SAVE_DEFAULT=""
	CONFIG_SND_HDSP=""
	CONFIG_SND_HDSPM=""
	CONFIG_SND_HIFIER=""
	CONFIG_SND_ICE1712=""
	CONFIG_BITREVERSE=""
	CONFIG_SND_ICE1724=""
	CONFIG_SND_INTEL8X0=""
	CONFIG_SND_INTEL8X0M=""
	CONFIG_SND_KORG1212=""
	CONFIG_SND_LX6464ES=""
	CONFIG_SND_MAESTRO3=""
	CONFIG_SND_MIXART=""
	CONFIG_SND_NM256=""
	CONFIG_SND_PCXHR=""
	CONFIG_SND_RIPTIDE=""
	CONFIG_SND_RME32=""
	CONFIG_SND_RME96=""
	CONFIG_SND_RME9652=""
	CONFIG_SND_SIS7019=""
	CONFIG_X86_64=""
	CONFIG_SND_SONICVIBES=""
	CONFIG_SND_TRIDENT=""
	CONFIG_SND_VIA82XX=""
	CONFIG_SND_VIA82XX_MODEM=""
	CONFIG_SND_VIRTUOSO=""
	CONFIG_SND_VX222=""
	CONFIG_SND_YMFPCI=""
	CONFIG_SND_PDPLUS=""
	CONFIG_SND_ASIHPI=""
	CONFIG_SND_PPC=""
	CONFIG_SND_POWERMAC=""
	CONFIG_I2C=""
	CONFIG_PPC_PMAC=""
	CONFIG_SND_POWERMAC_AUTO_DRC=""
	CONFIG_SND_PS3=""
	CONFIG_PS3_PS3AV=""
	CONFIG_SND_PS3_DEFAULT_START_DELAY=""
	CONFIG_SND_AOA=""
	CONFIG_SND_AOA_FABRIC_LAYOUT=""
	CONFIG_SND_AOA_ONYX=""
	CONFIG_I2C_POWERMAC=""
	CONFIG_SND_AOA_TAS=""
	CONFIG_SND_AOA_TOONIE=""
	CONFIG_SND_AOA_SOUNDBUS=""
	CONFIG_SND_AOA_SOUNDBUS_I2S=""
	CONFIG_SND_ARM=""
	CONFIG_ARM=""
	CONFIG_SND_ARMAACI=""
	CONFIG_ARM_AMBA=""
	CONFIG_SND_PXA2XX_PCM=""
	CONFIG_SND_PXA2XX_LIB=""
	CONFIG_SND_PXA2XX_LIB_AC97=""
	CONFIG_SND_PXA2XX_AC97=""
	CONFIG_ARCH_PXA=""
	CONFIG_SND_SA11XX_UDA1341=""
	CONFIG_ARCH_SA1100=""
	CONFIG_L3=""
	CONFIG_SND_S3C2410=""
	CONFIG_ARCH_S3C2410=""
	CONFIG_I2C_SENSOR=""
	CONFIG_SND_PXA2XX_I2SOUND=""
	CONFIG_AVR32=""
	CONFIG_ARCH_AT91=""
	CONFIG_SND_ATMEL_ABDAC=""
	CONFIG_DW_DMAC=""
	CONFIG_SND_ATMEL_AC97C=""
	CONFIG_SND_SPI=""
	CONFIG_SPI=""
	CONFIG_SND_AT73C213=""
	CONFIG_ATMEL_SSC=""
	CONFIG_SND_AT73C213_TARGET_BITRATE=""
	CONFIG_SND_MIPS=""
	CONFIG_MIPS=""
	CONFIG_SND_SGI_O2=""
	CONFIG_SGI_IP32=""
	CONFIG_SND_SGI_HAL2=""
	CONFIG_SGI_HAS_HAL2=""
	CONFIG_SND_AU1X00=""
	CONFIG_SOC_AU1000=""
	CONFIG_SOC_AU1100=""
	CONFIG_SOC_AU1500=""
	CONFIG_SND_SUPERH=""
	CONFIG_SUPERH=""
	CONFIG_SND_AICA=""
	CONFIG_SH_DREAMCAST=""
	CONFIG_G2_DMA=""
	CONFIG_SND_SH_DAC_AUDIO=""
	CONFIG_CPU_SH3=""
	CONFIG_SND_USB=""
	CONFIG_USB=""
	CONFIG_SND_USB_AUDIO=""
	CONFIG_SND_USB_UA101=""
	CONFIG_SND_USB_USX2Y=""
	CONFIG_ALPHA=""
	CONFIG_SND_USB_CAIAQ=""
	CONFIG_SND_USB_CAIAQ_INPUT=""
	CONFIG_SND_USB_US122L=""
	CONFIG_SND_PCMCIA=""
	CONFIG_PCMCIA=""
	CONFIG_SND_VXPOCKET=""
	CONFIG_SND_PDAUDIOCF=""
	CONFIG_SND_SPARC=""
	CONFIG_SPARC=""
	CONFIG_SND_SUN_AMD7930=""
	CONFIG_SBUS=""
	CONFIG_SND_SUN_CS4231=""
	CONFIG_SND_SUN_DBRI=""
	CONFIG_SND_GSC=""
	CONFIG_GSC=""
	CONFIG_SND_HARMONY=""
	CONFIG_SND_SOC=""
	CONFIG_SND_SOC_AC97_BUS=""
	CONFIG_SND_ATMEL_SOC=""
	CONFIG_SND_ATMEL_SOC_SSC=""
	CONFIG_SND_AT91_SOC_SAM9G20_WM8731=""
	CONFIG_ARCH_AT91SAM9G20=""
	CONFIG_SND_AT32_SOC_PLAYPAQ=""
	CONFIG_BOARD_PLAYPAQ=""
	CONFIG_SND_AT32_SOC_PLAYPAQ_SLAVE=""
	CONFIG_SND_AT91_SOC_AFEB9260=""
	CONFIG_MACH_AFEB9260=""
	CONFIG_SND_SOC_AU1XPSC=""
	CONFIG_SOC_AU1200=""
	CONFIG_SOC_AU1550=""
	CONFIG_SND_SOC_AU1XPSC_I2S=""
	CONFIG_SND_SOC_AU1XPSC_AC97=""
	CONFIG_SND_SOC_SAMPLE_PSC_AC97=""
	CONFIG_SND_BF5XX_I2S=""
	CONFIG_BLACKFIN=""
	CONFIG_SND_BF5XX_SOC_SSM2602=""
	CONFIG_SND_BF5XX_SOC_AD73311=""
	CONFIG_SND_BFIN_AD73311_SE=""
	CONFIG_SND_BF5XX_TDM=""
	CONFIG_SND_BF5XX_SOC_AD1836=""
	CONFIG_SND_BF5XX_SOC_AD1938=""
	CONFIG_SND_BF5XX_AC97=""
	CONFIG_SND_BF5XX_MMAP_SUPPORT=""
	CONFIG_SND_BF5XX_MULTICHAN_SUPPORT=""
	CONFIG_SND_BF5XX_HAVE_COLD_RESET=""
	CONFIG_SND_BF5XX_RESET_GPIO_NUM=""
	CONFIG_SND_BF5XX_SOC_AD1980=""
	CONFIG_SND_BF5XX_SOC_SPORT=""
	CONFIG_SND_BF5XX_SOC_I2S=""
	CONFIG_SND_BF5XX_SOC_TDM=""
	CONFIG_SND_BF5XX_SOC_AC97=""
	CONFIG_SND_BF5XX_SPORT_NUM=""
	CONFIG_SND_DAVINCI_SOC=""
	CONFIG_ARCH_DAVINCI=""
	CONFIG_SND_DAVINCI_SOC_I2S=""
	CONFIG_SND_DAVINCI_SOC_MCASP=""
	CONFIG_SND_DAVINCI_SOC_EVM=""
	CONFIG_MACH_DAVINCI_EVM=""
	CONFIG_MACH_DAVINCI_DM355_EVM=""
	CONFIG_MACH_DAVINCI_DM365_EVM=""
	CONFIG_SND_DM6467_SOC_EVM=""
	CONFIG_MACH_DAVINCI_DM6467_EVM=""
	CONFIG_SND_DAVINCI_SOC_SFFSDR=""
	CONFIG_MACH_SFFSDR=""
	CONFIG_SFFSDR_FPGA=""
	CONFIG_SND_DA830_SOC_EVM=""
	CONFIG_MACH_DAVINCI_DA830_EVM=""
	CONFIG_SND_DA850_SOC_EVM=""
	CONFIG_MACH_DAVINCI_DA850_EVM=""
	CONFIG_SND_SOC_OF_SIMPLE=""
	CONFIG_SND_MPC52XX_DMA=""
	CONFIG_SND_SOC_MPC8610=""
	CONFIG_MPC8610=""
	CONFIG_SND_SOC_MPC8610_HPCD=""
	CONFIG_MPC8610_HPCD=""
	CONFIG_SND_SOC_MPC5200_I2S=""
	CONFIG_PPC_MPC52XX=""
	CONFIG_PPC_BESTCOMM=""
	CONFIG_PPC_BESTCOMM_GEN_BD=""
	CONFIG_SND_SOC_MPC5200_AC97=""
	CONFIG_SND_MPC52XX_SOC_PCM030=""
	CONFIG_PPC_MPC5200_SIMPLE=""
	CONFIG_SND_MPC52XX_SOC_EFIKA=""
	CONFIG_PPC_EFIKA=""
	CONFIG_SND_MX1_MX2_SOC=""
	CONFIG_ARCH_MX2=""
	CONFIG_ARCH_MX1=""
	CONFIG_SND_MXC_SOC_SSI=""
	CONFIG_SND_SOC_MX27VIS_WM8974=""
	CONFIG_MACH_MX27=""
	CONFIG_MACH_IMX27_VISSTRIM_M10=""
	CONFIG_SND_OMAP_SOC=""
	CONFIG_ARCH_OMAP=""
	CONFIG_SND_OMAP_SOC_MCBSP=""
	CONFIG_OMAP_MCBSP=""
	CONFIG_SND_OMAP_SOC_N810=""
	CONFIG_MACH_NOKIA_N810=""
	CONFIG_OMAP_MUX=""
	CONFIG_SND_OMAP_SOC_AMS_DELTA=""
	CONFIG_MACH_AMS_DELTA=""
	CONFIG_SND_OMAP_SOC_OSK5912=""
	CONFIG_MACH_OMAP_OSK=""
	CONFIG_SND_OMAP_SOC_OVERO=""
	CONFIG_TWL4030_CORE=""
	CONFIG_MACH_OVERO=""
	CONFIG_MACH_CM_T35=""
	CONFIG_SND_OMAP_SOC_OMAP2EVM=""
	CONFIG_MACH_OMAP2EVM=""
	CONFIG_SND_OMAP_SOC_OMAP3EVM=""
	CONFIG_MACH_OMAP3EVM=""
	CONFIG_SND_OMAP_SOC_AM3517EVM=""
	CONFIG_MACH_OMAP3517EVM=""
	CONFIG_SND_OMAP_SOC_SDP3430=""
	CONFIG_MACH_OMAP_3430SDP=""
	CONFIG_SND_OMAP_SOC_OMAP3_PANDORA=""
	CONFIG_MACH_OMAP3_PANDORA=""
	CONFIG_SND_OMAP_SOC_OMAP3_BEAGLE=""
	CONFIG_MACH_OMAP3_BEAGLE=""
	CONFIG_SND_OMAP_SOC_ZOOM2=""
	CONFIG_MACH_OMAP_ZOOM2=""
	CONFIG_SND_OMAP_SOC_IGEP0020=""
	CONFIG_MACH_IGEP0020=""
	CONFIG_SND_PXA2XX_SOC=""
	CONFIG_SND_PXA2XX_SOC_AC97=""
	CONFIG_SND_PXA2XX_SOC_I2S=""
	CONFIG_SND_PXA_SOC_SSP=""
	CONFIG_SND_PXA2XX_SOC_CORGI=""
	CONFIG_PXA_SHARP_C7XX=""
	CONFIG_SND_PXA2XX_SOC_SPITZ=""
	CONFIG_PXA_SHARP_CXX00=""
	CONFIG_SND_PXA2XX_SOC_POODLE=""
	CONFIG_MACH_POODLE=""
	CONFIG_SND_PXA2XX_SOC_TOSA=""
	CONFIG_MACH_TOSA=""
	CONFIG_MFD_TC6393XB=""
	CONFIG_SND_PXA2XX_SOC_E740=""
	CONFIG_MACH_E740=""
	CONFIG_SND_PXA2XX_SOC_E750=""
	CONFIG_MACH_E750=""
	CONFIG_SND_PXA2XX_SOC_E800=""
	CONFIG_MACH_E800=""
	CONFIG_SND_PXA2XX_SOC_EM_X270=""
	CONFIG_MACH_EM_X270=""
	CONFIG_MACH_EXEDA=""
	CONFIG_MACH_CM_X300=""
	CONFIG_SND_PXA2XX_SOC_PALM27X=""
	CONFIG_MACH_PALMLD=""
	CONFIG_MACH_PALMTX=""
	CONFIG_MACH_PALMT5=""
	CONFIG_MACH_PALMTE2=""
	CONFIG_SND_SOC_ZYLONITE=""
	CONFIG_MACH_ZYLONITE=""
	CONFIG_SND_SOC_RAUMFELD=""
	CONFIG_MACH_RAUMFELD_SPEAKER=""
	CONFIG_MACH_RAUMFELD_CONNECTOR=""
	CONFIG_SND_PXA2XX_SOC_MAGICIAN=""
	CONFIG_MACH_MAGICIAN=""
	CONFIG_SND_PXA2XX_SOC_MIOA701=""
	CONFIG_MACH_MIOA701=""
	CONFIG_SND_PXA2XX_SOC_IMOTE2=""
	CONFIG_SND_S3C24XX_SOC=""
	CONFIG_ARCH_S3C64XX=""
	CONFIG_S3C64XX_DMA=""
	CONFIG_SND_S3C24XX_SOC_I2S=""
	CONFIG_S3C2410_DMA=""
	CONFIG_SND_S3C_I2SV2_SOC=""
	CONFIG_SND_S3C2412_SOC_I2S=""
	CONFIG_SND_S3C64XX_SOC_I2S=""
	CONFIG_SND_S3C_SOC_PCM=""
	CONFIG_SND_S3C2443_SOC_AC97=""
	CONFIG_SND_S3C24XX_SOC_NEO1973_WM8753=""
	CONFIG_MACH_NEO1973_GTA01=""
	CONFIG_SND_S3C24XX_SOC_NEO1973_GTA02_WM8753=""
	CONFIG_MACH_NEO1973_GTA02=""
	CONFIG_SND_S3C24XX_SOC_JIVE_WM8750=""
	CONFIG_MACH_JIVE=""
	CONFIG_SND_S3C64XX_SOC_WM8580=""
	CONFIG_MACH_SMDK6400=""
	CONFIG_MACH_SMDK6410=""
	CONFIG_SND_S3C24XX_SOC_SMDK2443_WM9710=""
	CONFIG_MACH_SMDK2443=""
	CONFIG_SND_S3C24XX_SOC_LN2440SBC_ALC650=""
	CONFIG_SND_S3C24XX_SOC_S3C24XX_UDA134X=""
	CONFIG_SND_S3C24XX_SOC_SIMTEC=""
	CONFIG_SND_S3C24XX_SOC_SIMTEC_TLV320AIC23=""
	CONFIG_SND_S3C24XX_SOC_SIMTEC_HERMES=""
	CONFIG_SND_S6000_SOC=""
	CONFIG_XTENSA_VARIANT_S6000=""
	CONFIG_SND_S6000_SOC_I2S=""
	CONFIG_SND_S6000_SOC_S6IPCAM=""
	CONFIG_XTENSA_PLATFORM_S6105=""
	CONFIG_SND_SOC_PCM_SH7760=""
	CONFIG_CPU_SUBTYPE_SH7760=""
	CONFIG_SH_DMABRG=""
	CONFIG_SND_SOC_SH4_HAC=""
	CONFIG_SND_SOC_SH4_SSI=""
	CONFIG_SND_SOC_SH4_FSI=""
	CONFIG_CPU_SUBTYPE_SH7724=""
	CONFIG_SND_SH7760_AC97=""
	CONFIG_SND_FSI_AK4642=""
	CONFIG_SND_FSI_DA7210=""
	CONFIG_SND_SOC_TXX9ACLC=""
	CONFIG_HAS_TXX9_ACLC=""
	CONFIG_TXX9_DMAC=""
	CONFIG_SND_SOC_TXX9ACLC_AC97=""
	CONFIG_SND_SOC_TXX9ACLC_GENERIC=""
	CONFIG_SND_SOC_I2C_AND_SPI=""
	CONFIG_SND_SOC_ALL_CODECS=""
	CONFIG_SND_SOC_WM_HUBS=""
	CONFIG_SND_SOC_AC97_CODEC=""
	CONFIG_SND_SOC_AD1836=""
	CONFIG_SND_SOC_AD1938=""
	CONFIG_SND_SOC_AD1980=""
	CONFIG_SND_SOC_AD73311=""
	CONFIG_SND_SOC_ADS117X=""
	CONFIG_SND_SOC_AK4104=""
	CONFIG_SND_SOC_AK4535=""
	CONFIG_SND_SOC_AK4642=""
	CONFIG_SND_SOC_AK4671=""
	CONFIG_SND_SOC_CS4270=""
	CONFIG_SND_SOC_DA7210=""
	CONFIG_SND_SOC_CS4270_VD33_ERRATA=""
	CONFIG_SND_SOC_CX20442=""
	CONFIG_SND_SOC_L3=""
	CONFIG_SND_SOC_PCM3008=""
	CONFIG_SND_SOC_SPDIF=""
	CONFIG_SND_SOC_SSM2602=""
	CONFIG_SND_SOC_STAC9766=""
	CONFIG_SND_SOC_TLV320AIC23=""
	CONFIG_SND_SOC_TLV320AIC26=""
	CONFIG_SND_SOC_TLV320AIC3X=""
	CONFIG_SND_SOC_TLV320DAC33=""
	CONFIG_SND_SOC_TWL4030=""
	CONFIG_TWL4030_CODEC=""
	CONFIG_SND_SOC_UDA134X=""
	CONFIG_SND_SOC_UDA1380=""
	CONFIG_SND_SOC_WM8350=""
	CONFIG_SND_SOC_WM8400=""
	CONFIG_SND_SOC_WM8510=""
	CONFIG_SND_SOC_WM8523=""
	CONFIG_SND_SOC_WM8580=""
	CONFIG_SND_SOC_WM8711=""
	CONFIG_SND_SOC_WM8727=""
	CONFIG_SND_SOC_WM8728=""
	CONFIG_SND_SOC_WM8731=""
	CONFIG_SND_SOC_WM8750=""
	CONFIG_SND_SOC_WM8753=""
	CONFIG_SND_SOC_WM8776=""
	CONFIG_SND_SOC_WM8900=""
	CONFIG_SND_SOC_WM8903=""
	CONFIG_SND_SOC_WM8904=""
	CONFIG_SND_SOC_WM8940=""
	CONFIG_SND_SOC_WM8955=""
	CONFIG_SND_SOC_WM8960=""
	CONFIG_SND_SOC_WM8961=""
	CONFIG_SND_SOC_WM8971=""
	CONFIG_SND_SOC_WM8974=""
	CONFIG_SND_SOC_WM8988=""
	CONFIG_SND_SOC_WM8990=""
	CONFIG_SND_SOC_WM8993=""
	CONFIG_SND_SOC_WM9081=""
	CONFIG_SND_SOC_WM9705=""
	CONFIG_SND_SOC_WM9712=""
	CONFIG_SND_SOC_WM9713=""
	CONFIG_SND_SOC_MAX9877=""
	CONFIG_SND_SOC_TPA6130A2=""
	CONFIG_SOUND_PRIME=""
	CONFIG_AC97_BUS=""


{ echo "$as_me:$LINENO: checking cross compile" >&5
echo $ECHO_N "checking cross compile... $ECHO_C" >&6; }

# Check whether --with-cross was given.
if test "${with_cross+set}" = set; then
  withval=$with_cross; crossprefix="$withval"
else
  crossprefix=""
fi

CROSS_COMPILE="$crossprefix"

{ echo "$as_me:$LINENO: result: $CROSS_COMPILE" >&5
echo "${ECHO_T}$CROSS_COMPILE" >&6; }

if test "$crossprefix"; then
# modify CC, CPP and maybe some other variables. CC is set to
# e.g. /usr/local/bin/gcc by autoconf - this is then modified
# to arm-linux-/usr/local/bin/gcc in Makefile.conf - that is bad - so
# cut the path out (but save optional params - e.g. gcc -E for CPP)
echo $CC | grep ' ' >/dev/null && CC_save=`echo "$CC" | cut -d' ' -f2-`
CC="`basename $CC` $CC_save"

echo $CPP | grep ' ' >/dev/null && CPP_save=`echo "$CPP" | cut -d' ' -f2-`
CPP="`basename $CPP` $CPP_save"
fi

{ echo "$as_me:$LINENO: checking for directory with ALSA kernel sources" >&5
echo $ECHO_N "checking for directory with ALSA kernel sources... $ECHO_C" >&6; }

# Check whether --with-alsakernel was given.
if test "${with_alsakernel+set}" = set; then
  withval=$with_alsakernel; alsakerneldir="$withval"
else
  alsakerneldir="../alsa-kmirror"

fi

ALSAKERNELDIR=$(cd "$alsakerneldir" && pwd)
{ echo "$as_me:$LINENO: result: $alsakerneldir" >&5
echo "${ECHO_T}$alsakerneldir" >&6; }


{ echo "$as_me:$LINENO: checking for directory with kernel source" >&5
echo $ECHO_N "checking for directory with kernel source... $ECHO_C" >&6; }
if test -d "/lib/modules/`uname -r`/source" -o -L "/lib/modules/`uname -r`/source"; then
  DEFAULT_KERNEL_DIR="/lib/modules/`uname -r`/source"
  DEFAULT_KERNEL_BUILD="/lib/modules/`uname -r`/build"
elif test -d "/lib/modules/`uname -r`/build" -o -L "/lib/modules/`uname -r`/build"; then
  DEFAULT_KERNEL_DIR="/lib/modules/`uname -r`/build"
else
  DEFAULT_KERNEL_DIR="/usr/src/linux"
fi

# Check whether --with-kernel was given.
if test "${with_kernel+set}" = set; then
  withval=$with_kernel; kerneldir="$withval"
   DEFAULT_KERNEL_BUILD=""
else
  kerneldir="$DEFAULT_KERNEL_DIR"

fi

CONFIG_SND_KERNELDIR=$(cd "$kerneldir" && pwd)
{ echo "$as_me:$LINENO: result: $kerneldir" >&5
echo "${ECHO_T}$kerneldir" >&6; }

{ echo "$as_me:$LINENO: checking for directory with kernel build" >&5
echo $ECHO_N "checking for directory with kernel build... $ECHO_C" >&6; }

# Check whether --with-build was given.
if test "${with_build+set}" = set; then
  withval=$with_build; kernelbuild="$withval"
else
  kernelbuild="$DEFAULT_KERNEL_BUILD"

fi

CONFIG_SND_KERNELBUILD="$kernelbuild"
{ echo "$as_me:$LINENO: result: $kernelbuild" >&5
echo "${ECHO_T}$kernelbuild" >&6; }



  { echo "$as_me:$LINENO: checking for kernel linux/version.h" >&5
echo $ECHO_N "checking for kernel linux/version.h... $ECHO_C" >&6; }
  if ! test -r $CONFIG_SND_KERNELDIR/include/linux/version.h; then
    if test -z "$kernelbuild" -o ! -f $kernelbuild/include/linux/version.h; then
      { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
      cat << EOF
The file $CONFIG_SND_KERNELDIR/include/linux/version.h does not exist.
Please install the package with full kernel sources for your distribution
or use --with-kernel=dir option to specify another directory with kernel
sources (default is $DEFAULT_KERNEL_DIR).
EOF
      exit 1
    fi
  fi
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }


  { echo "$as_me:$LINENO: checking for kernel linux/autoconf.h" >&5
echo $ECHO_N "checking for kernel linux/autoconf.h... $ECHO_C" >&6; }
  if ! test -r $CONFIG_SND_KERNELDIR/include/linux/autoconf.h; then
    if test -z "$kernelbuild" -o ! -f $kernelbuild/include/linux/autoconf.h; then
      { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
      cat << EOF
The file $CONFIG_SND_KERNELDIR/include/linux/autoconf.h does not exist.
Please install the package with full kernel sources for your distribution
or use --with-kernel=dir option to specify another directory with kernel
sources (default is $DEFAULT_KERNEL_DIR).
EOF
      exit 1
    fi
  fi
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }


{ echo "$as_me:$LINENO: checking for kernel version" >&5
echo $ECHO_N "checking for kernel version... $ECHO_C" >&6; }
KERNEL_INC="-I$CONFIG_SND_KERNELDIR/include"
MAKE_ADDS=""
if test -n "$kernelbuild"; then
  kpath=""
  if test -d "$kernelbuild/include"; then
    kpath="-I$kernelbuild/include"
  fi
  if test -d "$kernelbuild/include2"; then
    kpath="$kpath -I$kernelbuild/include2"
    MAKE_ADDS="O=$kernelbuild"
  fi
  KERNEL_INC="$kpath $KERNEL_INC"
fi
HACK_KERNEL_INC=""
ac_save_CFLAGS="$CFLAGS"
CFLAGS="$CFLAGS $KERNEL_INC $HACK_KERNEL_INC"
if test -n "$kernelbuild" -a -f $kernelbuild/include/linux/version.h; then
  KERNDIR=$kernelbuild
else
  KERNDIR=$CONFIG_SND_KERNELDIR
fi
if test "$cross_compiling" = yes; then
  kaversion=""
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include <stdio.h>
#include <ctype.h>
#include <stdlib.h>
#include "$KERNDIR/include/linux/version.h"
#ifndef UTS_RELEASE
#include "$KERNDIR/include/linux/utsrelease.h"
#endif
int main()
{
 FILE *f;
 char kversion[128];
 char kpatchlevel[128];
 char ksublevel[128];
 char kextra[128];
 char *ptr, *dptr;
#ifdef UTS_RELEASE
 f=fopen("./conftestdata","w");
 if (f) {
   for (ptr = UTS_RELEASE, dptr = kversion; *ptr != '\0' && isdigit(*ptr); ptr++, dptr++)
     *dptr = *ptr;
   *dptr = '\0';
   if (*ptr == '.')
     ptr++;
   for (dptr = kpatchlevel; *ptr != '\0' && isdigit(*ptr); ptr++, dptr++)
     *dptr = *ptr;
   *dptr = '\0';
   if (*ptr == '.')
     ptr++;
   for (dptr = ksublevel; *ptr != '\0' && isdigit(*ptr); ptr++, dptr++)
     *dptr = *ptr;
   *dptr = '\0';
   for (dptr = kextra; *ptr != '\0'; ptr++, dptr++)
     *dptr = *ptr;
   *dptr = '\0';
   fprintf(f,"%s:%s:%s:%s\n",kversion,kpatchlevel,ksublevel,kextra);
   fclose(f);
   }
 exit(0);
#else
 exit(1);
#endif
}
_ACEOF
rm -f conftest$ac_exeext
if { (ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  kaversion=`cat conftestdata`
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
kaversion=""
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi


CFLAGS="$ac_save_CFLAGS"
kversion=`echo $kaversion | cut -d : -f 1`
kpatchlevel=`echo $kaversion | cut -d : -f 2`
ksublevel=`echo $kaversion | cut -d : -f 3`
kextraversion=`echo $kaversion | cut -d : -f 4`
kversion=`expr $kversion + 0`
kpatchlevel=`expr $kpatchlevel + 0`
ksublevel=`expr $ksublevel + 0`
if test -z "$kversion" || test -z "$kpatchlevel" || test -z "$ksublevel"; then
  echo "failed (probably missing $CONFIG_SND_KERNELDIR/include/linux/version.h)"
  exit 1
fi
kaversion="$kversion.$kpatchlevel.$ksublevel$kextraversion"





{ echo "$as_me:$LINENO: result: $kaversion" >&5
echo "${ECHO_T}$kaversion" >&6; }

{ echo "$as_me:$LINENO: checking for GCC version" >&5
echo $ECHO_N "checking for GCC version... $ECHO_C" >&6; }
ac_save_CFLAGS="$CFLAGS"
CFLAGS="$CFLAGS $KERNEL_INC $HACK_KERNEL_INC"
if test -n "$kernelbuild" -a -f $kernelbuild/include/linux/compile.h; then
  KERNDIR=$kernelbuild
else
  KERNDIR=$CONFIG_SND_KERNELDIR
fi

if test "$cross_compiling" = yes; then
  kernel_compiler=""
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include <stdio.h>
#include <ctype.h>
#include <string.h>
#include "$KERNDIR/include/linux/compile.h"
int main()
{
 FILE *f;
 char compiler[128];
 char *ptr, *dptr;
#ifdef LINUX_COMPILER
 f=fopen("./conftestdata","w");
 if (f) {
   for (ptr = LINUX_COMPILER, dptr = compiler; *ptr != '\0' && *ptr != ' ' && *ptr != '\t'; ptr++, dptr++)
     *dptr = *ptr;
   if (*ptr != '\0' && (*ptr == ' ' || *ptr == '\t'))
     ptr++;
   if (!strncmp(ptr, "version", 7))
	ptr += 7;
   if (*ptr != '\0' && (*ptr == ' ' || *ptr == '\t'))
     ptr++;
   *dptr++ = ' ';
   for (; *ptr != '\0' && *ptr != '\n'; ptr++, dptr++)
     *dptr = *ptr;
   *dptr = '\t';
   *dptr = '\0';
   if (!strcmp(compiler, " "))
	compiler[0] = '\0';
   fprintf(f,"%s\n",compiler);
   fclose(f);
   }
 exit(0);
#else
 exit(1);
#endif
}
_ACEOF
rm -f conftest$ac_exeext
if { (ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  kernel_compiler=`cat conftestdata`
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
kernel_compiler=""
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi


CFLAGS="$ac_save_CFLAGS"
my_compiler=`$CROSS_COMPILE$CC --version | head -n 1`




  typevar=kernel_compiler_type
  versionvar=kernel_compiler_version
  ac_compiler_type=""
  ac_compiler_version=""
  for i in $kernel_compiler; do
    case $i in
    gcc-[0-9]*|*-gcc-[0-9]*)
      if test -z "$ac_compiler_type"; then
        ac_compiler_type=gcc
      fi
      if test -z "$ac_compiler_version"; then
        ac_compiler_version=`echo $i | sed -e 's/^.*gcc-\([0-9.]\+\).*$/\1/'`
      fi
      ;;
    *gcc*|*GCC*)
      if test -z "$ac_compiler_type"; then
        ac_compiler_type=gcc
      fi
      ;;
    egcs-*)
      ac_compiler_type=egcs
      if test -z "$ac_compiler_version"; then
        ac_compiler_version=`echo $i | sed -e 's/egcs-\(.\+\)$/\1/'`
      fi
      ;;
    *cc*)
      if test -z "$ac_compiler_type"; then
        ac_compiler_type=cc
      fi
      ;;
    [0-9].[0-9]*)
      if test -z "$ac_compiler_version"; then
        ac_compiler_version="$i"
      fi
      ;;
    esac
  done
  eval $typevar="$ac_compiler_type"
  eval $versionvar="$ac_compiler_version"


  typevar=my_compiler_type
  versionvar=my_compiler_version
  ac_compiler_type=""
  ac_compiler_version=""
  for i in $my_compiler; do
    case $i in
    gcc-[0-9]*|*-gcc-[0-9]*)
      if test -z "$ac_compiler_type"; then
        ac_compiler_type=gcc
      fi
      if test -z "$ac_compiler_version"; then
        ac_compiler_version=`echo $i | sed -e 's/^.*gcc-\([0-9.]\+\).*$/\1/'`
      fi
      ;;
    *gcc*|*GCC*)
      if test -z "$ac_compiler_type"; then
        ac_compiler_type=gcc
      fi
      ;;
    egcs-*)
      ac_compiler_type=egcs
      if test -z "$ac_compiler_version"; then
        ac_compiler_version=`echo $i | sed -e 's/egcs-\(.\+\)$/\1/'`
      fi
      ;;
    *cc*)
      if test -z "$ac_compiler_type"; then
        ac_compiler_type=cc
      fi
      ;;
    [0-9].[0-9]*)
      if test -z "$ac_compiler_version"; then
        ac_compiler_version="$i"
      fi
      ;;
    esac
  done
  eval $typevar="$ac_compiler_type"
  eval $versionvar="$ac_compiler_version"

if test -z "$my_compiler_type"; then
  my_compiler_type="gcc"
fi
{ echo "$as_me:$LINENO: result: Kernel compiler: $kernel_compiler Used compiler: $my_compiler" >&5
echo "${ECHO_T}Kernel compiler: $kernel_compiler Used compiler: $my_compiler" >&6; };
if test -z "$kernel_compiler"; then
  echo
  echo "*** NO PREDEFINED KERNEL COMPILER IS DETECTED"
  echo "*** Assuming the same compiler is used with the current system compiler."
  echo
  echo "*** Please make sure that the same compiler version was used for building kernel."
  echo
else
if test "$my_compiler_type" != "$kernel_compiler_type"; then
  echo "Fatal error: Compiler type does not match"
  echo "Decoded kernel compiler: type=$kernel_compiler_type version=$kernel_compiler_version"
  echo "Decoded used compiler: type=$my_compiler_type version=$my_compiler_version"
  echo "Please, send ./configure output to <alsa-devel@alsa-project.org>"
  exit 1
fi
if test "$my_compiler_type" = "gcc" ; then
  kernel_major=`echo $kernel_compiler_version | cut -d '.' -f 1`
  my_major=`echo $my_compiler_version | cut -d '.' -f 1`
  if test $kernel_major -eq 2 -a $my_major -eq 3 ; then
    echo "Fatal error: Kernel is compiled with GCC 2.x and you are trying to use GCC 3.x."
    echo "             These two version of GCC are incompatible for binary code."
    exit 1
  fi
  if test $kernel_major -eq 3 -a $my_major -eq 2 ; then
    echo "Fatal error: Kernel is compiled with GCC 3.x and you are trying to use GCC 2.x."
    echo "             These two version of GCC are incompatible for binary code."
    exit 1
  fi
fi
fi













if test "$kversion.$kpatchlevel" = "2.6"; then
  NEW_KBUILD=y

fi


  boolvar="CONFIG_SND"
  { echo "$as_me:$LINENO: checking for built-in ALSA" >&5
echo $ECHO_N "checking for built-in ALSA... $ECHO_C" >&6; }
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS="$CFLAGS $KERNEL_INC $HACK_KERNEL_INC"
  if test -n "$kernelbuild" -a -f "$kernelbuild/include/linux/autoconf.h"; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  boolchk=""
  if test "$cross_compiling" = yes; then
  { echo "$as_me:$LINENO: result: unknown" >&5
echo "${ECHO_T}unknown" >&6; };boolchk=""

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include "$KERNDIR/include/linux/autoconf.h"
int main( void ) {
#ifndef $boolvar
  exit(1);
#else
  exit(0);
#endif
}

_ACEOF
rm -f conftest$ac_exeext
if { (ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };boolchk="y"
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };boolchk=""
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi


  CFLAGS="$ac_save_CFLAGS"
  eval $boolvar="$boolchk"

if test "$CONFIG_SND" = "y"; then
  { { echo "$as_me:$LINENO: error: You have built-in ALSA in your kernel." >&5
echo "$as_me: error: You have built-in ALSA in your kernel." >&2;}
   { (exit 1); exit 1; }; }
fi

  boolvar="CONFIG_SND_MODULE"
  boolvar1="CONFIG_SND_MODULE_MODULE"
  { echo "$as_me:$LINENO: checking for existing ALSA module" >&5
echo $ECHO_N "checking for existing ALSA module... $ECHO_C" >&6; }
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS="$CFLAGS $KERNEL_INC $HACK_KERNEL_INC"
  if test -n "$kernelbuild" -a -f "$kernelbuild/include/linux/autoconf.h"; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  boolchk=""
  if test "$cross_compiling" = yes; then
  { echo "$as_me:$LINENO: result: unknown" >&5
echo "${ECHO_T}unknown" >&6; };boolchk=""

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include "$KERNDIR/include/linux/autoconf.h"
int main( void ) {
#if !defined($boolvar) && !defined($boolvar1)
  exit(1);
#else
  exit(0);
#endif
}

_ACEOF
rm -f conftest$ac_exeext
if { (ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };boolchk="y"
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };boolchk=""
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi


  CFLAGS="$ac_save_CFLAGS"
  eval $boolvar="$boolchk"

test "$CONFIG_SND_MODULE" = "y" && cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_MODULE 1
_ACEOF


{ echo "$as_me:$LINENO: checking for Red Hat kernel" >&5
echo $ECHO_N "checking for Red Hat kernel... $ECHO_C" >&6; }

# Check whether --with-redhat was given.
if test "${with_redhat+set}" = set; then
  withval=$with_redhat; redhat_kernel="$withval"
else
  redhat_kernel="auto"
fi

RED_HAT_LINUX_KERNEL="auto"
if test "$redhat_kernel" = "yes"; then
  RED_HAT_LINUX_KERNEL="y"
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
else
  if test "$redhat_kernel" = "no"; then
    RED_HAT_LINUX_KERNEL="n"
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
  else
    { echo "$as_me:$LINENO: result: auto" >&5
echo "${ECHO_T}auto" >&6; }

  boolvar="RED_HAT_LINUX_KERNEL"
  boolvar1="RED_HAT_LINUX_KERNEL_MODULE"
  { echo "$as_me:$LINENO: checking for Red Hat kernel" >&5
echo $ECHO_N "checking for Red Hat kernel... $ECHO_C" >&6; }
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS="$CFLAGS $KERNEL_INC $HACK_KERNEL_INC"
  if test -n "$kernelbuild" -a -f "$kernelbuild/include/linux/autoconf.h"; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  boolchk=""
  if test "$cross_compiling" = yes; then
  { echo "$as_me:$LINENO: result: unknown" >&5
echo "${ECHO_T}unknown" >&6; };boolchk=""

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include "$KERNDIR/include/linux/autoconf.h"
int main( void ) {
#if !defined($boolvar) && !defined($boolvar1)
  exit(1);
#else
  exit(0);
#endif
}

_ACEOF
rm -f conftest$ac_exeext
if { (ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };boolchk="y"
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };boolchk=""
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi


  CFLAGS="$ac_save_CFLAGS"
  eval $boolvar="$boolchk"

  fi
fi

{ echo "$as_me:$LINENO: checking for SUSE kernel" >&5
echo $ECHO_N "checking for SUSE kernel... $ECHO_C" >&6; }

# Check whether --with-suse was given.
if test "${with_suse+set}" = set; then
  withval=$with_suse; suse_kernel="$withval"
else
  suse_kernel="auto"
fi

CONFIG_SUSE_KERNEL="auto"
if test "$suse_kernel" = "yes"; then
  CONFIG_SUSE_KERNEL="y"
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
else
  if test "$suse_kernel" = "no"; then
    CONFIG_SUSE_KERNEL=""
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
  else
    { echo "$as_me:$LINENO: result: auto" >&5
echo "${ECHO_T}auto" >&6; }

  boolvar="CONFIG_SUSE_KERNEL"
  boolvar1="CONFIG_SUSE_KERNEL_MODULE"
  { echo "$as_me:$LINENO: checking for SUSE kernel" >&5
echo $ECHO_N "checking for SUSE kernel... $ECHO_C" >&6; }
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS="$CFLAGS $KERNEL_INC $HACK_KERNEL_INC"
  if test -n "$kernelbuild" -a -f "$kernelbuild/include/linux/autoconf.h"; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  boolchk=""
  if test "$cross_compiling" = yes; then
  { echo "$as_me:$LINENO: result: unknown" >&5
echo "${ECHO_T}unknown" >&6; };boolchk=""

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include "$KERNDIR/include/linux/autoconf.h"
int main( void ) {
#if !defined($boolvar) && !defined($boolvar1)
  exit(1);
#else
  exit(0);
#endif
}

_ACEOF
rm -f conftest$ac_exeext
if { (ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };boolchk="y"
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };boolchk=""
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi


  CFLAGS="$ac_save_CFLAGS"
  eval $boolvar="$boolchk"

  fi
fi

cat >>confdefs.h <<_ACEOF
#define CONFIG_SND_KERNELDIR "$CONFIG_SND_KERNELDIR"
_ACEOF




{ echo "$as_me:$LINENO: checking for updating alsa-kernel version.h" >&5
echo $ECHO_N "checking for updating alsa-kernel version.h... $ECHO_C" >&6; }
# Check whether --enable-update-version was given.
if test "${enable_update_version+set}" = set; then
  enableval=$enable_update_version; update_version="$enableval"
else
  update_version="yes"
fi

{ echo "$as_me:$LINENO: result: $update_version" >&5
echo "${ECHO_T}$update_version" >&6; }

{ echo "$as_me:$LINENO: checking for CONFIG_EXPERIMENTAL" >&5
echo $ECHO_N "checking for CONFIG_EXPERIMENTAL... $ECHO_C" >&6; }
# Check whether --enable-experimental was given.
if test "${enable_experimental+set}" = set; then
  enableval=$enable_experimental; config_experimental="$enableval"
else
  config_experimental="yes"
fi

if test "$config_experimental" = "yes"; then
  CONFIG_EXPERIMENTAL=y
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
else
  CONFIG_EXPERIMENTAL=
  { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
fi


rm -f include/linux/*.h
rm -f include/asm/*.h


{ echo "$as_me:$LINENO: checking for directory to store kernel modules" >&5
echo $ECHO_N "checking for directory to store kernel modules... $ECHO_C" >&6; }

# Check whether --with-moddir was given.
if test "${with_moddir+set}" = set; then
  withval=$with_moddir; moddir="$withval"
else
  moddir_tree=
  modsubdir="misc"
# Special test for RH 5.1
  if test -d /lib/modules/preferred; then
    moddir="/lib/modules/preferred/misc"
  else
    if test -d /lib/modules/$kaversion/kernel; then
      modsubdir="kernel/sound"
      moddir="/lib/modules/$kaversion/$modsubdir"
      moddir_tree=y
    else
      moddir="/lib/modules/$kaversion/misc"
    fi
  fi

fi

case "$moddir" in
/*)
  ;;
*)
  modsubdir="$moddir"
  moddir="/lib/modules/$kaversion/$modsubdir"
  ;;
esac



{ echo "$as_me:$LINENO: result: $moddir" >&5
echo "${ECHO_T}$moddir" >&6; }

{ echo "$as_me:$LINENO: checking for verbose procfs" >&5
echo $ECHO_N "checking for verbose procfs... $ECHO_C" >&6; }
# Check whether --enable-verbose-procfs was given.
if test "${enable_verbose_procfs+set}" = set; then
  enableval=$enable_verbose_procfs; verbose_procfs="$enableval"
else
  verbose_procfs="yes"
fi

case "$verbose_procfs" in
  yes)
    CONFIG_SND_VERBOSE_PROCFS=y
    cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_VERBOSE_PROCFS 1
_ACEOF

    { echo "$as_me:$LINENO: result: on" >&5
echo "${ECHO_T}on" >&6; }
    ;;
  *)
    { echo "$as_me:$LINENO: result: off" >&5
echo "${ECHO_T}off" >&6; }
    ;;
esac

{ echo "$as_me:$LINENO: checking for verbose printk" >&5
echo $ECHO_N "checking for verbose printk... $ECHO_C" >&6; }
# Check whether --enable-verbose-printk was given.
if test "${enable_verbose_printk+set}" = set; then
  enableval=$enable_verbose_printk; verbose_printk="$enableval"
else
  verbose_printk="yes"
fi

case "$verbose_printk" in
  yes)
    CONFIG_SND_VERBOSE_PRINTK=y
    cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_VERBOSE_PRINTK 1
_ACEOF

    { echo "$as_me:$LINENO: result: on" >&5
echo "${ECHO_T}on" >&6; }
    ;;
  *)
    { echo "$as_me:$LINENO: result: off" >&5
echo "${ECHO_T}off" >&6; }
    ;;
esac


{ echo "$as_me:$LINENO: checking for debug level" >&5
echo $ECHO_N "checking for debug level... $ECHO_C" >&6; }

# Check whether --with-debug was given.
if test "${with_debug+set}" = set; then
  withval=$with_debug; debug="$withval"
else
  debug="none"
fi

case "$debug" in
  basic)
    { echo "$as_me:$LINENO: result: basic" >&5
echo "${ECHO_T}basic" >&6; }
    CONFIG_SND_DEBUG=y
    cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_DEBUG 1
_ACEOF

    ;;
  memory|full)
    { echo "$as_me:$LINENO: result: full" >&5
echo "${ECHO_T}full" >&6; }
    CONFIG_SND_DEBUG=y
    cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_DEBUG 1
_ACEOF

    CONFIG_SND_DEBUG_MEMORY=y
    cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_DEBUG_MEMORY 1
_ACEOF

    ;;
  detect|verbose)
    { echo "$as_me:$LINENO: result: verbose" >&5
echo "${ECHO_T}verbose" >&6; }
    CONFIG_SND_DEBUG=y
    cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_DEBUG 1
_ACEOF

    CONFIG_SND_DEBUG_MEMORY=y
    cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_DEBUG_MEMORY 1
_ACEOF

    CONFIG_SND_DEBUG_VERBOSE=y
    cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_DEBUG_VERBOSE 1
_ACEOF

    ;;
  *)
    { echo "$as_me:$LINENO: result: none" >&5
echo "${ECHO_T}none" >&6; }
    ;;
esac

if test $kpatchlevel -ge 3; then

  boolvar="CONFIG_ISA"
  boolvar1="CONFIG_ISA_MODULE"
  { echo "$as_me:$LINENO: checking for ISA support in kernel" >&5
echo $ECHO_N "checking for ISA support in kernel... $ECHO_C" >&6; }
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS="$CFLAGS $KERNEL_INC $HACK_KERNEL_INC"
  if test -n "$kernelbuild" -a -f "$kernelbuild/include/linux/autoconf.h"; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  boolchk=""
  if test "$cross_compiling" = yes; then
  { echo "$as_me:$LINENO: result: unknown" >&5
echo "${ECHO_T}unknown" >&6; };boolchk=""

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include "$KERNDIR/include/linux/autoconf.h"
int main( void ) {
#if !defined($boolvar) && !defined($boolvar1)
  exit(1);
#else
  exit(0);
#endif
}

_ACEOF
rm -f conftest$ac_exeext
if { (ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };boolchk="y"
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };boolchk=""
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi


  CFLAGS="$ac_save_CFLAGS"
  eval $boolvar="$boolchk"

else
CONFIG_ISA=probe
fi

{ echo "$as_me:$LINENO: checking for processor type" >&5
echo $ECHO_N "checking for processor type... $ECHO_C" >&6; }
CONFIG_X86=
CONFIG_ALPHA=
CONFIG_L3=
CONFIG_ARM=
CONFIG_ARCH_SA1100=
CONFIG_ARCH_PXA=
CONFIG_PPC=
CONFIG_SPARC32=
CONFIG_SPARC64=
CONFIG_SBUS=
CONFIG_MIPS=
CONFIG_SND_BIT32_EMUL=
processor=""
KCC=$CROSS_COMPILE$CC
rm -f processor.id
ac_save_CFLAGS="$CFLAGS"
CFLAGS="$CFLAGS $KERNEL_INC $HACK_KERNEL_INC"
if test -n "$kernelbuild" -a -f "$kernelbuild/include/linux/autoconf.h"; then
  KERNDIR=$kernelbuild
else
  KERNDIR=$CONFIG_SND_KERNELDIR
fi
if test "$cross_compiling" = yes; then
  { echo "$as_me:$LINENO: result: unknown" >&5
echo "${ECHO_T}unknown" >&6; };processor=""

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include <stdio.h>
#include "$KERNDIR/include/linux/autoconf.h"
int main(void) {
	FILE *file = fopen("processor.id", "w+");
	if (file == NULL)
		exit(1);
#if defined(CONFIG_M386)
	fprintf(file, "i386");
#elif defined(CONFIG_M486)
	fprintf(file, "i486");
#elif defined(CONFIG_M586)
	fprintf(file, "i586");
#elif defined(CONFIG_X86_64) /* this needs to be chcked before K8 */
	fprintf(file, "x86_64");
#elif defined(CONFIG_M586TSC)
	fprintf(file, "i586tsc");
#elif defined(CONFIG_M586MMX)
	fprintf(file, "i586mmx");
#elif defined(CONFIG_MCORE2)
	fprintf(file, "mcore2");
#elif defined(CONFIG_M686) || defined(CONFIG_MPENTIUMII) || defined(CONFIG_MPENTIUMIII) || defined(CONFIG_MPENTIUM4) || defined(CONFIG_MPENTIUMM)
	fprintf(file, "i686");
#elif defined(CONFIG_MK6)
	fprintf(file, "k6");
#elif defined(CONFIG_MK7)
	fprintf(file, "k7");
#elif defined(CONFIG_MK8)
	fprintf(file, "k8");
#elif defined(CONFIG_MGEODEGX1)
	fprintf(file, "geodegx1");
#elif defined(CONFIG_MCRUSOE)
	fprintf(file, "crusoe");
#elif defined(CONFIG_MWINCHIPC6) || defined(CONFIG_MWINCHIP2) || defined(CONFIG_MWINCHIP3D)
	fprintf(file, "mwinchip");
#elif defined(CONFIG_MCYRIXIII)
	fprintf(file, "mcyrixiii");
#elif defined(CONFIG_X86_32)
	fprintf(file, "x86_32");
#elif defined(CONFIG_IA64)
	fprintf(file, "ia64");
#elif defined(CONFIG_ALPHA_GENERIC)
	fprintf(file, "alpha_generic");
#elif defined(CONFIG_ALPHA_SX164)
	fprintf(file, "alpha_sx164");
#elif defined(CONFIG_ALPHA_PYXIS)
	fprintf(file, "alpha_pyxis");
#elif defined(CONFIG_ALPHA_POLARIS)
	fprintf(file, "alpha_polaris");
#elif defined(CONFIG_EV4) || defined(CONFIG_ALPHA_EV4)
	fprintf(file, "alpha_ev4");
#elif defined(CONFIG_EV5) || defined(CONFIG_ALPHA_EV5)
	fprintf(file, "alpha_ev5");
#elif defined(CONFIG_EV6) || defined(CONFIG_ALPHA_EV6)
	fprintf(file, "alpha_ev6");
#elif defined(CONFIG_ALPHA_NONAME) || defined(CONFIG_ALPHA)
	fprintf(file, "alpha_noname");
#elif defined(CONFIG_PPC64)
	fprintf(file, "ppc64");
#elif defined(CONFIG_PPC)
	fprintf(file, "ppc");
#elif defined(CONFIG_CPU_R3000) || defined(CONFIG_CPU_R6000)
	fprintf(file, "mips");
#elif defined(CONFIG_CPU_R4300) || defined(CONFIG_CPU_R4X00)
	fprintf(file, "mips");
#elif defined(CONFIG_CPU_R5000) || defined(CONFIG_CPU_NEVADA)
	fprintf(file, "mips");
#elif defined(CONFIG_CPU_R8000) || defined(CONFIG_CPU_R10000)
	fprintf(file, "mips");
#elif defined(CONFIG_SPARC32)
	fprintf(file, "sparc");
#elif defined(CONFIG_SPARC64)
	fprintf(file, "sparc64");
#elif defined(CONFIG_ARCH_SA1100)
	fprintf(file, "sa1100");
#elif defined(CONFIG_ARCH_PXA)
	fprintf(file, "pxa");
#elif defined(CONFIG_ARM_AMBA)
	fprintf(file, "amba");
#elif defined(CONFIG_PARISC)
	fprintf(file, "parisc");
#elif defined(CONFIG_MVIAC3_2)
	fprintf(file, "viac3_2");
#elif defined(CONFIG_SUPERH64)
	fprintf(file, "sh64");
#elif defined(CONFIG_SUPERH)
	fprintf(file, "sh");
#else
	fclose(file);
	exit(1);
#endif
	fclose(file);
	exit(0);
}

_ACEOF
rm -f conftest$ac_exeext
if { (ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  processor=`cat processor.id`;{ echo "$as_me:$LINENO: result: $processor" >&5
echo "${ECHO_T}$processor" >&6; }
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
{ echo "$as_me:$LINENO: result: unknown" >&5
echo "${ECHO_T}unknown" >&6; };processor=""
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi


CFLAGS="$ac_save_CFLAGS"
rm -f processor.id
c_opts=""
KLD=ld
ARCH=
case "$processor" in
  x86_32)
    ARCH=i386
    c_opts="-march=i386"
    ;;
  i386*)
    ARCH=i386
    c_opts="-march=i386"
    ;;
  i486*)
    ARCH=i386
    c_opts="-march=i486"
    ;;
  i586* | mwinchip)
    ARCH=i386
    c_opts="-march=i586"
    ;;
  i686*)
    ARCH=i386
    c_opts="-march=i686"
    ;;
  mcore2)
    ARCH=i386
    c_opts="-march=i686"
    if $KCC -mtune=core2 -S -o /dev/null -xc /dev/null >/dev/null 2>&1; then
      c_opts="$c_opts -mtune=core2"
    fi
    ;;
  k6)
    ARCH=i386
    if $KCC -march=k6  -S -o /dev/null -xc /dev/null >/dev/null 2>&1; then
      c_opts="-march=k6"
    else
      c_opts="-march=i586"
    fi
    ;;
  k7|k8)
    ARCH=i386
    if $KCC -march=athlon -S -o /dev/null -xc /dev/null >/dev/null 2>&1; then
      c_opts="-march=athlon"
    else
      if $KCC -falign-functions=0 -S -o /dev/null -xc /dev/null >/dev/null 2>&1; then
        c_opts="-march=i686 -falign-functions=4"
      else
	c_opts="-march=i686 -malign-functions=4"
      fi
    fi
    ;;
  crusoe)
    ARCH=i386
    if $KCC -falign-functions=0 -S -o /dev/null -xc /dev/null >/dev/null 2>&1; then
      c_opts="-march=i686 -falign-functions=0 -falign-jumps=0 -falign-loops=0"
    else
      c_opts="-march=i686 -malign-functions=0 -malign-jumps=0 -malign-loops=0"
    fi
    ;;
  mcyrixiii)
    ARCH=i386
    if $KCC -march=c3 -S -o /dev/null -xc /dev/null >/dev/null 2>&1; then
      c_opts="-march=c3"
    else
      c_opts="-march=i486"
    fi
    if $KCC -falign-functions=0 -falign-jumps=0 -falign-loops=0 -S -o /dev/null -xc /dev/null >/dev/null 2>&1; then
      c_opts="$c_opts -falign-functions=0 -falign-jumps=0 -falign-loops=0"
    else
      c_opts="$c_opts -malign-functions=0 -malign-jumps=0 -malign-loops=0"
    fi
    ;;
  geodegx1)
    ARCH=i386
    c_opts="-march=pentium-mmx"
    ;;
  ia64)
    ARCH=ia64
    c_opts="-Wa,-x -ffixed-r13 -mfixed-range=f10-f15,f32-f127 -funwind-tables -falign-functions=32"
    test "$CONFIG_ISA" = "probe" && CONFIG_ISA=
    CONFIG_IA64=y
    ;;
  alpha*)
    ARCH=alpha
    c_opts="-mno-fp-regs -ffixed-8"
    if $KCC -mcpu=pca56 -S -o /dev/null -xc /dev/null > /dev/null 2>&1; then
      have_pca56=yes
    fi
    if $KCC -mcpu=ev5 -S -o /dev/null -xc /dev/null > /dev/null 2>&1; then
      case "$processor" in
      alpha_generic)
        c_opts="$c_opts -mcpu=ev5"
        ;;
      alpha_sx164|alpha_polaris)
	if test x$have_pca56 = xyes; then
          c_opts="$c_opts -mcpu=pca56"
	else
          c_opts="$c_opts -mcpu=ev56"
        fi
	;;
      alpha_pyxis)
        c_opts="$c_opts -mcpu=ev56"
        ;;
      alpha_ev4)
        c_opts="$c_opts -mcpu=ev4"
        ;;
      alpha_ev6)
        if $KCC -mcpu=ev6 -S -o /dev/null -xc /dev/null > /dev/null 2>&1; then
	  c_opts="$c_opts -mcpu=ev6"
	elif test x$have_pca56 = xyes; then
	  c_opts="$c_opts -mcpu=pca56"
        else
	  c_opts="$c_opts -mcpu=ev56"
        fi
        ;;
      esac
    fi
    c_opts="$c_opts -Wa,-mev6"
    processor="alpha"
    CONFIG_ALPHA=y
  cat > $SRCDIR/include/asm/hack-current.h << EOF
#ifndef _ALPHA_CURRENT_H
#define _ALPHA_CURRENT_H

extern struct task_struct *current;

#endif /* !(_ALPHA_CURRENT_H) */
EOF
    HACK_KERNEL_INC="$HACK_KERNEL_INC --include $SRCDIR/include/asm/hack-current.h"
    ;;
  ppc)
    ARCH=ppc
    if test "$kversion.$kpatchlevel" = "2.6"; then
	if test $ksublevel -gt 26; then
	    ARCH=powerpc
	fi
    fi
    c_opts="-D__powerpc__ -fsigned-char -fno-builtin -msoft-float -ffixed-r2 -Wno-uninitialized -mmultiple -mstring"
    if test -d $CONFIG_SND_KERNELDIR/arch/ppc/include; then
      KERNEL_INC="$KERNEL_INC -I$CONFIG_SND_KERNELDIR/arch/ppc/include"
    fi
    CONFIG_PPC=y
    CONFIG_PPC32=y
        CONFIG_PPC_PMAC=y
    test "$CONFIG_ISA" = "probe" && CONFIG_ISA=
    ;;
  ppc64)
    ARCH=ppc64
    if test "$kversion.$kpatchlevel" = "2.6"; then
	if test $ksublevel -gt 14; then
	    ARCH=powerpc
	fi
    fi
    c_opts="-D__powerpc__ -fsigned-char -msoft-float -Wno-uninitialized -mminimal-toc -fno-builtin"
    CONFIG_SND_BIT32_EMUL=m
    CONFIG_PPC=y
    CONFIG_PPC64=y

  boolvar="CONFIG_PPC_PMAC"
  boolvar1="CONFIG_PPC_PMAC_MODULE"
  { echo "$as_me:$LINENO: checking for PPC PowerMac" >&5
echo $ECHO_N "checking for PPC PowerMac... $ECHO_C" >&6; }
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS="$CFLAGS $KERNEL_INC $HACK_KERNEL_INC"
  if test -n "$kernelbuild" -a -f "$kernelbuild/include/linux/autoconf.h"; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  boolchk=""
  if test "$cross_compiling" = yes; then
  { echo "$as_me:$LINENO: result: unknown" >&5
echo "${ECHO_T}unknown" >&6; };boolchk=""

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include "$KERNDIR/include/linux/autoconf.h"
int main( void ) {
#if !defined($boolvar) && !defined($boolvar1)
  exit(1);
#else
  exit(0);
#endif
}

_ACEOF
rm -f conftest$ac_exeext
if { (ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };boolchk="y"
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };boolchk=""
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi


  CFLAGS="$ac_save_CFLAGS"
  eval $boolvar="$boolchk"

    test "$CONFIG_ISA" = "probe" && CONFIG_ISA=
    ;;
  mips*)
    ARCH=mips
    if $KCC -mtune=mips32 -S -o /dev/null -xc /dev/null > /dev/null 2>&1; then
      c_opts="-mtune=mips32"
    else
      c_opts="-mcpu=r4600"
    fi
    if $KCC -mips32 -mabi=32 -S -o /dev/null -xc /dev/null > /dev/null 2>&1; then
      c_opts="$c_opts -mips32 -mabi=32"
    else
      c_opts="$_opts -mips2"
    fi
    c_opts="$c_opts -G 0 -fno-pic -mno-abicalls -mlong-calls"
    processor="mips"
    CONFIG_MIPS=y
    test "$CONFIG_ISA" = "probe" && CONFIG_ISA=
    ;;
  sparc)
    ARCH=sparc
    CONFIG_SPARC=y
    CONFIG_SPARC32=y
    IS_EGCS=n
    NEW_GAS=n
    $KCC -m32 -S -o /dev/null -xc /dev/null >/dev/null 2>&1 || IS_EGCS=y
    $CROSS_COMPILE$KLD -V 2>&1 | grep 'elf64_sparc' > /dev/null && NEW_GAS=y
    if test $NEW_GAS = y; then
      KLD="$KLD -m elf32_sparc"
    fi
    if test $IS_EGCS = y; then
      c_opts="-mno-fpu -fcall-used-g5 -fcall-used-g7"
    else
      c_opts="-m32 -mno-fpu -fcall-used-g5 -fcall-used-g7"
    fi
    processor="sparc";
    test "$CONFIG_ISA" = "probe" && CONFIG_ISA=
    ;;
  sparc64)
    ARCH=sparc64
    CONFIG_SPARC=y
    CONFIG_SPARC64=y
    $KCC -m64 -S -o /dev/null -xc /dev/null >/dev/null 2>&1 || KCC=sparc64-linux-gcc
    NEW_GCC=n
    NEW_GAS=n
    CC_UNDECL=""
    $KCC -m64 -mcmodel=medlow -S -o /dev/null -xc /dev/null >/dev/null 2>&1 && NEW_GCC=y
    $CROSS_COMPILE$KLD -V 2>&1 | grep 'elf64_sparc' > /dev/null && NEW_GAS=y
    $KCC -c -x assembler /dev/null -Wa,--help | grep undeclared-regs > /dev/null || CC_UNDECL="-Wa,--undeclared-regs"
    if test $NEW_GAS != y; then
      KLD=sparc64-linux-ld
    else
      KLD="$KLD -m elf64_sparc"
    fi
    if test $NEW_GCC=y; then
      c_opts="-m64 -mno-fpu -mcpu=ultrasparc -mcmodel=medlow -ffixed-g4 -fcall-used-g5 -fcall-used-g7 -Wno-sign-compare $CC_UNDECL"
    else
      c_opts="-mno-fpu -mtune=ultrasparc -mmedlow -ffixed-g4 -fcall-used-g5 -fcall-used-g7 -Wno-sign-compare"
    fi
    processor="sparc64"
    CONFIG_SND_BIT32_EMUL=m
    CFLAGS="$CFLAGS -ffixed-g4"
    test "$CONFIG_ISA" = "probe" && CONFIG_ISA=
    ;;
  x86_64)
    ARCH=x86_64
    KLD="ld -m elf_x86_64 -e stext"
    c_opts="-mno-red-zone -mcmodel=kernel -fno-reorder-blocks -fno-strength-reduce -finline-limit=2000"
    CONFIG_SND_BIT32_EMUL=m
    CONFIG_X86_64=y
    CONFIG_X86=y
    test "$CONFIG_ISA" = "probe" && CONFIG_ISA=
    ;;
  sa1100)
    ARCH=arm
    c_opts="-march=armv4 -mtune=strongarm1100 -msoft-float"
    CONFIG_ARM=y
    CONFIG_L3=y
    CONFIG_ARCH_SA1100=y
    test "$CONFIG_ISA" = "probe" && CONFIG_ISA=
    ;;
  pxa)
    ARCH=arm
    c_opts="-O2 -mapcs-32 -march=armv4 -Wa,-mxscale -mtune=strongarm -mshort-load-bytes -msoft-float"
    CONFIG_ARM=y
    # CONFIG_L3=y
    CONFIG_ARCH_PXA=y
    test "$CONFIG_ISA" = "probe" && CONFIG_ISA=
    ;;
  amba)
    ARCH=arm
    c_opts="-O2 -mapcs-32 -march=armv4 -Wa,-mxscale -mshort-load-bytes -msoft-float"
    CONFIG_ARM=y
    # CONFIG_L3=y
    CONFIG_ARM_AMBA=y
    test "$CONFIG_ISA" = "probe" && CONFIG_ISA=
    ;;
  parisc)
    ARCH=parisc
    c_opts="-mno-space-regs -mfast-indirect-calls -mschedule=7200 -mdisable-fpregs"
    test "$CONFIG_ISA" = "probe" && CONFIG_ISA=
    ;;
  viac3_2)
    ARCH=i386
    if $KCC -march=c3-2 -S -o /dev/null -xc /dev/null >/dev/null 2>&1; then
      c_opts="-march=c3-2"
    else
      c_opts="-march=i686"
    fi
    ;;
  sh)
    ARCH=sh
    CONFIG_SUPERH=y
    CONFIG_ISA=
    ;;
  sh64)
    ARCH=sh64
    CONFIG_SUPERH64=y
    CONFIG_SUPERH=y
    CONFIG_ISA=
    ;;
  *)
    processor="unknown"
    test "$CONFIG_ISA" = "probe" && CONFIG_ISA=
    ;;
esac

if test -n "$ARCH"; then
   case "$ARCH" in
   i?86|x86_64)
      ARCHDIR=x86
      ;;
   *)
      ARCHDIR=$ARCH
      ;;
   esac
   if test -d $CONFIG_SND_KERNELDIR/arch/$ARCHDIR/include; then
      KERNEL_INC="$KERNEL_INC -I$CONFIG_SND_KERNELDIR/arch/$ARCHDIR/include"
   fi
fi

mach_dir=""
case "$processor" in
  i?86*|k?|crusoe|mcyrixiii|mwinchip|viac3_2|mcore2|geodegx*|x86_32)
    if $KCC -mpreferred-stack-boundary=2 -S -o /dev/null -xc /dev/null >/dev/null 2>&1; then
      c_opts="-mpreferred-stack-boundary=2 $c_opts"
      CONFIG_X86=y
      CONFIG_X86_32=y
    fi
    for i in include/asm-x86 include/asm-i386 include2/asm-x86 include2/asm-i386 arch/x86/include/asm; do
      if test -r $CONFIG_SND_KERNELDIR/$i/mach-default/mach_apic.h; then
        mach_dir="$CONFIG_SND_KERNELDIR/$i"
	break
      fi
      if test -n "$kernelbuild" -a -r $kernelbuild/$i/mach-default/mach_apic.h; then
	mach_dir="$kernelbuild/$i"
	break
      fi
    done
    ;;
  x86_64)
    for i in include/asm-x86 include2/asm-x86 arch/x86/include/asm; do
      if test -r $CONFIG_SND_KERNELDIR/$i/mach-default/mach_apic.h; then
        mach_dir="$CONFIG_SND_KERNELDIR/$i"
	break
      fi
      if test -n "$kernelbuild" -a -r $kernelbuild/$i/mach-default/mach_apic.h; then
	mach_dir="$kernelbuild/$i"
	break
      fi
    done
    ;;
esac

if test "$kpatchlevel" = 6 -a "$ksublevel" -ge 27; then
    case "$ARCH" in
    i386|x86_64)
	checkarch="x86"
	;;
    *)
	checkarch="$ARCH"
	;;
    esac
    if test -d $CONFIG_SND_KERNELDIR/arch/$checkarch/include; then
	KERNEL_INC="$KERNEL_INC -I$CONFIG_SND_KERNELDIR/arch/$checkarch/include"
    fi
fi

if test -n "$mach_dir"; then
  { echo "$as_me:$LINENO: checking for i386 machine type" >&5
echo $ECHO_N "checking for i386 machine type... $ECHO_C" >&6; }
  machine="default"
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS="$CFLAGS $KERNEL_INC $HACK_KERNEL_INC"
  rm -f machine.id
  if test -n "$kernelbuild" -a -f "$kernelbuild/include/linux/autoconf.h"; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if test "$cross_compiling" = yes; then
  { { echo "$as_me:$LINENO: error: cannot run test program while cross compiling
See \`config.log' for more details." >&5
echo "$as_me: error: cannot run test program while cross compiling
See \`config.log' for more details." >&2;}
   { (exit 1); exit 1; }; }
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include <stdio.h>
#include "$KERNDIR/include/linux/autoconf.h"
#include "$KERNDIR/include/linux/version.h"
int main(void) {
	FILE *file = fopen("machine.id", "w+");
	if (file == NULL)
		exit(1);
#if LINUX_VERSION_CODE < KERNEL_VERSION(2, 6, 26)
#if defined(CONFIG_X86_VOYAGER)
	fprintf(file, "voyager");
#elif defined(CONFIG_X86_VISWS)
	fprintf(file, "visws");
#elif defined(CONFIG_X86_NUMAQ)
	fprintf(file, "numaq");
#elif defined(CONFIG_X86_BIGSMP)
	fprintf(file, "bigsmp");
#elif defined(CONFIG_X86_SUMMIT)
	fprintf(file, "summit");
#elif defined(CONFIG_X86_ES7000)
	fprintf(file, "es7000");
#elif defined(CONFIG_X86_PC9800)
	fprintf(file, "pc9800");
#else
	fprintf(file, "default");
#endif
#else
	fprintf(file, "default");
#endif
	fclose(file);
	exit(0);
}

_ACEOF
rm -f conftest$ac_exeext
if { (ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  machine=`cat machine.id`;{ echo "$as_me:$LINENO: result: $machine" >&5
echo "${ECHO_T}$machine" >&6; }
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi


	CFLAGS="$ac_save_CFLAGS"
	rm -f machine.id
	KERNEL_INC="$KERNEL_INC -I$mach_dir/mach-$machine"
    fi

if test "$processor" == "x86_64"; then
  if test -n "$mach_dir"; then
{ echo "$as_me:$LINENO: checking for i386 machine type" >&5
echo $ECHO_N "checking for i386 machine type... $ECHO_C" >&6; }
	machine="default"
	ac_save_CFLAGS="$CFLAGS"
	CFLAGS="$CFLAGS $KERNEL_INC $HACK_KERNEL_INC"
	rm -f machine.id
	if test -n "$kernelbuild" -a -f "$kernelbuild/include/linux/autoconf.h"; then
	  KERNDIR=$kernelbuild
	else
	  KERNDIR=$CONFIG_SND_KERNELDIR
	fi
	if test "$cross_compiling" = yes; then
  { { echo "$as_me:$LINENO: error: cannot run test program while cross compiling
See \`config.log' for more details." >&5
echo "$as_me: error: cannot run test program while cross compiling
See \`config.log' for more details." >&2;}
   { (exit 1); exit 1; }; }
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include <stdio.h>
#include "$KERNDIR/include/linux/autoconf.h"
int main(void) {
	FILE *file = fopen("machine.id", "w+");
	if (file == NULL)
		exit(1);
#if defined(CONFIG_X86_VOYAGER)
	fprintf(file, "voyager");
#elif defined(CONFIG_X86_VISWS)
	fprintf(file, "visws");
#elif defined(CONFIG_X86_NUMAQ)
	fprintf(file, "numaq");
#elif defined(CONFIG_X86_BIGSMP)
	fprintf(file, "bigsmp");
#elif defined(CONFIG_X86_SUMMIT)
	fprintf(file, "summit");
#elif defined(CONFIG_X86_ES7000)
	fprintf(file, "es7000");
#elif defined(CONFIG_X86_RDC321X)
	fprintf(file, "rdc321x");
#elif defined(CONFIG_X86_PC9800)
	fprintf(file, "pc9800");
#else
	fprintf(file, "default");
#endif
	fclose(file);
	exit(0);
}

_ACEOF
rm -f conftest$ac_exeext
if { (ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  machine=`cat machine.id`;{ echo "$as_me:$LINENO: result: $machine" >&5
echo "${ECHO_T}$machine" >&6; }
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi


	CFLAGS="$ac_save_CFLAGS"
	rm -f machine.id
	if test -d $mach_dir/mach-$machine; then
	  KERNEL_INC="$KERNEL_INC -I$mach_dir/mach-$machine"
	else
	  KERNEL_INC="$KERNEL_INC -I$mach_dir/mach-default"
	fi
    fi

fi

test "$CONFIG_ISA" = "probe" && CONFIG_ISA=y

if test "$kpatchlevel" = 6 -a "$ksublevel" -ge 12; then

  boolvar="CONFIG_ISA_DMA_API"
  boolvar1="CONFIG_ISA_DMA_API_MODULE"
  { echo "$as_me:$LINENO: checking for ISA DMA API" >&5
echo $ECHO_N "checking for ISA DMA API... $ECHO_C" >&6; }
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS="$CFLAGS $KERNEL_INC $HACK_KERNEL_INC"
  if test -n "$kernelbuild" -a -f "$kernelbuild/include/linux/autoconf.h"; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  boolchk=""
  if test "$cross_compiling" = yes; then
  { echo "$as_me:$LINENO: result: unknown" >&5
echo "${ECHO_T}unknown" >&6; };boolchk=""

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include "$KERNDIR/include/linux/autoconf.h"
int main( void ) {
#if !defined($boolvar) && !defined($boolvar1)
  exit(1);
#else
  exit(0);
#endif
}

_ACEOF
rm -f conftest$ac_exeext
if { (ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };boolchk="y"
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };boolchk=""
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi


  CFLAGS="$ac_save_CFLAGS"
  eval $boolvar="$boolchk"

else
  if test "$CONFIG_ISA" = "y"; then
    CONFIG_ISA_DMA_API=y
  fi
fi

if test -n "$CONFIG_SPARC32" -o -n "$CONFIG_SPARC64"; then

  boolvar="CONFIG_SBUS"
  boolvar1="CONFIG_SBUS_MODULE"
  { echo "$as_me:$LINENO: checking for SBUS support in kernel" >&5
echo $ECHO_N "checking for SBUS support in kernel... $ECHO_C" >&6; }
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS="$CFLAGS $KERNEL_INC $HACK_KERNEL_INC"
  if test -n "$kernelbuild" -a -f "$kernelbuild/include/linux/autoconf.h"; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  boolchk=""
  if test "$cross_compiling" = yes; then
  { echo "$as_me:$LINENO: result: unknown" >&5
echo "${ECHO_T}unknown" >&6; };boolchk=""

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include "$KERNDIR/include/linux/autoconf.h"
int main( void ) {
#if !defined($boolvar) && !defined($boolvar1)
  exit(1);
#else
  exit(0);
#endif
}

_ACEOF
rm -f conftest$ac_exeext
if { (ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };boolchk="y"
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };boolchk=""
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi


  CFLAGS="$ac_save_CFLAGS"
  eval $boolvar="$boolchk"

fi

if test -n "$CONFIG_SND_BIT32_EMUL"; then
  if test "$kversion.$kpatchlevel" = "2.6"; then

  boolvar="CONFIG_COMPAT"
  boolvar1="CONFIG_COMPAT_MODULE"
  { echo "$as_me:$LINENO: checking for 32bit compat support" >&5
echo $ECHO_N "checking for 32bit compat support... $ECHO_C" >&6; }
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS="$CFLAGS $KERNEL_INC $HACK_KERNEL_INC"
  if test -n "$kernelbuild" -a -f "$kernelbuild/include/linux/autoconf.h"; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  boolchk=""
  if test "$cross_compiling" = yes; then
  { echo "$as_me:$LINENO: result: unknown" >&5
echo "${ECHO_T}unknown" >&6; };boolchk=""

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include "$KERNDIR/include/linux/autoconf.h"
int main( void ) {
#if !defined($boolvar) && !defined($boolvar1)
  exit(1);
#else
  exit(0);
#endif
}

_ACEOF
rm -f conftest$ac_exeext
if { (ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };boolchk="y"
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };boolchk=""
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi


  CFLAGS="$ac_save_CFLAGS"
  eval $boolvar="$boolchk"

    if test -z "$CONFIG_COMPAT"; then
      CONFIG_SND_BIT32_EMUL=
    fi
  fi
fi

CONFIG_SGI=""
if test "$CONFIG_MIPS" = "y"; then
  { echo "$as_me:$LINENO: checking for SGI/MIPS (HAL2) architecture" >&5
echo $ECHO_N "checking for SGI/MIPS (HAL2) architecture... $ECHO_C" >&6; }
  if test -r "$CONFIG_SND_KERNELDIR/include/asm/sgi/sgihpc.h"; then
    CONFIG_SGI="y"
  fi
  if test "$CONFIG_SGI" = "y"; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
  fi
fi


if $KCC -Wdeclaration-after-statement -S -o /dev/null -xc /dev/null >/dev/null 2>&1; then
  c_opts="$c_opts -Wdeclaration-after-statement"
fi
if $KCC -Wno-pointer-sign -S -o /dev/null -xc /dev/null >/dev/null 2>&1; then
  c_opts="$c_opts -Wno-pointer-sign"
fi

c_opts="-O2 $c_opts"






















test "$CONFIG_ISA" = "y" && cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_ISA 1
_ACEOF



  { echo "$as_me:$LINENO: checking for kernel linux/config.h" >&5
echo $ECHO_N "checking for kernel linux/config.h... $ECHO_C" >&6; }
  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/linux/config.h" -o -f "$kernelbuild/include2/linux/config.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/linux/config.h" \) ; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if test -n ""; then
    eval =""
  fi
  if test -f "$KERNDIR/include/linux/config.h" -o -f "$KERNDIR/include2/linux/config.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/linux/config.h"; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
    if test -f include/linux/config.h; then
      echo "Removing a dummy linux/config.h."
      rm -f include/linux/config.h
    fi
    if test -n ""; then
      eval ="y"
    fi
  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
    if test ! -f include/linux/config.h; then
      if test -z "#ifndef _LINUX_CONFIG_H
#define _LINUX_CONFIG_H
#ifndef AUTOCONF_INCLUDED
#include <linux/autoconf.h>
#endif
#endif
" ; then
        echo "Creating a dummy <linux/config.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        touch include/linux/config.h
      else
        echo "Creating <linux/config.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        echo "#ifndef _LINUX_CONFIG_H
#define _LINUX_CONFIG_H
#ifndef AUTOCONF_INCLUDED
#include <linux/autoconf.h>
#endif
#endif
" > include/linux/config.h
      fi
    fi
  fi


{ echo "$as_me:$LINENO: checking for deprecated linux/config.h" >&5
echo $ECHO_N "checking for deprecated linux/config.h... $ECHO_C" >&6; }
if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/$1" -o -f "$kernelbuild/include2/$1" \) ; then
  KERNDIR=$kernelbuild
else
  KERNDIR=$CONFIG_SND_KERNELDIR
fi
deprecated_config_h="0"
if test -r $KERNDIR/include/linux/config.h ; then
  if grep "Including config.h is deprecated." $KERNDIR/include/linux/config.h > /dev/null; then
    deprecated_config_h="1"
  fi
else
  deprecated_config_h="1"
fi
CONFIG_HAVE_DEPRECATED_CONFIG_H=$deprecated_config_h
if test "$CONFIG_HAVE_DEPRECATED_CONFIG_H" = "1"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_HAVE_DEPRECATED_CONFIG_H 1
_ACEOF

fi


  { echo "$as_me:$LINENO: checking to modify of kernel linux/kmod.h" >&5
echo $ECHO_N "checking to modify of kernel linux/kmod.h... $ECHO_C" >&6; }
  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/linux/kmod.h" -o -f "$kernelbuild/include2/linux/kmod.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/linux/kmod.h" \) ; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if grep -q __LINUX_KMOD_H__ "$KERNDIR/include/linux/kmod.h" "$KERNDIR/include2/linux/kmod.h" "$KERNDIR/arch/$ARCHDIR/include/linux/kmod.h" > /dev/null 2>&1; then
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
    if test -f include/linux/kmod.h; then
      echo "Removing a dummy linux/kmod.h."
      rm -f include/linux/kmod.h
    fi
  else
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
    mkdir -p include/linux include/asm include/media
    echo "#ifndef __LINUX_KMOD_H__" > include/linux/kmod.h
    echo "#define __LINUX_KMOD_H__" >> include/linux/kmod.h
    cat "$KERNDIR/include/linux/kmod.h" >> include/linux/kmod.h
    echo "#endif /* __LINUX_KMOD_H__ */" >> include/linux/kmod.h
  fi


  { echo "$as_me:$LINENO: checking for kernel linux/utsrelease.h" >&5
echo $ECHO_N "checking for kernel linux/utsrelease.h... $ECHO_C" >&6; }
  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/linux/utsrelease.h" -o -f "$kernelbuild/include2/linux/utsrelease.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/linux/utsrelease.h" \) ; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if test -n ""; then
    eval =""
  fi
  if test -f "$KERNDIR/include/linux/utsrelease.h" -o -f "$KERNDIR/include2/linux/utsrelease.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/linux/utsrelease.h"; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
    if test -f include/linux/utsrelease.h; then
      echo "Removing a dummy linux/utsrelease.h."
      rm -f include/linux/utsrelease.h
    fi
    if test -n ""; then
      eval ="y"
    fi
  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
    if test ! -f include/linux/utsrelease.h; then
      if test -z "" ; then
        echo "Creating a dummy <linux/utsrelease.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        touch include/linux/utsrelease.h
      else
        echo "Creating <linux/utsrelease.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        echo "" > include/linux/utsrelease.h
      fi
    fi
  fi


  { echo "$as_me:$LINENO: checking for kernel linux/compiler.h" >&5
echo $ECHO_N "checking for kernel linux/compiler.h... $ECHO_C" >&6; }
  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/linux/compiler.h" -o -f "$kernelbuild/include2/linux/compiler.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/linux/compiler.h" \) ; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if test -n ""; then
    eval =""
  fi
  if test -f "$KERNDIR/include/linux/compiler.h" -o -f "$KERNDIR/include2/linux/compiler.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/linux/compiler.h"; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
    if test -f include/linux/compiler.h; then
      echo "Removing a dummy linux/compiler.h."
      rm -f include/linux/compiler.h
    fi
    if test -n ""; then
      eval ="y"
    fi
  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
    if test ! -f include/linux/compiler.h; then
      if test -z "" ; then
        echo "Creating a dummy <linux/compiler.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        touch include/linux/compiler.h
      else
        echo "Creating <linux/compiler.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        echo "" > include/linux/compiler.h
      fi
    fi
  fi


  { echo "$as_me:$LINENO: checking for kernel linux/pm.h" >&5
echo $ECHO_N "checking for kernel linux/pm.h... $ECHO_C" >&6; }
  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/linux/pm.h" -o -f "$kernelbuild/include2/linux/pm.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/linux/pm.h" \) ; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if test -n ""; then
    eval =""
  fi
  if test -f "$KERNDIR/include/linux/pm.h" -o -f "$KERNDIR/include2/linux/pm.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/linux/pm.h"; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
    if test -f include/linux/pm.h; then
      echo "Removing a dummy linux/pm.h."
      rm -f include/linux/pm.h
    fi
    if test -n ""; then
      eval ="y"
    fi
  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
    if test ! -f include/linux/pm.h; then
      if test -z "" ; then
        echo "Creating a dummy <linux/pm.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        touch include/linux/pm.h
      else
        echo "Creating <linux/pm.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        echo "" > include/linux/pm.h
      fi
    fi
  fi


  { echo "$as_me:$LINENO: checking for kernel linux/spinlock.h" >&5
echo $ECHO_N "checking for kernel linux/spinlock.h... $ECHO_C" >&6; }
  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/linux/spinlock.h" -o -f "$kernelbuild/include2/linux/spinlock.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/linux/spinlock.h" \) ; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if test -n ""; then
    eval =""
  fi
  if test -f "$KERNDIR/include/linux/spinlock.h" -o -f "$KERNDIR/include2/linux/spinlock.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/linux/spinlock.h"; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
    if test -f include/linux/spinlock.h; then
      echo "Removing a dummy linux/spinlock.h."
      rm -f include/linux/spinlock.h
    fi
    if test -n ""; then
      eval ="y"
    fi
  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
    if test ! -f include/linux/spinlock.h; then
      if test -z "" ; then
        echo "Creating a dummy <linux/spinlock.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        touch include/linux/spinlock.h
      else
        echo "Creating <linux/spinlock.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        echo "" > include/linux/spinlock.h
      fi
    fi
  fi


  { echo "$as_me:$LINENO: checking for kernel linux/irq.h" >&5
echo $ECHO_N "checking for kernel linux/irq.h... $ECHO_C" >&6; }
  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/linux/irq.h" -o -f "$kernelbuild/include2/linux/irq.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/linux/irq.h" \) ; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if test -n ""; then
    eval =""
  fi
  if test -f "$KERNDIR/include/linux/irq.h" -o -f "$KERNDIR/include2/linux/irq.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/linux/irq.h"; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
    if test -f include/linux/irq.h; then
      echo "Removing a dummy linux/irq.h."
      rm -f include/linux/irq.h
    fi
    if test -n ""; then
      eval ="y"
    fi
  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
    if test ! -f include/linux/irq.h; then
      if test -z "" ; then
        echo "Creating a dummy <linux/irq.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        touch include/linux/irq.h
      else
        echo "Creating <linux/irq.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        echo "" > include/linux/irq.h
      fi
    fi
  fi


  { echo "$as_me:$LINENO: checking for kernel linux/threads.h" >&5
echo $ECHO_N "checking for kernel linux/threads.h... $ECHO_C" >&6; }
  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/linux/threads.h" -o -f "$kernelbuild/include2/linux/threads.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/linux/threads.h" \) ; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if test -n ""; then
    eval =""
  fi
  if test -f "$KERNDIR/include/linux/threads.h" -o -f "$KERNDIR/include2/linux/threads.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/linux/threads.h"; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
    if test -f include/linux/threads.h; then
      echo "Removing a dummy linux/threads.h."
      rm -f include/linux/threads.h
    fi
    if test -n ""; then
      eval ="y"
    fi
  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
    if test ! -f include/linux/threads.h; then
      if test -z "" ; then
        echo "Creating a dummy <linux/threads.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        touch include/linux/threads.h
      else
        echo "Creating <linux/threads.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        echo "" > include/linux/threads.h
      fi
    fi
  fi


  { echo "$as_me:$LINENO: checking for kernel linux/rwsem.h" >&5
echo $ECHO_N "checking for kernel linux/rwsem.h... $ECHO_C" >&6; }
  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/linux/rwsem.h" -o -f "$kernelbuild/include2/linux/rwsem.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/linux/rwsem.h" \) ; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if test -n ""; then
    eval =""
  fi
  if test -f "$KERNDIR/include/linux/rwsem.h" -o -f "$KERNDIR/include2/linux/rwsem.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/linux/rwsem.h"; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
    if test -f include/linux/rwsem.h; then
      echo "Removing a dummy linux/rwsem.h."
      rm -f include/linux/rwsem.h
    fi
    if test -n ""; then
      eval ="y"
    fi
  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
    if test ! -f include/linux/rwsem.h; then
      if test -z "" ; then
        echo "Creating a dummy <linux/rwsem.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        touch include/linux/rwsem.h
      else
        echo "Creating <linux/rwsem.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        echo "" > include/linux/rwsem.h
      fi
    fi
  fi


  { echo "$as_me:$LINENO: checking for kernel linux/gameport.h" >&5
echo $ECHO_N "checking for kernel linux/gameport.h... $ECHO_C" >&6; }
  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/linux/gameport.h" -o -f "$kernelbuild/include2/linux/gameport.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/linux/gameport.h" \) ; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if test -n ""; then
    eval =""
  fi
  if test -f "$KERNDIR/include/linux/gameport.h" -o -f "$KERNDIR/include2/linux/gameport.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/linux/gameport.h"; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
    if test -f include/linux/gameport.h; then
      echo "Removing a dummy linux/gameport.h."
      rm -f include/linux/gameport.h
    fi
    if test -n ""; then
      eval ="y"
    fi
  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
    if test ! -f include/linux/gameport.h; then
      if test -z "" ; then
        echo "Creating a dummy <linux/gameport.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        touch include/linux/gameport.h
      else
        echo "Creating <linux/gameport.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        echo "" > include/linux/gameport.h
      fi
    fi
  fi


  { echo "$as_me:$LINENO: checking for kernel media/v4l2-dev.h" >&5
echo $ECHO_N "checking for kernel media/v4l2-dev.h... $ECHO_C" >&6; }
  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/media/v4l2-dev.h" -o -f "$kernelbuild/include2/media/v4l2-dev.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/media/v4l2-dev.h" \) ; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if test -n ""; then
    eval =""
  fi
  if test -f "$KERNDIR/include/media/v4l2-dev.h" -o -f "$KERNDIR/include2/media/v4l2-dev.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/media/v4l2-dev.h"; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
    if test -f include/media/v4l2-dev.h; then
      echo "Removing a dummy media/v4l2-dev.h."
      rm -f include/media/v4l2-dev.h
    fi
    if test -n ""; then
      eval ="y"
    fi
  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
    if test ! -f include/media/v4l2-dev.h; then
      if test -z "" ; then
        echo "Creating a dummy <media/v4l2-dev.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        touch include/media/v4l2-dev.h
      else
        echo "Creating <media/v4l2-dev.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        echo "" > include/media/v4l2-dev.h
      fi
    fi
  fi


  { echo "$as_me:$LINENO: checking for kernel linux/devfs_fs_kernel.h" >&5
echo $ECHO_N "checking for kernel linux/devfs_fs_kernel.h... $ECHO_C" >&6; }
  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/linux/devfs_fs_kernel.h" -o -f "$kernelbuild/include2/linux/devfs_fs_kernel.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/linux/devfs_fs_kernel.h" \) ; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if test -n ""; then
    eval =""
  fi
  if test -f "$KERNDIR/include/linux/devfs_fs_kernel.h" -o -f "$KERNDIR/include2/linux/devfs_fs_kernel.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/linux/devfs_fs_kernel.h"; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
    if test -f include/linux/devfs_fs_kernel.h; then
      echo "Removing a dummy linux/devfs_fs_kernel.h."
      rm -f include/linux/devfs_fs_kernel.h
    fi
    if test -n ""; then
      eval ="y"
    fi
  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
    if test ! -f include/linux/devfs_fs_kernel.h; then
      if test -z "" ; then
        echo "Creating a dummy <linux/devfs_fs_kernel.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        touch include/linux/devfs_fs_kernel.h
      else
        echo "Creating <linux/devfs_fs_kernel.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        echo "" > include/linux/devfs_fs_kernel.h
      fi
    fi
  fi


  { echo "$as_me:$LINENO: checking for kernel linux/highmem.h" >&5
echo $ECHO_N "checking for kernel linux/highmem.h... $ECHO_C" >&6; }
  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/linux/highmem.h" -o -f "$kernelbuild/include2/linux/highmem.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/linux/highmem.h" \) ; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if test -n ""; then
    eval =""
  fi
  if test -f "$KERNDIR/include/linux/highmem.h" -o -f "$KERNDIR/include2/linux/highmem.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/linux/highmem.h"; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
    if test -f include/linux/highmem.h; then
      echo "Removing a dummy linux/highmem.h."
      rm -f include/linux/highmem.h
    fi
    if test -n ""; then
      eval ="y"
    fi
  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
    if test ! -f include/linux/highmem.h; then
      if test -z "" ; then
        echo "Creating a dummy <linux/highmem.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        touch include/linux/highmem.h
      else
        echo "Creating <linux/highmem.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        echo "" > include/linux/highmem.h
      fi
    fi
  fi


  { echo "$as_me:$LINENO: checking for kernel linux/workqueue.h" >&5
echo $ECHO_N "checking for kernel linux/workqueue.h... $ECHO_C" >&6; }
  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/linux/workqueue.h" -o -f "$kernelbuild/include2/linux/workqueue.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/linux/workqueue.h" \) ; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if test -n ""; then
    eval =""
  fi
  if test -f "$KERNDIR/include/linux/workqueue.h" -o -f "$KERNDIR/include2/linux/workqueue.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/linux/workqueue.h"; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
    if test -f include/linux/workqueue.h; then
      echo "Removing a dummy linux/workqueue.h."
      rm -f include/linux/workqueue.h
    fi
    if test -n ""; then
      eval ="y"
    fi
  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
    if test ! -f include/linux/workqueue.h; then
      if test -z "" ; then
        echo "Creating a dummy <linux/workqueue.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        touch include/linux/workqueue.h
      else
        echo "Creating <linux/workqueue.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        echo "" > include/linux/workqueue.h
      fi
    fi
  fi

if test ! -f include/linux/workqueue.h; then
  if test "x$kversion.$kpatchlevel" = "x2.4" -a \
          "x$RED_HAT_LINUX_KERNEL" = "xy"; then
    echo "It looks like you're using a RedHat 9 kernel."
    echo "Disabling their incomplete workqueue.h modification."
    mkdir -p include/linux
    touch include/linux/workqueue.h
  fi
fi

  { echo "$as_me:$LINENO: checking for kernel linux/dma-mapping.h" >&5
echo $ECHO_N "checking for kernel linux/dma-mapping.h... $ECHO_C" >&6; }
  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/linux/dma-mapping.h" -o -f "$kernelbuild/include2/linux/dma-mapping.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/linux/dma-mapping.h" \) ; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if test -n ""; then
    eval =""
  fi
  if test -f "$KERNDIR/include/linux/dma-mapping.h" -o -f "$KERNDIR/include2/linux/dma-mapping.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/linux/dma-mapping.h"; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
    if test -f include/linux/dma-mapping.h; then
      echo "Removing a dummy linux/dma-mapping.h."
      rm -f include/linux/dma-mapping.h
    fi
    if test -n ""; then
      eval ="y"
    fi
  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
    if test ! -f include/linux/dma-mapping.h; then
      if test -z "" ; then
        echo "Creating a dummy <linux/dma-mapping.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        touch include/linux/dma-mapping.h
      else
        echo "Creating <linux/dma-mapping.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        echo "" > include/linux/dma-mapping.h
      fi
    fi
  fi


  { echo "$as_me:$LINENO: checking for kernel asm/hw_irq.h" >&5
echo $ECHO_N "checking for kernel asm/hw_irq.h... $ECHO_C" >&6; }
  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/asm/hw_irq.h" -o -f "$kernelbuild/include2/asm/hw_irq.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/asm/hw_irq.h" \) ; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if test -n ""; then
    eval =""
  fi
  if test -f "$KERNDIR/include/asm/hw_irq.h" -o -f "$KERNDIR/include2/asm/hw_irq.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/asm/hw_irq.h"; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
    if test -f include/asm/hw_irq.h; then
      echo "Removing a dummy asm/hw_irq.h."
      rm -f include/asm/hw_irq.h
    fi
    if test -n ""; then
      eval ="y"
    fi
  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
    if test ! -f include/asm/hw_irq.h; then
      if test -z "" ; then
        echo "Creating a dummy <asm/hw_irq.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        touch include/asm/hw_irq.h
      else
        echo "Creating <asm/hw_irq.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        echo "" > include/asm/hw_irq.h
      fi
    fi
  fi


  { echo "$as_me:$LINENO: checking for kernel linux/device.h" >&5
echo $ECHO_N "checking for kernel linux/device.h... $ECHO_C" >&6; }
  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/linux/device.h" -o -f "$kernelbuild/include2/linux/device.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/linux/device.h" \) ; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if test -n ""; then
    eval =""
  fi
  if test -f "$KERNDIR/include/linux/device.h" -o -f "$KERNDIR/include2/linux/device.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/linux/device.h"; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
    if test -f include/linux/device.h; then
      echo "Removing a dummy linux/device.h."
      rm -f include/linux/device.h
    fi
    if test -n ""; then
      eval ="y"
    fi
  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
    if test ! -f include/linux/device.h; then
      if test -z "#include \"device_compat.h\"
" ; then
        echo "Creating a dummy <linux/device.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        touch include/linux/device.h
      else
        echo "Creating <linux/device.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        echo "#include \"device_compat.h\"
" > include/linux/device.h
      fi
    fi
  fi


  { echo "$as_me:$LINENO: checking for kernel linux/platform_device.h" >&5
echo $ECHO_N "checking for kernel linux/platform_device.h... $ECHO_C" >&6; }
  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/linux/platform_device.h" -o -f "$kernelbuild/include2/linux/platform_device.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/linux/platform_device.h" \) ; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if test -n ""; then
    eval =""
  fi
  if test -f "$KERNDIR/include/linux/platform_device.h" -o -f "$KERNDIR/include2/linux/platform_device.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/linux/platform_device.h"; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
    if test -f include/linux/platform_device.h; then
      echo "Removing a dummy linux/platform_device.h."
      rm -f include/linux/platform_device.h
    fi
    if test -n ""; then
      eval ="y"
    fi
  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
    if test ! -f include/linux/platform_device.h; then
      if test -z "#include \"platform_device_compat.h\"
" ; then
        echo "Creating a dummy <linux/platform_device.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        touch include/linux/platform_device.h
      else
        echo "Creating <linux/platform_device.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        echo "#include \"platform_device_compat.h\"
" > include/linux/platform_device.h
      fi
    fi
  fi


  { echo "$as_me:$LINENO: checking for kernel linux/isa.h" >&5
echo $ECHO_N "checking for kernel linux/isa.h... $ECHO_C" >&6; }
  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/linux/isa.h" -o -f "$kernelbuild/include2/linux/isa.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/linux/isa.h" \) ; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if test -n ""; then
    eval =""
  fi
  if test -f "$KERNDIR/include/linux/isa.h" -o -f "$KERNDIR/include2/linux/isa.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/linux/isa.h"; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
    if test -f include/linux/isa.h; then
      echo "Removing a dummy linux/isa.h."
      rm -f include/linux/isa.h
    fi
    if test -n ""; then
      eval ="y"
    fi
  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
    if test ! -f include/linux/isa.h; then
      if test -z "#include \"isa_compat.h\"
" ; then
        echo "Creating a dummy <linux/isa.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        touch include/linux/isa.h
      else
        echo "Creating <linux/isa.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        echo "#include \"isa_compat.h\"
" > include/linux/isa.h
      fi
    fi
  fi


  { echo "$as_me:$LINENO: checking for kernel linux/jiffies.h" >&5
echo $ECHO_N "checking for kernel linux/jiffies.h... $ECHO_C" >&6; }
  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/linux/jiffies.h" -o -f "$kernelbuild/include2/linux/jiffies.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/linux/jiffies.h" \) ; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if test -n ""; then
    eval =""
  fi
  if test -f "$KERNDIR/include/linux/jiffies.h" -o -f "$KERNDIR/include2/linux/jiffies.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/linux/jiffies.h"; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
    if test -f include/linux/jiffies.h; then
      echo "Removing a dummy linux/jiffies.h."
      rm -f include/linux/jiffies.h
    fi
    if test -n ""; then
      eval ="y"
    fi
  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
    if test ! -f include/linux/jiffies.h; then
      if test -z "#include <linux/sched.h>
#include <linux/delay.h>
" ; then
        echo "Creating a dummy <linux/jiffies.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        touch include/linux/jiffies.h
      else
        echo "Creating <linux/jiffies.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        echo "#include <linux/sched.h>
#include <linux/delay.h>
" > include/linux/jiffies.h
      fi
    fi
  fi


  { echo "$as_me:$LINENO: checking for kernel linux/compat.h" >&5
echo $ECHO_N "checking for kernel linux/compat.h... $ECHO_C" >&6; }
  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/linux/compat.h" -o -f "$kernelbuild/include2/linux/compat.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/linux/compat.h" \) ; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if test -n ""; then
    eval =""
  fi
  if test -f "$KERNDIR/include/linux/compat.h" -o -f "$KERNDIR/include2/linux/compat.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/linux/compat.h"; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
    if test -f include/linux/compat.h; then
      echo "Removing a dummy linux/compat.h."
      rm -f include/linux/compat.h
    fi
    if test -n ""; then
      eval ="y"
    fi
  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
    if test ! -f include/linux/compat.h; then
      if test -z "#include \"compat_64.h\"
" ; then
        echo "Creating a dummy <linux/compat.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        touch include/linux/compat.h
      else
        echo "Creating <linux/compat.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        echo "#include \"compat_64.h\"
" > include/linux/compat.h
      fi
    fi
  fi


  { echo "$as_me:$LINENO: checking for kernel linux/log2.h" >&5
echo $ECHO_N "checking for kernel linux/log2.h... $ECHO_C" >&6; }
  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/linux/log2.h" -o -f "$kernelbuild/include2/linux/log2.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/linux/log2.h" \) ; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if test -n ""; then
    eval =""
  fi
  if test -f "$KERNDIR/include/linux/log2.h" -o -f "$KERNDIR/include2/linux/log2.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/linux/log2.h"; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
    if test -f include/linux/log2.h; then
      echo "Removing a dummy linux/log2.h."
      rm -f include/linux/log2.h
    fi
    if test -n ""; then
      eval ="y"
    fi
  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
    if test ! -f include/linux/log2.h; then
      if test -z "" ; then
        echo "Creating a dummy <linux/log2.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        touch include/linux/log2.h
      else
        echo "Creating <linux/log2.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        echo "" > include/linux/log2.h
      fi
    fi
  fi


  { echo "$as_me:$LINENO: checking for kernel linux/adb.h" >&5
echo $ECHO_N "checking for kernel linux/adb.h... $ECHO_C" >&6; }
  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/linux/adb.h" -o -f "$kernelbuild/include2/linux/adb.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/linux/adb.h" \) ; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if test -n ""; then
    eval =""
  fi
  if test -f "$KERNDIR/include/linux/adb.h" -o -f "$KERNDIR/include2/linux/adb.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/linux/adb.h"; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
    if test -f include/linux/adb.h; then
      echo "Removing a dummy linux/adb.h."
      rm -f include/linux/adb.h
    fi
    if test -n ""; then
      eval ="y"
    fi
  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
    if test ! -f include/linux/adb.h; then
      if test -z "#include <asm/adb.h>
" ; then
        echo "Creating a dummy <linux/adb.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        touch include/linux/adb.h
      else
        echo "Creating <linux/adb.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        echo "#include <asm/adb.h>
" > include/linux/adb.h
      fi
    fi
  fi


  { echo "$as_me:$LINENO: checking for kernel linux/cuda.h" >&5
echo $ECHO_N "checking for kernel linux/cuda.h... $ECHO_C" >&6; }
  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/linux/cuda.h" -o -f "$kernelbuild/include2/linux/cuda.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/linux/cuda.h" \) ; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if test -n ""; then
    eval =""
  fi
  if test -f "$KERNDIR/include/linux/cuda.h" -o -f "$KERNDIR/include2/linux/cuda.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/linux/cuda.h"; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
    if test -f include/linux/cuda.h; then
      echo "Removing a dummy linux/cuda.h."
      rm -f include/linux/cuda.h
    fi
    if test -n ""; then
      eval ="y"
    fi
  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
    if test ! -f include/linux/cuda.h; then
      if test -z "#include <asm/cuda.h>
" ; then
        echo "Creating a dummy <linux/cuda.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        touch include/linux/cuda.h
      else
        echo "Creating <linux/cuda.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        echo "#include <asm/cuda.h>
" > include/linux/cuda.h
      fi
    fi
  fi


  { echo "$as_me:$LINENO: checking for kernel linux/pmu.h" >&5
echo $ECHO_N "checking for kernel linux/pmu.h... $ECHO_C" >&6; }
  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/linux/pmu.h" -o -f "$kernelbuild/include2/linux/pmu.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/linux/pmu.h" \) ; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if test -n ""; then
    eval =""
  fi
  if test -f "$KERNDIR/include/linux/pmu.h" -o -f "$KERNDIR/include2/linux/pmu.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/linux/pmu.h"; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
    if test -f include/linux/pmu.h; then
      echo "Removing a dummy linux/pmu.h."
      rm -f include/linux/pmu.h
    fi
    if test -n ""; then
      eval ="y"
    fi
  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
    if test ! -f include/linux/pmu.h; then
      if test -z "#include <asm/pmu.h>
" ; then
        echo "Creating a dummy <linux/pmu.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        touch include/linux/pmu.h
      else
        echo "Creating <linux/pmu.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        echo "#include <asm/pmu.h>
" > include/linux/pmu.h
      fi
    fi
  fi


  { echo "$as_me:$LINENO: checking for kernel linux/io.h" >&5
echo $ECHO_N "checking for kernel linux/io.h... $ECHO_C" >&6; }
  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/linux/io.h" -o -f "$kernelbuild/include2/linux/io.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/linux/io.h" \) ; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if test -n ""; then
    eval =""
  fi
  if test -f "$KERNDIR/include/linux/io.h" -o -f "$KERNDIR/include2/linux/io.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/linux/io.h"; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
    if test -f include/linux/io.h; then
      echo "Removing a dummy linux/io.h."
      rm -f include/linux/io.h
    fi
    if test -n ""; then
      eval ="y"
    fi
  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
    if test ! -f include/linux/io.h; then
      if test -z "#include <asm/io.h>
" ; then
        echo "Creating a dummy <linux/io.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        touch include/linux/io.h
      else
        echo "Creating <linux/io.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        echo "#include <asm/io.h>
" > include/linux/io.h
      fi
    fi
  fi


  { echo "$as_me:$LINENO: checking for kernel linux/moduleparam.h" >&5
echo $ECHO_N "checking for kernel linux/moduleparam.h... $ECHO_C" >&6; }
  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/linux/moduleparam.h" -o -f "$kernelbuild/include2/linux/moduleparam.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/linux/moduleparam.h" \) ; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if test -n ""; then
    eval =""
  fi
  if test -f "$KERNDIR/include/linux/moduleparam.h" -o -f "$KERNDIR/include2/linux/moduleparam.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/linux/moduleparam.h"; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
    if test -f include/linux/moduleparam.h; then
      echo "Removing a dummy linux/moduleparam.h."
      rm -f include/linux/moduleparam.h
    fi
    if test -n ""; then
      eval ="y"
    fi
  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
    if test ! -f include/linux/moduleparam.h; then
      if test -z "" ; then
        echo "Creating a dummy <linux/moduleparam.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        touch include/linux/moduleparam.h
      else
        echo "Creating <linux/moduleparam.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        echo "" > include/linux/moduleparam.h
      fi
    fi
  fi


  { echo "$as_me:$LINENO: checking for kernel linux/syscalls.h" >&5
echo $ECHO_N "checking for kernel linux/syscalls.h... $ECHO_C" >&6; }
  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/linux/syscalls.h" -o -f "$kernelbuild/include2/linux/syscalls.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/linux/syscalls.h" \) ; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if test -n ""; then
    eval =""
  fi
  if test -f "$KERNDIR/include/linux/syscalls.h" -o -f "$KERNDIR/include2/linux/syscalls.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/linux/syscalls.h"; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
    if test -f include/linux/syscalls.h; then
      echo "Removing a dummy linux/syscalls.h."
      rm -f include/linux/syscalls.h
    fi
    if test -n ""; then
      eval ="y"
    fi
  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
    if test ! -f include/linux/syscalls.h; then
      if test -z "#include \"syscalls_26.h\"
" ; then
        echo "Creating a dummy <linux/syscalls.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        touch include/linux/syscalls.h
      else
        echo "Creating <linux/syscalls.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        echo "#include \"syscalls_26.h\"
" > include/linux/syscalls.h
      fi
    fi
  fi


  { echo "$as_me:$LINENO: checking for kernel linux/firmware.h" >&5
echo $ECHO_N "checking for kernel linux/firmware.h... $ECHO_C" >&6; }
  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/linux/firmware.h" -o -f "$kernelbuild/include2/linux/firmware.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/linux/firmware.h" \) ; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if test -n "HAVE_FIRMWARE_H"; then
    eval HAVE_FIRMWARE_H=""
  fi
  if test -f "$KERNDIR/include/linux/firmware.h" -o -f "$KERNDIR/include2/linux/firmware.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/linux/firmware.h"; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
    if test -f include/linux/firmware.h; then
      echo "Removing a dummy linux/firmware.h."
      rm -f include/linux/firmware.h
    fi
    if test -n "HAVE_FIRMWARE_H"; then
      eval HAVE_FIRMWARE_H="y"
    fi
  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
    if test ! -f include/linux/firmware.h; then
      if test -z "#include \"firmware_compat.h\"
" ; then
        echo "Creating a dummy <linux/firmware.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        touch include/linux/firmware.h
      else
        echo "Creating <linux/firmware.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        echo "#include \"firmware_compat.h\"
" > include/linux/firmware.h
      fi
    fi
  fi


  { echo "$as_me:$LINENO: checking for kernel linux/err.h" >&5
echo $ECHO_N "checking for kernel linux/err.h... $ECHO_C" >&6; }
  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/linux/err.h" -o -f "$kernelbuild/include2/linux/err.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/linux/err.h" \) ; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if test -n ""; then
    eval =""
  fi
  if test -f "$KERNDIR/include/linux/err.h" -o -f "$KERNDIR/include2/linux/err.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/linux/err.h"; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
    if test -f include/linux/err.h; then
      echo "Removing a dummy linux/err.h."
      rm -f include/linux/err.h
    fi
    if test -n ""; then
      eval ="y"
    fi
  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
    if test ! -f include/linux/err.h; then
      if test -z "#include \"err_compat.h\"
" ; then
        echo "Creating a dummy <linux/err.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        touch include/linux/err.h
      else
        echo "Creating <linux/err.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        echo "#include \"err_compat.h\"
" > include/linux/err.h
      fi
    fi
  fi


  { echo "$as_me:$LINENO: checking for kernel linux/bitmap.h" >&5
echo $ECHO_N "checking for kernel linux/bitmap.h... $ECHO_C" >&6; }
  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/linux/bitmap.h" -o -f "$kernelbuild/include2/linux/bitmap.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/linux/bitmap.h" \) ; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if test -n ""; then
    eval =""
  fi
  if test -f "$KERNDIR/include/linux/bitmap.h" -o -f "$KERNDIR/include2/linux/bitmap.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/linux/bitmap.h"; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
    if test -f include/linux/bitmap.h; then
      echo "Removing a dummy linux/bitmap.h."
      rm -f include/linux/bitmap.h
    fi
    if test -n ""; then
      eval ="y"
    fi
  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
    if test ! -f include/linux/bitmap.h; then
      if test -z "#include \"bitmap_compat.h\"
" ; then
        echo "Creating a dummy <linux/bitmap.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        touch include/linux/bitmap.h
      else
        echo "Creating <linux/bitmap.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        echo "#include \"bitmap_compat.h\"
" > include/linux/bitmap.h
      fi
    fi
  fi


  { echo "$as_me:$LINENO: checking for kernel linux/mutex.h" >&5
echo $ECHO_N "checking for kernel linux/mutex.h... $ECHO_C" >&6; }
  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/linux/mutex.h" -o -f "$kernelbuild/include2/linux/mutex.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/linux/mutex.h" \) ; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if test -n ""; then
    eval =""
  fi
  if test -f "$KERNDIR/include/linux/mutex.h" -o -f "$KERNDIR/include2/linux/mutex.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/linux/mutex.h"; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
    if test -f include/linux/mutex.h; then
      echo "Removing a dummy linux/mutex.h."
      rm -f include/linux/mutex.h
    fi
    if test -n ""; then
      eval ="y"
    fi
  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
    if test ! -f include/linux/mutex.h; then
      if test -z "#include \"mutex_compat.h\"
" ; then
        echo "Creating a dummy <linux/mutex.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        touch include/linux/mutex.h
      else
        echo "Creating <linux/mutex.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        echo "#include \"mutex_compat.h\"
" > include/linux/mutex.h
      fi
    fi
  fi


  { echo "$as_me:$LINENO: checking for kernel linux/pm_qos_params.h" >&5
echo $ECHO_N "checking for kernel linux/pm_qos_params.h... $ECHO_C" >&6; }
  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/linux/pm_qos_params.h" -o -f "$kernelbuild/include2/linux/pm_qos_params.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/linux/pm_qos_params.h" \) ; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if test -n ""; then
    eval =""
  fi
  if test -f "$KERNDIR/include/linux/pm_qos_params.h" -o -f "$KERNDIR/include2/linux/pm_qos_params.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/linux/pm_qos_params.h"; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
    if test -f include/linux/pm_qos_params.h; then
      echo "Removing a dummy linux/pm_qos_params.h."
      rm -f include/linux/pm_qos_params.h
    fi
    if test -n ""; then
      eval ="y"
    fi
  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
    if test ! -f include/linux/pm_qos_params.h; then
      if test -z "#include \"pm_qos_params_compat.h\"
" ; then
        echo "Creating a dummy <linux/pm_qos_params.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        touch include/linux/pm_qos_params.h
      else
        echo "Creating <linux/pm_qos_params.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        echo "#include \"pm_qos_params_compat.h\"
" > include/linux/pm_qos_params.h
      fi
    fi
  fi


  { echo "$as_me:$LINENO: checking for kernel linux/kthread.h" >&5
echo $ECHO_N "checking for kernel linux/kthread.h... $ECHO_C" >&6; }
  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/linux/kthread.h" -o -f "$kernelbuild/include2/linux/kthread.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/linux/kthread.h" \) ; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if test -n ""; then
    eval =""
  fi
  if test -f "$KERNDIR/include/linux/kthread.h" -o -f "$KERNDIR/include2/linux/kthread.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/linux/kthread.h"; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
    if test -f include/linux/kthread.h; then
      echo "Removing a dummy linux/kthread.h."
      rm -f include/linux/kthread.h
    fi
    if test -n ""; then
      eval ="y"
    fi
  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
    if test ! -f include/linux/kthread.h; then
      if test -z "#include \"kthread_compat.h\"
" ; then
        echo "Creating a dummy <linux/kthread.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        touch include/linux/kthread.h
      else
        echo "Creating <linux/kthread.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        echo "#include \"kthread_compat.h\"
" > include/linux/kthread.h
      fi
    fi
  fi


  { echo "$as_me:$LINENO: checking for kernel asm/irq_regs.h" >&5
echo $ECHO_N "checking for kernel asm/irq_regs.h... $ECHO_C" >&6; }
  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/asm/irq_regs.h" -o -f "$kernelbuild/include2/asm/irq_regs.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/asm/irq_regs.h" \) ; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if test -n ""; then
    eval =""
  fi
  if test -f "$KERNDIR/include/asm/irq_regs.h" -o -f "$KERNDIR/include2/asm/irq_regs.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/asm/irq_regs.h"; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
    if test -f include/asm/irq_regs.h; then
      echo "Removing a dummy asm/irq_regs.h."
      rm -f include/asm/irq_regs.h
    fi
    if test -n ""; then
      eval ="y"
    fi
  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
    if test ! -f include/asm/irq_regs.h; then
      if test -z "" ; then
        echo "Creating a dummy <asm/irq_regs.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        touch include/asm/irq_regs.h
      else
        echo "Creating <asm/irq_regs.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        echo "" > include/asm/irq_regs.h
      fi
    fi
  fi


  { echo "$as_me:$LINENO: checking for kernel linux/seq_file.h" >&5
echo $ECHO_N "checking for kernel linux/seq_file.h... $ECHO_C" >&6; }
  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/linux/seq_file.h" -o -f "$kernelbuild/include2/linux/seq_file.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/linux/seq_file.h" \) ; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if test -n ""; then
    eval =""
  fi
  if test -f "$KERNDIR/include/linux/seq_file.h" -o -f "$KERNDIR/include2/linux/seq_file.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/linux/seq_file.h"; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
    if test -f include/linux/seq_file.h; then
      echo "Removing a dummy linux/seq_file.h."
      rm -f include/linux/seq_file.h
    fi
    if test -n ""; then
      eval ="y"
    fi
  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
    if test ! -f include/linux/seq_file.h; then
      if test -z "" ; then
        echo "Creating a dummy <linux/seq_file.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        touch include/linux/seq_file.h
      else
        echo "Creating <linux/seq_file.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        echo "" > include/linux/seq_file.h
      fi
    fi
  fi


  { echo "$as_me:$LINENO: checking for kernel linux/debugfs.h" >&5
echo $ECHO_N "checking for kernel linux/debugfs.h... $ECHO_C" >&6; }
  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/linux/debugfs.h" -o -f "$kernelbuild/include2/linux/debugfs.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/linux/debugfs.h" \) ; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if test -n ""; then
    eval =""
  fi
  if test -f "$KERNDIR/include/linux/debugfs.h" -o -f "$KERNDIR/include2/linux/debugfs.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/linux/debugfs.h"; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
    if test -f include/linux/debugfs.h; then
      echo "Removing a dummy linux/debugfs.h."
      rm -f include/linux/debugfs.h
    fi
    if test -n ""; then
      eval ="y"
    fi
  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
    if test ! -f include/linux/debugfs.h; then
      if test -z "" ; then
        echo "Creating a dummy <linux/debugfs.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        touch include/linux/debugfs.h
      else
        echo "Creating <linux/debugfs.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        echo "" > include/linux/debugfs.h
      fi
    fi
  fi


  { echo "$as_me:$LINENO: checking for kernel linux/gpio.h" >&5
echo $ECHO_N "checking for kernel linux/gpio.h... $ECHO_C" >&6; }
  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/linux/gpio.h" -o -f "$kernelbuild/include2/linux/gpio.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/linux/gpio.h" \) ; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if test -n ""; then
    eval =""
  fi
  if test -f "$KERNDIR/include/linux/gpio.h" -o -f "$KERNDIR/include2/linux/gpio.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/linux/gpio.h"; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
    if test -f include/linux/gpio.h; then
      echo "Removing a dummy linux/gpio.h."
      rm -f include/linux/gpio.h
    fi
    if test -n ""; then
      eval ="y"
    fi
  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
    if test ! -f include/linux/gpio.h; then
      if test -z "" ; then
        echo "Creating a dummy <linux/gpio.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        touch include/linux/gpio.h
      else
        echo "Creating <linux/gpio.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        echo "" > include/linux/gpio.h
      fi
    fi
  fi


  { echo "$as_me:$LINENO: checking for kernel linux/bug.h" >&5
echo $ECHO_N "checking for kernel linux/bug.h... $ECHO_C" >&6; }
  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/linux/bug.h" -o -f "$kernelbuild/include2/linux/bug.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/linux/bug.h" \) ; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if test -n ""; then
    eval =""
  fi
  if test -f "$KERNDIR/include/linux/bug.h" -o -f "$KERNDIR/include2/linux/bug.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/linux/bug.h"; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
    if test -f include/linux/bug.h; then
      echo "Removing a dummy linux/bug.h."
      rm -f include/linux/bug.h
    fi
    if test -n ""; then
      eval ="y"
    fi
  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
    if test ! -f include/linux/bug.h; then
      if test -z "" ; then
        echo "Creating a dummy <linux/bug.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        touch include/linux/bug.h
      else
        echo "Creating <linux/bug.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        echo "" > include/linux/bug.h
      fi
    fi
  fi


  { echo "$as_me:$LINENO: checking for kernel linux/math64.h" >&5
echo $ECHO_N "checking for kernel linux/math64.h... $ECHO_C" >&6; }
  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/linux/math64.h" -o -f "$kernelbuild/include2/linux/math64.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/linux/math64.h" \) ; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if test -n ""; then
    eval =""
  fi
  if test -f "$KERNDIR/include/linux/math64.h" -o -f "$KERNDIR/include2/linux/math64.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/linux/math64.h"; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
    if test -f include/linux/math64.h; then
      echo "Removing a dummy linux/math64.h."
      rm -f include/linux/math64.h
    fi
    if test -n ""; then
      eval ="y"
    fi
  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
    if test ! -f include/linux/math64.h; then
      if test -z "#include \"math64_compat.h\"
" ; then
        echo "Creating a dummy <linux/math64.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        touch include/linux/math64.h
      else
        echo "Creating <linux/math64.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        echo "#include \"math64_compat.h\"
" > include/linux/math64.h
      fi
    fi
  fi


  { echo "$as_me:$LINENO: checking for kernel linux/regulator/consumer.h" >&5
echo $ECHO_N "checking for kernel linux/regulator/consumer.h... $ECHO_C" >&6; }
  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/linux/regulator/consumer.h" -o -f "$kernelbuild/include2/linux/regulator/consumer.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/linux/regulator/consumer.h" \) ; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if test -n ""; then
    eval =""
  fi
  if test -f "$KERNDIR/include/linux/regulator/consumer.h" -o -f "$KERNDIR/include2/linux/regulator/consumer.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/linux/regulator/consumer.h"; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
    if test -f include/linux/regulator/consumer.h; then
      echo "Removing a dummy linux/regulator/consumer.h."
      rm -f include/linux/regulator/consumer.h
    fi
    if test -n ""; then
      eval ="y"
    fi
  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
    if test ! -f include/linux/regulator/consumer.h; then
      if test -z "#include \"regulator_consumer_compat.h\"
" ; then
        echo "Creating a dummy <linux/regulator/consumer.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        touch include/linux/regulator/consumer.h
      else
        echo "Creating <linux/regulator/consumer.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        echo "#include \"regulator_consumer_compat.h\"
" > include/linux/regulator/consumer.h
      fi
    fi
  fi


  { echo "$as_me:$LINENO: checking for kernel linux/dmi.h" >&5
echo $ECHO_N "checking for kernel linux/dmi.h... $ECHO_C" >&6; }
  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/linux/dmi.h" -o -f "$kernelbuild/include2/linux/dmi.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/linux/dmi.h" \) ; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if test -n ""; then
    eval =""
  fi
  if test -f "$KERNDIR/include/linux/dmi.h" -o -f "$KERNDIR/include2/linux/dmi.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/linux/dmi.h"; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
    if test -f include/linux/dmi.h; then
      echo "Removing a dummy linux/dmi.h."
      rm -f include/linux/dmi.h
    fi
    if test -n ""; then
      eval ="y"
    fi
  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
    if test ! -f include/linux/dmi.h; then
      if test -z "#include \"dmi_compat.h\"
" ; then
        echo "Creating a dummy <linux/dmi.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        touch include/linux/dmi.h
      else
        echo "Creating <linux/dmi.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        echo "#include \"dmi_compat.h\"
" > include/linux/dmi.h
      fi
    fi
  fi


  { echo "$as_me:$LINENO: checking for kernel linux/bitrev.h" >&5
echo $ECHO_N "checking for kernel linux/bitrev.h... $ECHO_C" >&6; }
  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/linux/bitrev.h" -o -f "$kernelbuild/include2/linux/bitrev.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/linux/bitrev.h" \) ; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if test -n ""; then
    eval =""
  fi
  if test -f "$KERNDIR/include/linux/bitrev.h" -o -f "$KERNDIR/include2/linux/bitrev.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/linux/bitrev.h"; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
    if test -f include/linux/bitrev.h; then
      echo "Removing a dummy linux/bitrev.h."
      rm -f include/linux/bitrev.h
    fi
    if test -n ""; then
      eval ="y"
    fi
  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
    if test ! -f include/linux/bitrev.h; then
      if test -z "" ; then
        echo "Creating a dummy <linux/bitrev.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        touch include/linux/bitrev.h
      else
        echo "Creating <linux/bitrev.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        echo "" > include/linux/bitrev.h
      fi
    fi
  fi


  { echo "$as_me:$LINENO: checking for kernel linux/hrtimer.h" >&5
echo $ECHO_N "checking for kernel linux/hrtimer.h... $ECHO_C" >&6; }
  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/linux/hrtimer.h" -o -f "$kernelbuild/include2/linux/hrtimer.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/linux/hrtimer.h" \) ; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if test -n ""; then
    eval =""
  fi
  if test -f "$KERNDIR/include/linux/hrtimer.h" -o -f "$KERNDIR/include2/linux/hrtimer.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/linux/hrtimer.h"; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
    if test -f include/linux/hrtimer.h; then
      echo "Removing a dummy linux/hrtimer.h."
      rm -f include/linux/hrtimer.h
    fi
    if test -n ""; then
      eval ="y"
    fi
  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
    if test ! -f include/linux/hrtimer.h; then
      if test -z "" ; then
        echo "Creating a dummy <linux/hrtimer.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        touch include/linux/hrtimer.h
      else
        echo "Creating <linux/hrtimer.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        echo "" > include/linux/hrtimer.h
      fi
    fi
  fi


  { echo "$as_me:$LINENO: checking for kernel linux/gcd.h" >&5
echo $ECHO_N "checking for kernel linux/gcd.h... $ECHO_C" >&6; }
  if test -n "$kernelbuild" -a \( -f "$kernelbuild/include/linux/gcd.h" -o -f "$kernelbuild/include2/linux/gcd.h" -o -f "$kernelbuild/arch/$ARCHDIR/include/linux/gcd.h" \) ; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  if test -n ""; then
    eval =""
  fi
  if test -f "$KERNDIR/include/linux/gcd.h" -o -f "$KERNDIR/include2/linux/gcd.h" -o -f "$KERNDIR/arch/$ARCHDIR/include/linux/gcd.h"; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
    if test -f include/linux/gcd.h; then
      echo "Removing a dummy linux/gcd.h."
      rm -f include/linux/gcd.h
    fi
    if test -n ""; then
      eval ="y"
    fi
  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
    if test ! -f include/linux/gcd.h; then
      if test -z "#include \"gcd_compat.h\"
" ; then
        echo "Creating a dummy <linux/gcd.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        touch include/linux/gcd.h
      else
        echo "Creating <linux/gcd.h>..."
        mkdir -p include/linux include/asm include/media
	mkdir -p include/linux/regulator
        echo "#include \"gcd_compat.h\"
" > include/linux/gcd.h
      fi
    fi
  fi


if test "$kversion.$kpatchlevel" = "2.6"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_HAVE_DUMP_STACK 1
_ACEOF

else

  { echo "$as_me:$LINENO: checking for exported symbol dump_stack" >&5
echo $ECHO_N "checking for exported symbol dump_stack... $ECHO_C" >&6; }
  ac_save_CFLAGS="$CFLAGS"
  boolchk=""
  if grep EXPORT_SYMBOL "$CONFIG_SND_KERNELDIR/kernel/ksyms.c" | grep "dump_stack" > /dev/null; then
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };boolchk="y"
    cat >>confdefs.h <<\_ACEOF
#define CONFIG_HAVE_DUMP_STACK 1
_ACEOF

  else
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };boolchk="",
  fi
  eval $boolvar="$boolchk"

fi


  boolvar="CONFIG_MODVERSIONS"
  boolvar1="CONFIG_MODVERSIONS_MODULE"
  { echo "$as_me:$LINENO: checking for kernel module symbol versions" >&5
echo $ECHO_N "checking for kernel module symbol versions... $ECHO_C" >&6; }
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS="$CFLAGS $KERNEL_INC $HACK_KERNEL_INC"
  if test -n "$kernelbuild" -a -f "$kernelbuild/include/linux/autoconf.h"; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  boolchk=""
  if test "$cross_compiling" = yes; then
  { echo "$as_me:$LINENO: result: unknown" >&5
echo "${ECHO_T}unknown" >&6; };boolchk=""

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include "$KERNDIR/include/linux/autoconf.h"
int main( void ) {
#if !defined($boolvar) && !defined($boolvar1)
  exit(1);
#else
  exit(0);
#endif
}

_ACEOF
rm -f conftest$ac_exeext
if { (ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };boolchk="y"
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };boolchk=""
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi


  CFLAGS="$ac_save_CFLAGS"
  eval $boolvar="$boolchk"

CONFIG_SND_MVERSION=$CONFIG_MODVERSIONS

GENKSYMS="/sbin/genksyms -k $kversion.$kpatchlevel.$ksublevel"


  boolvar="CONFIG_HAS_IOPORT"
  boolvar1="CONFIG_HAS_IOPORT_MODULE"
  { echo "$as_me:$LINENO: checking for has ioport support" >&5
echo $ECHO_N "checking for has ioport support... $ECHO_C" >&6; }
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS="$CFLAGS $KERNEL_INC $HACK_KERNEL_INC"
  if test -n "$kernelbuild" -a -f "$kernelbuild/include/linux/autoconf.h"; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  boolchk=""
  if test "$cross_compiling" = yes; then
  { echo "$as_me:$LINENO: result: unknown" >&5
echo "${ECHO_T}unknown" >&6; };boolchk=""

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include "$KERNDIR/include/linux/autoconf.h"
int main( void ) {
#if !defined($boolvar) && !defined($boolvar1)
  exit(1);
#else
  exit(0);
#endif
}

_ACEOF
rm -f conftest$ac_exeext
if { (ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };boolchk="y"
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };boolchk=""
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi


  CFLAGS="$ac_save_CFLAGS"
  eval $boolvar="$boolchk"

test "$CONFIG_HAS_IOPORT" = "y" && cat >>confdefs.h <<\_ACEOF
#define CONFIG_HAS_IOPORT 1
_ACEOF



  boolvar="CONFIG_PCI"
  boolvar1="CONFIG_PCI_MODULE"
  { echo "$as_me:$LINENO: checking for PCI support in kernel" >&5
echo $ECHO_N "checking for PCI support in kernel... $ECHO_C" >&6; }
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS="$CFLAGS $KERNEL_INC $HACK_KERNEL_INC"
  if test -n "$kernelbuild" -a -f "$kernelbuild/include/linux/autoconf.h"; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  boolchk=""
  if test "$cross_compiling" = yes; then
  { echo "$as_me:$LINENO: result: unknown" >&5
echo "${ECHO_T}unknown" >&6; };boolchk=""

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include "$KERNDIR/include/linux/autoconf.h"
int main( void ) {
#if !defined($boolvar) && !defined($boolvar1)
  exit(1);
#else
  exit(0);
#endif
}

_ACEOF
rm -f conftest$ac_exeext
if { (ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };boolchk="y"
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };boolchk=""
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi


  CFLAGS="$ac_save_CFLAGS"
  eval $boolvar="$boolchk"




  tristatevar="CONFIG_I2C"
  tristatevar1="CONFIG_I2C_MODULE"
  { echo "$as_me:$LINENO: checking for I2C driver in kernel" >&5
echo $ECHO_N "checking for I2C driver in kernel... $ECHO_C" >&6; }
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS="$CFLAGS $KERNEL_INC $HACK_KERNEL_INC"
  if test -n "$kernelbuild" -a -f "$kernelbuild/include/linux/autoconf.h"; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  tristatechk=""
  if test "$cross_compiling" = yes; then
  tristatechk=""

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include "$KERNDIR/include/linux/autoconf.h"
#include <stdio.h>
int main(void) {
	FILE *file = fopen("tristate.result", "w+");
	if (file == NULL)
		exit(1);
#if defined($tristatevar)
	fprintf(file, "y");
#endif
#if defined(${tristatevar}_MODULE)
	fprintf(file, "m");
#endif
	fclose(file);
	exit(0);
}

_ACEOF
rm -f conftest$ac_exeext
if { (ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  tristatechk="`cat tristate.result`"
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
tristatechk=""
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi


  case $tristatechk in
  y)
	tristateres="yes"
	;;
  m)
	tristateres="module"
	;;
  *)
	tristateres="unknown"
	;;
  esac
  { echo "$as_me:$LINENO: result: $tristateres" >&5
echo "${ECHO_T}$tristateres" >&6; }
  CFLAGS="$ac_save_CFLAGS"
  rm -f tristate.result
  eval $tristatevar="$tristatechk"



if test "$CONFIG_I2C" != ""; then

  tristatevar="CONFIG_I2C_POWERMAC"
  tristatevar1="CONFIG_I2C_POWERMAC_MODULE"
  { echo "$as_me:$LINENO: checking for I2C_POWERMAC in kernel" >&5
echo $ECHO_N "checking for I2C_POWERMAC in kernel... $ECHO_C" >&6; }
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS="$CFLAGS $KERNEL_INC $HACK_KERNEL_INC"
  if test -n "$kernelbuild" -a -f "$kernelbuild/include/linux/autoconf.h"; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  tristatechk=""
  if test "$cross_compiling" = yes; then
  tristatechk=""

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include "$KERNDIR/include/linux/autoconf.h"
#include <stdio.h>
int main(void) {
	FILE *file = fopen("tristate.result", "w+");
	if (file == NULL)
		exit(1);
#if defined($tristatevar)
	fprintf(file, "y");
#endif
#if defined(${tristatevar}_MODULE)
	fprintf(file, "m");
#endif
	fclose(file);
	exit(0);
}

_ACEOF
rm -f conftest$ac_exeext
if { (ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  tristatechk="`cat tristate.result`"
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
tristatechk=""
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi


  case $tristatechk in
  y)
	tristateres="yes"
	;;
  m)
	tristateres="module"
	;;
  *)
	tristateres="unknown"
	;;
  esac
  { echo "$as_me:$LINENO: result: $tristateres" >&5
echo "${ECHO_T}$tristateres" >&6; }
  CFLAGS="$ac_save_CFLAGS"
  rm -f tristate.result
  eval $tristatevar="$tristatechk"

# AC_SUBST(CONFIG_I2C_POWERMAC)
fi

if test -n "$HAVE_FIRMWARE_H"; then

  tristatevar="CONFIG_FW_LOADER"
  tristatevar1="CONFIG_FW_LOADER_MODULE"
  { echo "$as_me:$LINENO: checking for firmware loader" >&5
echo $ECHO_N "checking for firmware loader... $ECHO_C" >&6; }
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS="$CFLAGS $KERNEL_INC $HACK_KERNEL_INC"
  if test -n "$kernelbuild" -a -f "$kernelbuild/include/linux/autoconf.h"; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  tristatechk=""
  if test "$cross_compiling" = yes; then
  tristatechk=""

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include "$KERNDIR/include/linux/autoconf.h"
#include <stdio.h>
int main(void) {
	FILE *file = fopen("tristate.result", "w+");
	if (file == NULL)
		exit(1);
#if defined($tristatevar)
	fprintf(file, "y");
#endif
#if defined(${tristatevar}_MODULE)
	fprintf(file, "m");
#endif
	fclose(file);
	exit(0);
}

_ACEOF
rm -f conftest$ac_exeext
if { (ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  tristatechk="`cat tristate.result`"
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
tristatechk=""
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi


  case $tristatechk in
  y)
	tristateres="yes"
	;;
  m)
	tristateres="module"
	;;
  *)
	tristateres="unknown"
	;;
  esac
  { echo "$as_me:$LINENO: result: $tristateres" >&5
echo "${ECHO_T}$tristateres" >&6; }
  CFLAGS="$ac_save_CFLAGS"
  rm -f tristate.result
  eval $tristatevar="$tristatechk"

else
  { echo "$as_me:$LINENO: checking for firmware loader" >&5
echo $ECHO_N "checking for firmware loader... $ECHO_C" >&6; }
  CONFIG_FW_LOADER="y"
  { echo "$as_me:$LINENO: result: emulated" >&5
echo "${ECHO_T}emulated" >&6; }
fi


if test $kpatchlevel -le 2; then
CONFIG_INPUT="y"
else

  tristatevar="CONFIG_INPUT"
  tristatevar1="CONFIG_INPUT_MODULE"
  { echo "$as_me:$LINENO: checking for input subsystem in kernel" >&5
echo $ECHO_N "checking for input subsystem in kernel... $ECHO_C" >&6; }
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS="$CFLAGS $KERNEL_INC $HACK_KERNEL_INC"
  if test -n "$kernelbuild" -a -f "$kernelbuild/include/linux/autoconf.h"; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  tristatechk=""
  if test "$cross_compiling" = yes; then
  tristatechk=""

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include "$KERNDIR/include/linux/autoconf.h"
#include <stdio.h>
int main(void) {
	FILE *file = fopen("tristate.result", "w+");
	if (file == NULL)
		exit(1);
#if defined($tristatevar)
	fprintf(file, "y");
#endif
#if defined(${tristatevar}_MODULE)
	fprintf(file, "m");
#endif
	fclose(file);
	exit(0);
}

_ACEOF
rm -f conftest$ac_exeext
if { (ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  tristatechk="`cat tristate.result`"
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
tristatechk=""
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi


  case $tristatechk in
  y)
	tristateres="yes"
	;;
  m)
	tristateres="module"
	;;
  *)
	tristateres="unknown"
	;;
  esac
  { echo "$as_me:$LINENO: result: $tristateres" >&5
echo "${ECHO_T}$tristateres" >&6; }
  CFLAGS="$ac_save_CFLAGS"
  rm -f tristate.result
  eval $tristatevar="$tristatechk"


  boolvar="CONFIG_PCSPKR_PLATFORM"
  boolvar1="CONFIG_PCSPKR_PLATFORM_MODULE"
  { echo "$as_me:$LINENO: checking for pc-speaker platform in kernel" >&5
echo $ECHO_N "checking for pc-speaker platform in kernel... $ECHO_C" >&6; }
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS="$CFLAGS $KERNEL_INC $HACK_KERNEL_INC"
  if test -n "$kernelbuild" -a -f "$kernelbuild/include/linux/autoconf.h"; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  boolchk=""
  if test "$cross_compiling" = yes; then
  { echo "$as_me:$LINENO: result: unknown" >&5
echo "${ECHO_T}unknown" >&6; };boolchk=""

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include "$KERNDIR/include/linux/autoconf.h"
int main( void ) {
#if !defined($boolvar) && !defined($boolvar1)
  exit(1);
#else
  exit(0);
#endif
}

_ACEOF
rm -f conftest$ac_exeext
if { (ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };boolchk="y"
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };boolchk=""
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi


  CFLAGS="$ac_save_CFLAGS"
  eval $boolvar="$boolchk"

fi




  boolvar="CONFIG_SMP"
  boolvar1="CONFIG_SMP_MODULE"
  { echo "$as_me:$LINENO: checking for SMP" >&5
echo $ECHO_N "checking for SMP... $ECHO_C" >&6; }
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS="$CFLAGS $KERNEL_INC $HACK_KERNEL_INC"
  if test -n "$kernelbuild" -a -f "$kernelbuild/include/linux/autoconf.h"; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  boolchk=""
  if test "$cross_compiling" = yes; then
  { echo "$as_me:$LINENO: result: unknown" >&5
echo "${ECHO_T}unknown" >&6; };boolchk=""

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include "$KERNDIR/include/linux/autoconf.h"
int main( void ) {
#if !defined($boolvar) && !defined($boolvar1)
  exit(1);
#else
  exit(0);
#endif
}

_ACEOF
rm -f conftest$ac_exeext
if { (ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };boolchk="y"
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };boolchk=""
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi


  CFLAGS="$ac_save_CFLAGS"
  eval $boolvar="$boolchk"

if test "$CONFIG_SMP" = "y"; then
  GENKSYMS="$GENKSYMS -p smp_"
  c_opts="$c_opts -D__SMP__ -DCONFIG_SMP"
  msmp=1
else
  msmp=""
fi


KERNEL_CHECK_CFLAGS="-Wall -fno-strict-aliasing $CFLAGS $KERNEL_INC $HACK_KERNEL_INC -Iinclude -nostdinc -iwithprefix include"
if test "$NEW_KBUILD" = "y"; then
  KERNEL_CHECK_CFLAGS="$KERNEL_CHECK_CFLAGS -DKBUILD_STR(s)=#s -DKBUILD_BASENAME=KBUILD_STR(dummy) -DKBUILD_MODNAME=KBUILD_BASENAME"
fi

if test $kpatchlevel -gt 2; then

  boolvar="CONFIG_VIDEO_DEV"
  boolvar1="CONFIG_VIDEO_DEV_MODULE"
  { echo "$as_me:$LINENO: checking for Video device support in kernel" >&5
echo $ECHO_N "checking for Video device support in kernel... $ECHO_C" >&6; }
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS="$CFLAGS $KERNEL_INC $HACK_KERNEL_INC"
  if test -n "$kernelbuild" -a -f "$kernelbuild/include/linux/autoconf.h"; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  boolchk=""
  if test "$cross_compiling" = yes; then
  { echo "$as_me:$LINENO: result: unknown" >&5
echo "${ECHO_T}unknown" >&6; };boolchk=""

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include "$KERNDIR/include/linux/autoconf.h"
int main( void ) {
#if !defined($boolvar) && !defined($boolvar1)
  exit(1);
#else
  exit(0);
#endif
}

_ACEOF
rm -f conftest$ac_exeext
if { (ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };boolchk="y"
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };boolchk=""
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi


  CFLAGS="$ac_save_CFLAGS"
  eval $boolvar="$boolchk"


fi

{ echo "$as_me:$LINENO: checking for ISA PnP driver in kernel" >&5
echo $ECHO_N "checking for ISA PnP driver in kernel... $ECHO_C" >&6; }
CONFIG_ISAPNP_KERNEL=
if test -r $CONFIG_SND_KERNELDIR/include/linux/isapnp.h; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_ISAPNP_KERNEL 1
_ACEOF

  CONFIG_ISAPNP_KERNEL=y
else
  { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
fi


{ echo "$as_me:$LINENO: checking for PnP driver in kernel" >&5
echo $ECHO_N "checking for PnP driver in kernel... $ECHO_C" >&6; }
CONFIG_PNP_KERNEL=
if test -r $CONFIG_SND_KERNELDIR/include/linux/pnp.h; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_PNP_KERNEL 1
_ACEOF

  CONFIG_PNP_KERNEL=y
else
  { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
fi


if test "$CONFIG_ISAPNP_KERNEL" = y; then

  boolvar="CONFIG_ISAPNP"
  boolvar1="CONFIG_ISAPNP_MODULE"
  { echo "$as_me:$LINENO: checking for Kernel ISA-PnP support" >&5
echo $ECHO_N "checking for Kernel ISA-PnP support... $ECHO_C" >&6; }
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS="$CFLAGS $KERNEL_INC $HACK_KERNEL_INC"
  if test -n "$kernelbuild" -a -f "$kernelbuild/include/linux/autoconf.h"; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  boolchk=""
  if test "$cross_compiling" = yes; then
  { echo "$as_me:$LINENO: result: unknown" >&5
echo "${ECHO_T}unknown" >&6; };boolchk=""

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include "$KERNDIR/include/linux/autoconf.h"
int main( void ) {
#if !defined($boolvar) && !defined($boolvar1)
  exit(1);
#else
  exit(0);
#endif
}

_ACEOF
rm -f conftest$ac_exeext
if { (ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };boolchk="y"
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };boolchk=""
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi


  CFLAGS="$ac_save_CFLAGS"
  eval $boolvar="$boolchk"

  if test "$CONFIG_ISAPNP" != "y"; then

  boolvar="CONFIG_ISAPNP_MODULE"
  boolvar1="CONFIG_ISAPNP_MODULE_MODULE"
  { echo "$as_me:$LINENO: checking for Kernel ISA-PnP module support" >&5
echo $ECHO_N "checking for Kernel ISA-PnP module support... $ECHO_C" >&6; }
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS="$CFLAGS $KERNEL_INC $HACK_KERNEL_INC"
  if test -n "$kernelbuild" -a -f "$kernelbuild/include/linux/autoconf.h"; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  boolchk=""
  if test "$cross_compiling" = yes; then
  { echo "$as_me:$LINENO: result: unknown" >&5
echo "${ECHO_T}unknown" >&6; };boolchk=""

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include "$KERNDIR/include/linux/autoconf.h"
int main( void ) {
#if !defined($boolvar) && !defined($boolvar1)
  exit(1);
#else
  exit(0);
#endif
}

_ACEOF
rm -f conftest$ac_exeext
if { (ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };boolchk="y"
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };boolchk=""
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi


  CFLAGS="$ac_save_CFLAGS"
  eval $boolvar="$boolchk"

  fi
fi

if test "$CONFIG_PNP_KERNEL" != y; then
  if test "$CONFIG_ISAPNP_KERNEL" != y; then
    isapnp_choose=y
  elif test "$CONFIG_ISAPNP" = y -o "$CONFIG_ISAPNP_MODULE" = y; then
    isapnp_choose=y
  fi
  if test "$isapnp_choose" = y; then
    { echo "$as_me:$LINENO: checking for ISA PnP support" >&5
echo $ECHO_N "checking for ISA PnP support... $ECHO_C" >&6; }

# Check whether --with-isapnp was given.
if test "${with_isapnp+set}" = set; then
  withval=$with_isapnp; pnp="$withval"
else
  pnp="yes"
fi

    if test "$pnp" = "auto"; then
      if test -f /proc/isapnp; then
        pnp=yes
      fi
    fi
  fi
  if test "$pnp" = "yes"; then
    CONFIG_ISAPNP=y
    { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
  else
    CONFIG_ISAPNP=
    { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
  fi
fi


if test "$CONFIG_ISAPNP" = "y"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_ISAPNP 1
_ACEOF

  CONFIG_PNP=$CONFIG_ISAPNP
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_PNP 1
_ACEOF

else
  CONFIG_PNP=""
fi


{ echo "$as_me:$LINENO: checking for strlcpy" >&5
echo $ECHO_N "checking for strlcpy... $ECHO_C" >&6; }
strlcpy="0"
ac_save_CFLAGS="$CFLAGS"
ac_save_CC="$CC"
CFLAGS="$KERNEL_CHECK_CFLAGS -Werror"
CC=$KCC
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#define __KERNEL__
#ifdef CONFIG_HAVE_DEPRECATED_CONFIG_H
#include <linux/autoconf.h>
#else
#include <linux/config.h>
#endif
#include <linux/kernel.h>
#include <linux/string.h>

int
main ()
{

  char buf[128];
  strlcpy(buf, "abcd", sizeof(buf));

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };strlcpy="1"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };strlcpy="0"
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
CFLAGS=$ac_save_CFLAGS
CC=$ac_save_CC
CONFIG_HAVE_STRLCPY=$strlcpy
if test "$CONFIG_HAVE_STRLCPY" = "1"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_HAVE_STRLCPY 1
_ACEOF

fi

{ echo "$as_me:$LINENO: checking for snprintf" >&5
echo $ECHO_N "checking for snprintf... $ECHO_C" >&6; }
snprintf="0"
ac_save_CFLAGS="$CFLAGS"
ac_save_CC="$CC"
CFLAGS="$KERNEL_CHECK_CFLAGS -Werror"
CC=$KCC
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#define __KERNEL__
#ifdef CONFIG_HAVE_DEPRECATED_CONFIG_H
#include <linux/autoconf.h>
#else
#include <linux/config.h>
#endif
#include <linux/kernel.h>

int
main ()
{

  char buf[128];
  snprintf(buf, sizeof(buf), "abcd");

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };snprintf="1"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };snprintf="0"
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
CFLAGS=$ac_save_CFLAGS
CC=$ac_save_CC
CONFIG_HAVE_SNPRINTF=$snprintf
if test "$CONFIG_HAVE_SNPRINTF" = "1"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_HAVE_SNPRINTF 1
_ACEOF

fi

{ echo "$as_me:$LINENO: checking for vsnprintf" >&5
echo $ECHO_N "checking for vsnprintf... $ECHO_C" >&6; }
vsnprintf="0"
ac_save_CFLAGS="$CFLAGS"
ac_save_CC="$CC"
CFLAGS="$KERNEL_CHECK_CFLAGS -Werror"
CC=$KCC
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#define __KERNEL__
#ifdef CONFIG_HAVE_DEPRECATED_CONFIG_H
#include <linux/autoconf.h>
#else
#include <linux/config.h>
#endif
#include <linux/kernel.h>
void f(const char *fmt, ...)
{
  char buf[128];
  va_list ap;
  va_start(ap, fmt);
  vsnprintf(buf, sizeof(buf), fmt, ap);
  va_end(ap);
}

int
main ()
{

  f("abcd");

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };vsnprintf="1"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };vsnprintf="0"
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
CFLAGS=$ac_save_CFLAGS
CC=$ac_save_CC
CONFIG_HAVE_VSNPRINTF=$vsnprintf
if test "$CONFIG_HAVE_VSNPRINTF" = "1"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_HAVE_VSNPRINTF 1
_ACEOF

fi

{ echo "$as_me:$LINENO: checking for scnprintf" >&5
echo $ECHO_N "checking for scnprintf... $ECHO_C" >&6; }
scnprintf="0"
ac_save_CFLAGS="$CFLAGS"
ac_save_CC="$CC"
CFLAGS="$KERNEL_CHECK_CFLAGS -Werror"
CC=$KCC
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#define __KERNEL__
#ifdef CONFIG_HAVE_DEPRECATED_CONFIG_H
#include <linux/autoconf.h>
#else
#include <linux/config.h>
#endif
#include <linux/kernel.h>

int
main ()
{

  char buf[128];
  scnprintf(buf, sizeof(buf), "abcd");

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };scnprintf="1"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };scnprintf="0"
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
CFLAGS=$ac_save_CFLAGS
CC=$ac_save_CC
CONFIG_HAVE_SCNPRINTF=$scnprintf
if test "$CONFIG_HAVE_SCNPRINTF" = "1"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_HAVE_SCNPRINTF 1
_ACEOF

fi

{ echo "$as_me:$LINENO: checking for sscanf" >&5
echo $ECHO_N "checking for sscanf... $ECHO_C" >&6; }
sscanf="0"
ac_save_CFLAGS="$CFLAGS"
ac_save_CC="$CC"
CFLAGS="$KERNEL_CHECK_CFLAGS -Werror"
CC=$KCC
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#define __KERNEL__
#ifdef CONFIG_HAVE_DEPRECATED_CONFIG_H
#include <linux/autoconf.h>
#else
#include <linux/config.h>
#endif
#include <linux/kernel.h>

int
main ()
{

  unsigned int i;
  sscanf("2a", "%x", &i);

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };sscanf="1"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };sscanf="0"
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
CFLAGS=$ac_save_CFLAGS
CC=$ac_save_CC
CONFIG_HAVE_SSCANF=$sscanf
if test "$CONFIG_HAVE_SSCANF" = "1"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_HAVE_SSCANF 1
_ACEOF

fi

{ echo "$as_me:$LINENO: checking for vmalloc_to_page" >&5
echo $ECHO_N "checking for vmalloc_to_page... $ECHO_C" >&6; }
vmalloc_to_page="0"
ac_save_CFLAGS="$CFLAGS"
ac_save_CC="$CC"
CFLAGS="$KERNEL_CHECK_CFLAGS"
CC=$KCC
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#define __KERNEL__
#ifdef CONFIG_HAVE_DEPRECATED_CONFIG_H
#include <linux/autoconf.h>
#else
#include <linux/config.h>
#endif
#include <linux/time.h>
#include <linux/sched.h>
#include <linux/interrupt.h>
#include <linux/mm.h>

int
main ()
{

  struct page * (*func)(void*);
  func = vmalloc_to_page;

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };vmalloc_to_page="1"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };vmalloc_to_page="0"
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
CFLAGS=$ac_save_CFLAGS
CC=$ac_save_CC
CONFIG_HAVE_VMALLOC_TO_PAGE=$vmalloc_to_page
if test "$CONFIG_HAVE_VMALLOC_TO_PAGE" = "1"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_HAVE_VMALLOC_TO_PAGE 1
_ACEOF

fi

{ echo "$as_me:$LINENO: checking for old kmod" >&5
echo $ECHO_N "checking for old kmod... $ECHO_C" >&6; }
old_kmod="0"
ac_save_CFLAGS="$CFLAGS"
ac_save_CC="$CC"
CFLAGS="$KERNEL_CHECK_CFLAGS"
CC=$KCC
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#define __KERNEL__
#ifdef CONFIG_HAVE_DEPRECATED_CONFIG_H
#include <linux/autoconf.h>
#else
#include <linux/config.h>
#endif
#include <linux/kmod.h>

int
main ()
{

	request_module("abcd", "def", "ixj");

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };old_kmod="0"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	{ echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };old_kmod="1"
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
CFLAGS=$ac_save_CFLAGS
CC=$ac_save_CC
CONFIG_HAVE_OLD_REQUEST_MODULE=$old_kmod
if test "$CONFIG_HAVE_OLD_REQUEST_MODULE" = "1"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_HAVE_OLD_REQUEST_MODULE 1
_ACEOF

fi

{ echo "$as_me:$LINENO: checking for PDE" >&5
echo $ECHO_N "checking for PDE... $ECHO_C" >&6; }
pde_defined="0"
ac_save_CFLAGS="$CFLAGS"
ac_save_CC="$CC"
CFLAGS="$KERNEL_CHECK_CFLAGS"
CC=$KCC
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#define __KERNEL__
#ifdef CONFIG_HAVE_DEPRECATED_CONFIG_H
#include <linux/autoconf.h>
#else
#include <linux/config.h>
#endif
#include <linux/fs.h>
#include <linux/proc_fs.h>

int
main ()
{

	struct proc_dir_entry * (*func)();
	func = PDE;

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };pde_defined="1"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };pde_defined="0"
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
CFLAGS=$ac_save_CFLAGS
CC=$ac_save_CC
CONFIG_HAVE_PDE=$pde_defined
if test "$CONFIG_HAVE_PDE" = "1"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_HAVE_PDE 1
_ACEOF

fi

{ echo "$as_me:$LINENO: checking for pci_set_consistent_dma_mask" >&5
echo $ECHO_N "checking for pci_set_consistent_dma_mask... $ECHO_C" >&6; }
pci_consistent_defined="0"
ac_save_CFLAGS="$CFLAGS"
ac_save_CC="$CC"
CFLAGS="$KERNEL_CHECK_CFLAGS"
CC=$KCC
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#define __KERNEL__
#ifdef CONFIG_HAVE_DEPRECATED_CONFIG_H
#include <linux/autoconf.h>
#else
#include <linux/config.h>
#endif
#include <linux/pci.h>

int
main ()
{

	int (*func)();
	func = pci_set_consistent_dma_mask;

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };pci_consistent_defined="1"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };pci_consistent_defined="0"
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
CFLAGS=$ac_save_CFLAGS
CC=$ac_save_CC
CONFIG_HAVE_PCI_CONSISTENT_DMA_MASK=$pci_consistent_defined
if test "$CONFIG_HAVE_PCI_CONSISTENT_DMA_MASK" = "1"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_HAVE_PCI_CONSISTENT_DMA_MASK 1
_ACEOF

fi

{ echo "$as_me:$LINENO: checking for pci_dev_present" >&5
echo $ECHO_N "checking for pci_dev_present... $ECHO_C" >&6; }
pci_consistent_defined="0"
ac_save_CFLAGS="$CFLAGS"
ac_save_CC="$CC"
CFLAGS="$KERNEL_CHECK_CFLAGS"
CC=$KCC
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#define __KERNEL__
#ifdef CONFIG_HAVE_DEPRECATED_CONFIG_H
#include <linux/autoconf.h>
#else
#include <linux/config.h>
#endif
#include <linux/pci.h>

int
main ()
{

	int (*func)();
	func = pci_dev_present;

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };pci_dev_present_defined="1"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };pci_dev_present_defined="0"
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
CFLAGS=$ac_save_CFLAGS
CC=$ac_save_CC
CONFIG_HAVE_PCI_DEV_PRESENT=$pci_dev_present_defined
if test "$CONFIG_HAVE_PCI_DEV_PRESENT" = "1"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_HAVE_PCI_DEV_PRESENT 1
_ACEOF

fi

{ echo "$as_me:$LINENO: checking for msleep" >&5
echo $ECHO_N "checking for msleep... $ECHO_C" >&6; }
msleep="0"
ac_save_CFLAGS="$CFLAGS"
ac_save_CC="$CC"
CFLAGS="$KERNEL_CHECK_CFLAGS"
CC=$KCC
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#define __KERNEL__
#ifdef CONFIG_HAVE_DEPRECATED_CONFIG_H
#include <linux/autoconf.h>
#else
#include <linux/config.h>
#endif
#include <linux/delay.h>

int
main ()
{

  void (*func)(unsigned int);
  func = msleep;

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };msleep="1"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };msleep="0"
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
CFLAGS=$ac_save_CFLAGS
CC=$ac_save_CC
CONFIG_HAVE_MSLEEP=$msleep
if test "$CONFIG_HAVE_MSLEEP" = "1"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_HAVE_MSLEEP 1
_ACEOF

fi

if test "$CONFIG_HAVE_MSLEEP" = "1"; then
{ echo "$as_me:$LINENO: checking for msleep_interrupt" >&5
echo $ECHO_N "checking for msleep_interrupt... $ECHO_C" >&6; }
msleep_interrupt="0"
ac_save_CFLAGS="$CFLAGS"
ac_save_CC="$CC"
CFLAGS="$KERNEL_CHECK_CFLAGS"
CC=$KCC
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#define __KERNEL__
#ifdef CONFIG_HAVE_DEPRECATED_CONFIG_H
#include <linux/autoconf.h>
#else
#include <linux/config.h>
#endif
#include <linux/delay.h>

int
main ()
{

  unsigned long (*func)(unsigned int);
  func = msleep_interruptible;

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };msleep_interruptible="1"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };msleep_interruptible="0"
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
CFLAGS=$ac_save_CFLAGS
CC=$ac_save_CC
CONFIG_HAVE_MSLEEP_INTERRUPTIBLE=$msleep_interruptible
if test "$CONFIG_HAVE_MSLEEP_INTERRUPTIBLE" = "1"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_HAVE_MSLEEP_INTERRUPTIBLE 1
_ACEOF

fi
fi

{ echo "$as_me:$LINENO: checking for msecs_to_jiffies" >&5
echo $ECHO_N "checking for msecs_to_jiffies... $ECHO_C" >&6; }
msecs_to_jiffies="0"
ac_save_CFLAGS="$CFLAGS"
ac_save_CC="$CC"
CFLAGS="$KERNEL_CHECK_CFLAGS -Iinclude"
CC=$KCC
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#define __KERNEL__
#ifdef CONFIG_HAVE_DEPRECATED_CONFIG_H
#include <linux/autoconf.h>
#else
#include <linux/config.h>
#endif
#include <linux/jiffies.h>
#include <linux/time.h>

int
main ()
{

  unsigned int (*func)(const unsigned long);
  func = msecs_to_jiffies;

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };msecs_to_jiffies="1"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };msecs_to_jiffies="0"
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
CFLAGS=$ac_save_CFLAGS
CC=$ac_save_CC
CONFIG_HAVE_MSECS_TO_JIFFIES=$msecs_to_jiffies
if test "$CONFIG_HAVE_MSECS_TO_JIFFIES" = "1"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_HAVE_MSECS_TO_JIFFIES 1
_ACEOF

fi

{ echo "$as_me:$LINENO: checking for tty->count is the atomic type" >&5
echo $ECHO_N "checking for tty->count is the atomic type... $ECHO_C" >&6; }
tty_count_atomic="0"
ac_save_CFLAGS="$CFLAGS"
ac_save_CC="$CC"
CFLAGS="$KERNEL_CHECK_CFLAGS"
CC=$KCC
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#define __KERNEL__
#ifdef CONFIG_HAVE_DEPRECATED_CONFIG_H
#include <linux/autoconf.h>
#else
#include <linux/config.h>
#endif
#include <linux/tty.h>

int
main ()
{

	struct tty_struct tty;
	atomic_read(&tty.count);

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };tty_count_atomic="1"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };tty_count_atomic="0"
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
CFLAGS=$ac_save_CFLAGS
CC=$ac_save_CC
CONFIG_HAVE_TTY_COUNT_ATOMIC=$tty_count_atomic
if test "$CONFIG_HAVE_TTY_COUNT_ATOMIC" = "1"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_HAVE_TTY_COUNT_ATOMIC 1
_ACEOF

fi

if test "$CONFIG_VIDEO_DEV" = "y"; then
{ echo "$as_me:$LINENO: checking for video_get_drvdata" >&5
echo $ECHO_N "checking for video_get_drvdata... $ECHO_C" >&6; }
video_get_drvdata="0"
ac_save_CFLAGS="$CFLAGS"
ac_save_CC="$CC"
CFLAGS="$KERNEL_CHECK_CFLAGS -Iinclude"
CC=$KCC
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#define __KERNEL__
#ifdef CONFIG_HAVE_DEPRECATED_CONFIG_H
#include <linux/autoconf.h>
#else
#include <linux/config.h>
#endif
#include <linux/videodev.h>
#include "media/v4l2-dev.h"

int
main ()
{

  void *(*func)(struct video_device *);
  func = video_get_drvdata;

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };video_get_drvdata="1"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };video_get_drvdata="0"
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
CFLAGS=$ac_save_CFLAGS
CC=$ac_save_CC
CONFIG_HAVE_VIDEO_GET_DRVDATA=$video_get_drvdata
if test "$CONFIG_HAVE_VIDEO_GET_DRVDATA" = "1"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_HAVE_VIDEO_GET_DRVDATA 1
_ACEOF

fi
fi

if test "$CONFIG_HAVE_VIDEO_GET_DRVDATA" = "1"; then
{ echo "$as_me:$LINENO: checking for video_drvdata" >&5
echo $ECHO_N "checking for video_drvdata... $ECHO_C" >&6; }
video_drvdata="0"
ac_save_CFLAGS="$CFLAGS"
ac_save_CC="$CC"
CFLAGS="$KERNEL_CHECK_CFLAGS -Iinclude"
CC=$KCC
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#define __KERNEL__
#ifdef CONFIG_HAVE_DEPRECATED_CONFIG_H
#include <linux/autoconf.h>
#else
#include <linux/config.h>
#endif
#include <linux/videodev.h>
#include "media/v4l2-dev.h"

int
main ()
{

  void *(*func)(struct file *);
  func = video_drvdata;

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };video_drvdata="1"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };video_drvdata="0"
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
CFLAGS=$ac_save_CFLAGS
CC=$ac_save_CC
CONFIG_HAVE_VIDEO_DRVDATA=$video_drvdata
if test "$CONFIG_HAVE_VIDEO_DRVDATA" = "1"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_HAVE_VIDEO_DRVDATA 1
_ACEOF

fi
fi

if test "$CONFIG_VIDEO_DEV" = "y"; then
if test "$kversion.$kpatchlevel" = "2.6" -a "$ksublevel" -gt 17; then

  boolvar="CONFIG_VIDEO_V4L1"
  boolvar1="CONFIG_VIDEO_V4L1_MODULE"
  { echo "$as_me:$LINENO: checking for V4L1 layer" >&5
echo $ECHO_N "checking for V4L1 layer... $ECHO_C" >&6; }
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS="$CFLAGS $KERNEL_INC $HACK_KERNEL_INC"
  if test -n "$kernelbuild" -a -f "$kernelbuild/include/linux/autoconf.h"; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  boolchk=""
  if test "$cross_compiling" = yes; then
  { echo "$as_me:$LINENO: result: unknown" >&5
echo "${ECHO_T}unknown" >&6; };boolchk=""

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include "$KERNDIR/include/linux/autoconf.h"
int main( void ) {
#if !defined($boolvar) && !defined($boolvar1)
  exit(1);
#else
  exit(0);
#endif
}

_ACEOF
rm -f conftest$ac_exeext
if { (ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };boolchk="y"
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };boolchk=""
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi


  CFLAGS="$ac_save_CFLAGS"
  eval $boolvar="$boolchk"

else
CONFIG_VIDEO_V4L1="y"
fi
fi

if test "$CONFIG_VIDEO_DEV" = "y"; then
if test "$kversion.$kpatchlevel" = "2.6" -a "$ksublevel" -gt 17; then

  boolvar="CONFIG_VIDEO_V4L2"
  boolvar1="CONFIG_VIDEO_V4L2_MODULE"
  { echo "$as_me:$LINENO: checking for V4L2 layer" >&5
echo $ECHO_N "checking for V4L2 layer... $ECHO_C" >&6; }
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS="$CFLAGS $KERNEL_INC $HACK_KERNEL_INC"
  if test -n "$kernelbuild" -a -f "$kernelbuild/include/linux/autoconf.h"; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  boolchk=""
  if test "$cross_compiling" = yes; then
  { echo "$as_me:$LINENO: result: unknown" >&5
echo "${ECHO_T}unknown" >&6; };boolchk=""

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include "$KERNDIR/include/linux/autoconf.h"
int main( void ) {
#if !defined($boolvar) && !defined($boolvar1)
  exit(1);
#else
  exit(0);
#endif
}

_ACEOF
rm -f conftest$ac_exeext
if { (ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };boolchk="y"
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };boolchk=""
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi


  CFLAGS="$ac_save_CFLAGS"
  eval $boolvar="$boolchk"

else
CONFIG_VIDEO_V4L2="y"
fi
fi

{ echo "$as_me:$LINENO: checking for io_remap_pfn_range" >&5
echo $ECHO_N "checking for io_remap_pfn_range... $ECHO_C" >&6; }
io_remap_pfn_range="0"
ac_save_CFLAGS="$CFLAGS"
ac_save_CC="$CC"
CFLAGS="$KERNEL_CHECK_CFLAGS -Werror-implicit-function-declaration"
CC=$KCC
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#define __KERNEL__
#ifdef CONFIG_HAVE_DEPRECATED_CONFIG_H
#include <linux/autoconf.h>
#else
#include <linux/config.h>
#endif
#include <linux/mm.h>

int
main ()
{

  static pgprot_t p;
  io_remap_pfn_range(NULL, 0, 0, 0, p);

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };io_remap_pfn_range="1"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };io_remap_pfn_range="0"
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
CFLAGS=$ac_save_CFLAGS
CC=$ac_save_CC
if test "$io_remap_pfn_range" = "1"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_HAVE_IO_REMAP_PFN_RANGE 1
_ACEOF

fi

if test "$io_remap_pfn_range" != "1"; then
{ echo "$as_me:$LINENO: checking for new io_remap_page_range" >&5
echo $ECHO_N "checking for new io_remap_page_range... $ECHO_C" >&6; }
new_io_remap="0"
ac_save_CFLAGS="$CFLAGS"
ac_save_CC="$CC"
CFLAGS="$KERNEL_CHECK_CFLAGS -Werror-implicit-function-declaration"
CC=$KCC
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#define __KERNEL__
#ifdef CONFIG_HAVE_DEPRECATED_CONFIG_H
#include <linux/autoconf.h>
#else
#include <linux/config.h>
#endif
#include <linux/mm.h>

int
main ()
{

  static pgprot_t p;
  io_remap_page_range(NULL, 0, 0, 0, p);

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };new_io_remap="1"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };new_io_remap="0"
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
CFLAGS=$ac_save_CFLAGS
CC=$ac_save_CC
if test "$new_io_remap" != "1"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_OLD_IO_REMAP_PAGE_RANGE 1
_ACEOF

fi
fi

{ echo "$as_me:$LINENO: checking for kcalloc" >&5
echo $ECHO_N "checking for kcalloc... $ECHO_C" >&6; }
kcalloc="0"
ac_save_CFLAGS="$CFLAGS"
ac_save_CC="$CC"
CFLAGS="$KERNEL_CHECK_CFLAGS"
CC=$KCC
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#define __KERNEL__
#ifdef CONFIG_HAVE_DEPRECATED_CONFIG_H
#include <linux/autoconf.h>
#else
#include <linux/config.h>
#endif
#include <linux/slab.h>

int
main ()
{

  void * (*func)(size_t, size_t, int);
  func = kcalloc;

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };kcalloc="1"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };kcalloc="0"
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
CFLAGS=$ac_save_CFLAGS
CC=$ac_save_CC
CONFIG_HAVE_KCALLOC=$kcalloc
if test "$CONFIG_HAVE_KCALLOC" = "1"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_HAVE_KCALLOC 1
_ACEOF

fi

{ echo "$as_me:$LINENO: checking for kstrdup" >&5
echo $ECHO_N "checking for kstrdup... $ECHO_C" >&6; }
kstrdup="0"
ac_save_CFLAGS="$CFLAGS"
ac_save_CC="$CC"
CFLAGS="$KERNEL_CHECK_CFLAGS"
CC=$KCC
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#define __KERNEL__
#ifdef CONFIG_HAVE_DEPRECATED_CONFIG_H
#include <linux/autoconf.h>
#else
#include <linux/config.h>
#endif
#include <linux/string.h>

int
main ()
{

  char * (*func)(const char *, int);
  func = kstrdup;

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };kstrdup="1"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };kstrdup="0"
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
CFLAGS=$ac_save_CFLAGS
CC=$ac_save_CC
CONFIG_HAVE_KSTRDUP=$kstrdup
if test "$CONFIG_HAVE_KSTRDUP" = "1"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_HAVE_KSTRDUP 1
_ACEOF

fi

{ echo "$as_me:$LINENO: checking for kstrndup" >&5
echo $ECHO_N "checking for kstrndup... $ECHO_C" >&6; }
kstrdup="0"
ac_save_CFLAGS="$CFLAGS"
ac_save_CC="$CC"
CFLAGS="$KERNEL_CHECK_CFLAGS"
CC=$KCC
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#define __KERNEL__
#include <linux/config.h>
#include <linux/string.h>

int
main ()
{

  char * (*func)(const char *, int);
  func = kstrndup;

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };kstrndup="1"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };kstrndup="0"
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
CFLAGS=$ac_save_CFLAGS
CC=$ac_save_CC
CONFIG_HAVE_KSTRNDUP=$kstrndup
if test "$CONFIG_HAVE_KSTRNDUP" = "1"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_HAVE_KSTRNDUP 1
_ACEOF

fi

{ echo "$as_me:$LINENO: checking for kzalloc" >&5
echo $ECHO_N "checking for kzalloc... $ECHO_C" >&6; }
kzalloc="0"
ac_save_CFLAGS="$CFLAGS"
ac_save_CC="$CC"
CFLAGS="$KERNEL_CHECK_CFLAGS"
CC=$KCC
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#define __KERNEL__
#ifdef CONFIG_HAVE_DEPRECATED_CONFIG_H
#include <linux/autoconf.h>
#else
#include <linux/config.h>
#endif
#include <linux/slab.h>

int
main ()
{

  void * (*func)(size_t, int);
  func = kzalloc;

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };kzalloc="1"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };kzalloc="0"
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
CFLAGS=$ac_save_CFLAGS
CC=$ac_save_CC
CONFIG_HAVE_KZALLOC=$kzalloc
if test "$CONFIG_HAVE_KZALLOC" = "1"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_HAVE_KZALLOC 1
_ACEOF

fi

if test "$kversion.$kpatchlevel" = "2.6"; then
{ echo "$as_me:$LINENO: checking for create_workqueue with flags" >&5
echo $ECHO_N "checking for create_workqueue with flags... $ECHO_C" >&6; }
workqueue2="0"
ac_save_CFLAGS="$CFLAGS"
ac_save_CC="$CC"
CFLAGS="$KERNEL_CHECK_CFLAGS"
CC=$KCC
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#define __KERNEL__
#ifdef CONFIG_HAVE_DEPRECATED_CONFIG_H
#include <linux/autoconf.h>
#else
#include <linux/config.h>
#endif
#include <linux/workqueue.h>

int
main ()
{

    create_workqueue("abcd", 0);

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };workqueue2="1"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };workqueue2="0"
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
CFLAGS=$ac_save_CFLAGS
CC=$ac_save_CC
CONFIG_CREATE_WORKQUEUE_FLAGS=$workqueue2
if test "$CONFIG_CREATE_WORKQUEUE_FLAGS" = "1"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_CREATE_WORKQUEUE_FLAGS 1
_ACEOF

fi
fi

{ echo "$as_me:$LINENO: checking for pci_ioremap_bar" >&5
echo $ECHO_N "checking for pci_ioremap_bar... $ECHO_C" >&6; }
pci_ioremap_bar="0"
ac_save_CFLAGS="$CFLAGS"
ac_save_CC="$CC"
CFLAGS="$KERNEL_CHECK_CFLAGS"
CC=$KCC
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#define __KERNEL__
#ifdef CONFIG_HAVE_DEPRECATED_CONFIG_H
#include <linux/autoconf.h>
#else
#include <linux/config.h>
#endif
#include <linux/pci.h>

int
main ()
{

  void (*func)(struct pci_dev *, int);
  func = pci_ioremap_bar;

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };pci_ioremap_bar="1"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };pci_ioremap_bar="0"
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
CFLAGS=$ac_save_CFLAGS
CC=$ac_save_CC
CONFIG_HAVE_PCI_IOREMAP_BAR=$pci_ioremap_bar
if test "$CONFIG_HAVE_PCI_IOREMAP_BAR" = "1"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_HAVE_PCI_IOREMAP_BAR 1
_ACEOF

fi

{ echo "$as_me:$LINENO: checking for saved_config_space in pci_dev" >&5
echo $ECHO_N "checking for saved_config_space in pci_dev... $ECHO_C" >&6; }
pci_saved_config="0"
ac_save_CFLAGS="$CFLAGS"
ac_save_CC="$CC"
CFLAGS="$KERNEL_CHECK_CFLAGS"
CC=$KCC
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#define __KERNEL__
#ifdef CONFIG_HAVE_DEPRECATED_CONFIG_H
#include <linux/autoconf.h>
#else
#include <linux/config.h>
#endif
#include <linux/pci.h>

int
main ()
{

  struct pci_dev dev;
  dev.saved_config_space[0] = 0;

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };pci_saved_config="1"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };pci_saved_config="0"
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
CFLAGS=$ac_save_CFLAGS
CC=$ac_save_CC
CONFIG_HAVE_PCI_SAVED_CONFIG=$pci_saved_config
if test "$CONFIG_HAVE_PCI_SAVED_CONFIG" = "1"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_HAVE_PCI_SAVED_CONFIG 1
_ACEOF

fi

if test "$CONFIG_HAVE_PCI_SAVED_CONFIG" = "1"; then
{ echo "$as_me:$LINENO: checking for new pci_save_state" >&5
echo $ECHO_N "checking for new pci_save_state... $ECHO_C" >&6; }
new_pci_save_state="0"
ac_save_CFLAGS="$CFLAGS"
ac_save_CC="$CC"
CFLAGS="$KERNEL_CHECK_CFLAGS"
CC=$KCC
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#define __KERNEL__
#ifdef CONFIG_HAVE_DEPRECATED_CONFIG_H
#include <linux/autoconf.h>
#else
#include <linux/config.h>
#endif
#include <linux/pci.h>

int
main ()
{

  struct pci_dev *pci;
  pci_save_state(pci);

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };new_pci_save_state="1"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };new_pci_save_state="0"
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
CFLAGS=$ac_save_CFLAGS
CC=$ac_save_CC
if test "$new_pci_save_state" = "1"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_HAVE_NEW_PCI_SAVE_STATE 1
_ACEOF

fi
fi

{ echo "$as_me:$LINENO: checking for register_sound_special_device" >&5
echo $ECHO_N "checking for register_sound_special_device... $ECHO_C" >&6; }
msleep="0"
ac_save_CFLAGS="$CFLAGS"
ac_save_CC="$CC"
CFLAGS="$KERNEL_CHECK_CFLAGS"
CC=$KCC
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#define __KERNEL__
#ifdef CONFIG_HAVE_DEPRECATED_CONFIG_H
#include <linux/autoconf.h>
#else
#include <linux/config.h>
#endif
#include <linux/sound.h>

int
main ()
{

  void (*func)(struct file_operations *, int, struct device *);
  func = register_sound_special_device;

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };reg_sp="1"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };reg_sp="0"
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
CFLAGS=$ac_save_CFLAGS
CC=$ac_save_CC
CONFIG_HAVE_REGISTER_SOUND_SPECIAL_DEVICE=$reg_sp
if test "$CONFIG_HAVE_REGISTER_SOUND_SPECIAL_DEVICE" = "1"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_HAVE_REGISTER_SOUND_SPECIAL_DEVICE 1
_ACEOF

fi

if test $kpatchlevel -le 2; then

{ echo "$as_me:$LINENO: checking for old kill_fasync" >&5
echo $ECHO_N "checking for old kill_fasync... $ECHO_C" >&6; }
oldkfasync="0"
ac_save_CFLAGS="$CFLAGS"
ac_save_CC="$CC"
CFLAGS="$CFLAGS $KERNEL_INC $HACK_KERNEL_INC"
CC=$KCC
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#define __KERNEL__
#ifdef CONFIG_HAVE_DEPRECATED_CONFIG_H
#include <linux/autoconf.h>
#else
#include <linux/config.h>
#endif
#ifdef __alpha__ /* it's required (at least for 2.2.18) */
#include <asm/current.h>
#endif
#include <linux/fs.h>

int
main ()
{

 struct fasync_struct *fa;
 int sig;
 kill_fasync(fa, sig);

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };oldkfasync="1"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };oldkfasync="0"
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
CFLAGS=$ac_save_CFLAGS
CC=$ac_save_CC
CONFIG_OLD_KILL_FASYNC=$oldkfasync
if test "$CONFIG_OLD_KILL_FASYNC" = "1"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_OLD_KILL_FASYNC 1
_ACEOF

fi

{ echo "$as_me:$LINENO: checking for dma_addr_t" >&5
echo $ECHO_N "checking for dma_addr_t... $ECHO_C" >&6; }
dma_addr_t="0"
ac_save_CFLAGS="$CFLAGS"
ac_save_CC="$CC"
CFLAGS="$CFLAGS $KERNEL_INC $HACK_KERNEL_INC"
CC=$KCC
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#define __KERNEL__
#ifdef CONFIG_HAVE_DEPRECATED_CONFIG_H
#include <linux/autoconf.h>
#else
#include <linux/config.h>
#endif
#include <asm/types.h>

int
main ()
{

 dma_addr_t addr;

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };dma_addr_t="1"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };dma_addr_t="0"
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
CFLAGS=$ac_save_CFLAGS
CC=$ac_save_CC
CONFIG_HAVE_DMA_ADDR_T=$dma_addr_t
if test "$CONFIG_HAVE_DMA_ADDR_T" = "1"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_HAVE_DMA_ADDR_T 1
_ACEOF

fi

{ echo "$as_me:$LINENO: checking for MUTEX macros" >&5
echo $ECHO_N "checking for MUTEX macros... $ECHO_C" >&6; }
have_mutex_macros="0"
ac_save_CFLAGS="$CFLAGS"
ac_save_CC="$CC"
CFLAGS="$CFLAGS $KERNEL_INC $HACK_KERNEL_INC"
CC=$KCC
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#define __KERNEL__
#ifdef CONFIG_HAVE_DEPRECATED_CONFIG_H
#include <linux/autoconf.h>
#else
#include <linux/config.h>
#endif
#include <asm/semaphore.h>

int
main ()
{

#ifndef init_MUTEX
#error not defined
#endif
exit(0);

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };have_mutex_macros="1"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };have_mutex_macros="0"
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
CFLAGS=$ac_save_CFLAGS
CC=$ac_save_CC
CONFIG_HAVE_MUTEX_MACROS=$have_mutex_macros
if test "$CONFIG_HAVE_MUTEX_MACROS" = "1"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_HAVE_MUTEX_MACROS 1
_ACEOF

fi

fi

if test "$CONFIG_ISAPNP_KERNEL" = "y"; then
  if test -f include/linux/isapnp.h; then
    echo "Removing local linux/isapnp.h."
    rm include/linux/isapnp.h
  fi
else
  if test ! -f include/linux/isapnp.h; then
    echo "Symlinking <linux/isapnp.h>..."
    mkdir -p include/linux
    ln -sf ../../support/isapnp/isapnp.h include/linux/isapnp.h
  fi
fi

if test "$CONFIG_PNP_KERNEL" = "y"; then
  if test -f include/linux/pnp.h; then
    echo "Removing local linux/pnp.h."
    rm include/linux/pnp.h
  fi
else
  if test ! -f include/linux/pnp.h; then
    echo "Symlinking <linux/pnp.h>..."
    mkdir -p include/linux
    ln -sf ../../support/pnp/pnp.h include/linux/pnp.h
  fi
fi

{ echo "$as_me:$LINENO: checking for driver extra-version" >&5
echo $ECHO_N "checking for driver extra-version... $ECHO_C" >&6; }

# Check whether --with-extra-version was given.
if test "${with_extra_version+set}" = set; then
  withval=$with_extra_version; extra_version="$withval"
else
  extra_version=""
fi

{ echo "$as_me:$LINENO: result: $extra_version" >&5
echo "${ECHO_T}$extra_version" >&6; }
if test -n "$extra_version"; then
  CONFIG_SND_VERSION="$CONFIG_SND_VERSION"-"$extra_version"
fi
{ echo "$as_me:$LINENO: checking for driver version" >&5
echo $ECHO_N "checking for driver version... $ECHO_C" >&6; }
cat >>confdefs.h <<_ACEOF
#define CONFIG_SND_VERSION "$CONFIG_SND_VERSION"
_ACEOF


CONFIG_SND_DATE=""
cat >>confdefs.h <<_ACEOF
#define CONFIG_SND_DATE "$CONFIG_SND_DATE"
_ACEOF


{ echo "$as_me:$LINENO: result: $CONFIG_SND_VERSION" >&5
echo "${ECHO_T}$CONFIG_SND_VERSION" >&6; }

{ echo "$as_me:$LINENO: checking for dynamic minor numbers" >&5
echo $ECHO_N "checking for dynamic minor numbers... $ECHO_C" >&6; }
# Check whether --enable-dynamic-minors was given.
if test "${enable_dynamic_minors+set}" = set; then
  enableval=$enable_dynamic_minors; dynamic_minors="$enableval"
else
  dynamic_minors="no"
fi

if test "$dynamic_minors" = "yes"; then
  CONFIG_SND_DYNAMIC_MINORS=y
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_DYNAMIC_MINORS 1
_ACEOF

  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
else
  { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
fi

{ echo "$as_me:$LINENO: checking for sequencer support" >&5
echo $ECHO_N "checking for sequencer support... $ECHO_C" >&6; }

# Check whether --with-sequencer was given.
if test "${with_sequencer+set}" = set; then
  withval=$with_sequencer; sequencer="$withval"
else
  sequencer="yes"
fi

if test "$sequencer" = "yes"; then
  CONFIG_SND_SEQUENCER="m"
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
else
  { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
fi

{ echo "$as_me:$LINENO: checking for OSS/Free emulation" >&5
echo $ECHO_N "checking for OSS/Free emulation... $ECHO_C" >&6; }

# Check whether --with-oss was given.
if test "${with_oss+set}" = set; then
  withval=$with_oss; ossemul="$withval"
else
  ossemul="yes"
fi

if test "$ossemul" = "yes"; then
  CONFIG_SND_OSSEMUL="y"
  CONFIG_SND_MIXER_OSS="m"
  CONFIG_SND_PCM_OSS="m"
  CONFIG_SND_PCM="m"
  CONFIG_SND_TIMER="m"
  if test "$CONFIG_SND_SEQUENCER" = "m"; then
    CONFIG_SND_SEQUENCER_OSS="y"
  fi
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
else
  { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
fi

if test "$CONFIG_SND_OSSEMUL" = "y"; then

{ echo "$as_me:$LINENO: checking for OSS PCM plugin system inclusion" >&5
echo $ECHO_N "checking for OSS PCM plugin system inclusion... $ECHO_C" >&6; }

# Check whether --with-pcm-oss-plugins was given.
if test "${with_pcm_oss_plugins+set}" = set; then
  withval=$with_pcm_oss_plugins; ossemulplugins="$withval"
else
  ossemulplugins="yes"
fi

if test "$ossemulplugins" = "yes"; then
  CONFIG_SND_PCM_OSS_PLUGINS="y"
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; }
else
  { echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; }
fi

fi


  boolvar="CONFIG_RTC"
  boolvar1="CONFIG_RTC_MODULE"
  { echo "$as_me:$LINENO: checking for RTC support" >&5
echo $ECHO_N "checking for RTC support... $ECHO_C" >&6; }
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS="$CFLAGS $KERNEL_INC $HACK_KERNEL_INC"
  if test -n "$kernelbuild" -a -f "$kernelbuild/include/linux/autoconf.h"; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  boolchk=""
  if test "$cross_compiling" = yes; then
  { echo "$as_me:$LINENO: result: unknown" >&5
echo "${ECHO_T}unknown" >&6; };boolchk=""

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include "$KERNDIR/include/linux/autoconf.h"
int main( void ) {
#if !defined($boolvar) && !defined($boolvar1)
  exit(1);
#else
  exit(0);
#endif
}

_ACEOF
rm -f conftest$ac_exeext
if { (ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };boolchk="y"
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };boolchk=""
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi


  CFLAGS="$ac_save_CFLAGS"
  eval $boolvar="$boolchk"




  boolvar="CONFIG_HPET"
  boolvar1="CONFIG_HPET_MODULE"
  { echo "$as_me:$LINENO: checking for HPET support" >&5
echo $ECHO_N "checking for HPET support... $ECHO_C" >&6; }
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS="$CFLAGS $KERNEL_INC $HACK_KERNEL_INC"
  if test -n "$kernelbuild" -a -f "$kernelbuild/include/linux/autoconf.h"; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  boolchk=""
  if test "$cross_compiling" = yes; then
  { echo "$as_me:$LINENO: result: unknown" >&5
echo "${ECHO_T}unknown" >&6; };boolchk=""

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include "$KERNDIR/include/linux/autoconf.h"
int main( void ) {
#if !defined($boolvar) && !defined($boolvar1)
  exit(1);
#else
  exit(0);
#endif
}

_ACEOF
rm -f conftest$ac_exeext
if { (ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };boolchk="y"
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };boolchk=""
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi


  CFLAGS="$ac_save_CFLAGS"
  eval $boolvar="$boolchk"




  boolvar="CONFIG_PROC_FS"
  boolvar1="CONFIG_PROC_FS_MODULE"
  { echo "$as_me:$LINENO: checking for Procfs support" >&5
echo $ECHO_N "checking for Procfs support... $ECHO_C" >&6; }
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS="$CFLAGS $KERNEL_INC $HACK_KERNEL_INC"
  if test -n "$kernelbuild" -a -f "$kernelbuild/include/linux/autoconf.h"; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  boolchk=""
  if test "$cross_compiling" = yes; then
  { echo "$as_me:$LINENO: result: unknown" >&5
echo "${ECHO_T}unknown" >&6; };boolchk=""

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include "$KERNDIR/include/linux/autoconf.h"
int main( void ) {
#if !defined($boolvar) && !defined($boolvar1)
  exit(1);
#else
  exit(0);
#endif
}

_ACEOF
rm -f conftest$ac_exeext
if { (ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };boolchk="y"
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };boolchk=""
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi


  CFLAGS="$ac_save_CFLAGS"
  eval $boolvar="$boolchk"




  boolvar="CONFIG_USB"
  boolvar1="CONFIG_USB_MODULE"
  { echo "$as_me:$LINENO: checking for USB support" >&5
echo $ECHO_N "checking for USB support... $ECHO_C" >&6; }
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS="$CFLAGS $KERNEL_INC $HACK_KERNEL_INC"
  if test -n "$kernelbuild" -a -f "$kernelbuild/include/linux/autoconf.h"; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  boolchk=""
  if test "$cross_compiling" = yes; then
  { echo "$as_me:$LINENO: result: unknown" >&5
echo "${ECHO_T}unknown" >&6; };boolchk=""

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include "$KERNDIR/include/linux/autoconf.h"
int main( void ) {
#if !defined($boolvar) && !defined($boolvar1)
  exit(1);
#else
  exit(0);
#endif
}

_ACEOF
rm -f conftest$ac_exeext
if { (ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };boolchk="y"
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };boolchk=""
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi


  CFLAGS="$ac_save_CFLAGS"
  eval $boolvar="$boolchk"

if test "$CONFIG_USB" != "y"; then

  boolvar="CONFIG_USB_MODULE"
  boolvar1="CONFIG_USB_MODULE_MODULE"
  { echo "$as_me:$LINENO: checking for USB module support" >&5
echo $ECHO_N "checking for USB module support... $ECHO_C" >&6; }
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS="$CFLAGS $KERNEL_INC $HACK_KERNEL_INC"
  if test -n "$kernelbuild" -a -f "$kernelbuild/include/linux/autoconf.h"; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  boolchk=""
  if test "$cross_compiling" = yes; then
  { echo "$as_me:$LINENO: result: unknown" >&5
echo "${ECHO_T}unknown" >&6; };boolchk=""

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include "$KERNDIR/include/linux/autoconf.h"
int main( void ) {
#if !defined($boolvar) && !defined($boolvar1)
  exit(1);
#else
  exit(0);
#endif
}

_ACEOF
rm -f conftest$ac_exeext
if { (ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };boolchk="y"
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };boolchk=""
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi


  CFLAGS="$ac_save_CFLAGS"
  eval $boolvar="$boolchk"

  CONFIG_USB=$CONFIG_USB_MODULE
fi


if test "$kversion.$kpatchlevel" = "2.6"; then
  { echo "$as_me:$LINENO: checking for class_simple" >&5
echo $ECHO_N "checking for class_simple... $ECHO_C" >&6; }
  class_simple="0"
  ac_save_CFLAGS="$CFLAGS"
  ac_save_CC="$CC"
  CFLAGS="$KERNEL_CHECK_CFLAGS"
  CC=$KCC
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#define __KERNEL__
#ifdef CONFIG_HAVE_DEPRECATED_CONFIG_H
#include <linux/autoconf.h>
#else
#include <linux/config.h>
#endif
#include <linux/device.h>

int
main ()
{

  struct class_simple *(*foo)(struct module *, char *) = class_simple_create;
  foo(NULL,NULL);

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };class_simple="1"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };class_simple="0"
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  CFLAGS=$ac_save_CFLAGS
  CC=$ac_save_CC
  CONFIG_SND_HAVE_CLASS_SIMPLE=$class_simple
    if test "$CONFIG_SND_HAVE_CLASS_SIMPLE" = "1"; then
    cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_HAVE_CLASS_SIMPLE 1
_ACEOF

  fi
fi

if test "$kversion.$kpatchlevel" = "2.6"; then
  { echo "$as_me:$LINENO: checking for old driver suspend/resume callbacks" >&5
echo $ECHO_N "checking for old driver suspend/resume callbacks... $ECHO_C" >&6; }
  old_driver_suspend="0"
  ac_save_CFLAGS="$CFLAGS"
  ac_save_CC="$CC"
  CFLAGS="$KERNEL_CHECK_CFLAGS"
  CC=$KCC
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#define __KERNEL__
#ifdef CONFIG_HAVE_DEPRECATED_CONFIG_H
#include <linux/autoconf.h>
#else
#include <linux/config.h>
#endif
#include <linux/device.h>

int
main ()
{

  static struct device_driver driver;
  driver.resume(NULL, 0);

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };old_driver_suspend="1"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };old_driver_suspend="0"
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  CFLAGS=$ac_save_CFLAGS
  CC=$ac_save_CC
  CONFIG_SND_OLD_DRIVER_SUSPEND=$old_driver_suspend
    if test "$CONFIG_SND_OLD_DRIVER_SUSPEND" = "1"; then
    cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_OLD_DRIVER_SUSPEND 1
_ACEOF

  fi
fi

if test "$kversion.$kpatchlevel" = "2.6"; then
  { echo "$as_me:$LINENO: checking for removal of page-reservation for nopage/mmap" >&5
echo $ECHO_N "checking for removal of page-reservation for nopage/mmap... $ECHO_C" >&6; }
  remove_page_reserve="0"
  ac_save_CFLAGS="$CFLAGS"
  ac_save_CC="$CC"
  CFLAGS="$KERNEL_CHECK_CFLAGS"
  CC=$KCC
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#define __KERNEL__
#ifdef CONFIG_HAVE_DEPRECATED_CONFIG_H
#include <linux/autoconf.h>
#else
#include <linux/config.h>
#endif
#include <linux/mm.h>

int
main ()
{

  void (*func)(struct vm_area_struct *, pte_t, unsigned long) = print_bad_pte;

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };remove_page_reserve="1"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };remove_page_reserve="0"
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  CFLAGS=$ac_save_CFLAGS
  CC=$ac_save_CC
  CONFIG_SND_REMOVE_PAGE_RESERVE=$remove_page_reserve
    if test "$CONFIG_SND_REMOVE_PAGE_RESERVE" = "1"; then
    cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_REMOVE_PAGE_RESERVE 1
_ACEOF

  fi
fi

if test "$kversion.$kpatchlevel" = "2.6"; then
  { echo "$as_me:$LINENO: checking for nested class_device" >&5
echo $ECHO_N "checking for nested class_device... $ECHO_C" >&6; }
  nested_class_device="0"
  ac_save_CFLAGS="$CFLAGS"
  ac_save_CC="$CC"
  CFLAGS="$KERNEL_CHECK_CFLAGS"
  CC=$KCC
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#define __KERNEL__
#ifdef CONFIG_HAVE_DEPRECATED_CONFIG_H
#include <linux/autoconf.h>
#else
#include <linux/config.h>
#endif
#include <linux/device.h>

int
main ()
{

  struct class_device dev;
  dev.parent = 0;

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };nested_class_device="1"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };nested_class_device="0"
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  CFLAGS=$ac_save_CFLAGS
  CC=$ac_save_CC
  CONFIG_SND_NESTED_CLASS_DEVICE=$nested_class_device
    if test "$CONFIG_SND_NESTED_CLASS_DEVICE" = "1"; then
    cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_NESTED_CLASS_DEVICE 1
_ACEOF

  fi
fi

if test "$kversion.$kpatchlevel" = "2.6"; then
  { echo "$as_me:$LINENO: checking for new IRQ handler" >&5
echo $ECHO_N "checking for new IRQ handler... $ECHO_C" >&6; }
  new_irq_handler="0"
  ac_save_CFLAGS="$CFLAGS"
  ac_save_CC="$CC"
  CFLAGS="$KERNEL_CHECK_CFLAGS"
  CC=$KCC
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#define __KERNEL__
#ifdef CONFIG_HAVE_DEPRECATED_CONFIG_H
#include <linux/autoconf.h>
#else
#include <linux/config.h>
#endif
#include <linux/interrupt.h>

int
main ()
{

  irq_handler_t handle = 0;
  handle(0, 0);

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };new_irq_handler="1"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };new_irq_handler="0"
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  CFLAGS=$ac_save_CFLAGS
  CC=$ac_save_CC
  CONFIG_SND_NEW_IRQ_HANDLER=$new_irq_handler
    if test "$CONFIG_SND_NEW_IRQ_HANDLER" = "1"; then
    cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_NEW_IRQ_HANDLER 1
_ACEOF

  fi
fi

{ echo "$as_me:$LINENO: checking for gfp_t" >&5
echo $ECHO_N "checking for gfp_t... $ECHO_C" >&6; }
gfp_t="0"
ac_save_CFLAGS="$CFLAGS"
ac_save_CC="$CC"
CFLAGS="$KERNEL_CHECK_CFLAGS"
CC=$KCC
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#define __KERNEL__
#ifdef CONFIG_HAVE_DEPRECATED_CONFIG_H
#include <linux/autoconf.h>
#else
#include <linux/config.h>
#endif
#include <linux/types.h>
#include <linux/gfp.h>

int
main ()
{

  gfp_t flags = 0;

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };gfp_t="1"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };gfp_t="0"
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
CFLAGS=$ac_save_CFLAGS
CC=$ac_save_CC
CONFIG_HAVE_GFP_T=$gfp_t
if test "$CONFIG_HAVE_GFP_T" = "1"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_HAVE_GFP_T 1
_ACEOF

fi

{ echo "$as_me:$LINENO: checking for GFP_DMA32" >&5
echo $ECHO_N "checking for GFP_DMA32... $ECHO_C" >&6; }
gfp_dma32="0"
ac_save_CFLAGS="$CFLAGS"
ac_save_CC="$CC"
CFLAGS="$KERNEL_CHECK_CFLAGS"
CC=$KCC
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#define __KERNEL__
#ifdef CONFIG_HAVE_DEPRECATED_CONFIG_H
#include <linux/autoconf.h>
#else
#include <linux/config.h>
#endif
#include <linux/types.h>
#include <linux/gfp.h>

int
main ()
{

   int flags = GFP_DMA32;

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };gfp_dma32="1"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };gfp_dma32="0"
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
CFLAGS=$ac_save_CFLAGS
CC=$ac_save_CC
CONFIG_HAVE_GFP_DMA32=$gfp_dma32
if test "$CONFIG_HAVE_GFP_DMA32" = "1"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_HAVE_GFP_DMA32 1
_ACEOF

fi

{ echo "$as_me:$LINENO: checking for page_to_pfn" >&5
echo $ECHO_N "checking for page_to_pfn... $ECHO_C" >&6; }
page_to_pfn="0"
ac_save_CFLAGS="$CFLAGS"
ac_save_CC="$CC"
CFLAGS="$KERNEL_CHECK_CFLAGS"
CC=$KCC
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#define __KERNEL__
#ifdef CONFIG_HAVE_DEPRECATED_CONFIG_H
#include <linux/autoconf.h>
#else
#include <linux/config.h>
#endif
#include <linux/types.h>
#include <linux/mm.h>

int
main ()
{

   struct page *page = NULL;
   unsigned int a = page_to_pfn(page);
   page = (struct page *)a;

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };page_to_pfn="1"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };page_to_pfn="0"
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
CFLAGS=$ac_save_CFLAGS
CC=$ac_save_CC
CONFIG_HAVE_PAGE_TO_PFN=$page_to_pfn
if test "$CONFIG_HAVE_PAGE_TO_PFN" = "1"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_HAVE_PAGE_TO_PFN 1
_ACEOF

fi

if test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 19; then
  CONFIG_HAVE_INIT_UTSNAME=1
else
{ echo "$as_me:$LINENO: checking for init_utsname" >&5
echo $ECHO_N "checking for init_utsname... $ECHO_C" >&6; }
  init_utsname="0"
  ac_save_CFLAGS="$CFLAGS"
  ac_save_CC="$CC"
  CFLAGS="$KERNEL_CHECK_CFLAGS -Werror"
  if test "$CONFIG_HAVE_DEPRECATED_CONFIG_H" = "1"; then
    CFLAGS="$CFLAGS -DCONFIG_HAVE_DEPRECATED_CONFIG_H=1"
  fi
  CC=$KCC
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#define __KERNEL__
#ifdef CONFIG_HAVE_DEPRECATED_CONFIG_H
#include <linux/autoconf.h>
#else
#include <linux/config.h>
#endif
#include <linux/utsname.h>

int
main ()
{

  int *x = (int *)init_utsname();
  *x = 0;

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };init_utsname="1"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };init_utsname="0"
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  CFLAGS=$ac_save_CFLAGS
  CC=$ac_save_CC
  CONFIG_HAVE_INIT_UTSNAME=$init_utsname
fi
if test "$CONFIG_HAVE_INIT_UTSNAME" = "1"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_HAVE_INIT_UTSNAME 1
_ACEOF

fi

if test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 21; then
  CONFIG_HAVE_IS_POWER_OF_2=1
else
{ echo "$as_me:$LINENO: checking for is_power_of_2" >&5
echo $ECHO_N "checking for is_power_of_2... $ECHO_C" >&6; }
  is_power_of_2="0"
  ac_save_CFLAGS="$CFLAGS"
  ac_save_CC="$CC"
  CFLAGS="$KERNEL_CHECK_CFLAGS -Werror"
  CC=$KCC
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#define __KERNEL__
#ifdef CONFIG_HAVE_DEPRECATED_CONFIG_H
#include <linux/autoconf.h>
#else
#include <linux/config.h>
#endif
#include <linux/log2.h>

int
main ()
{

  int a = is_power_of_2(2);
  a = 2;

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };is_power_of_2="1"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };is_power_of_2="0"
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  CFLAGS=$ac_save_CFLAGS
  CC=$ac_save_CC
  CONFIG_HAVE_IS_POWER_OF_2=$is_power_of_2
fi
if test "$CONFIG_HAVE_IS_POWER_OF_2" = "1"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_HAVE_IS_POWER_OF_2 1
_ACEOF

fi

if test "$kversion.$kpatchlevel" = "2.6"; then
  CONFIG_HAVE_FFS=1
else
  { echo "$as_me:$LINENO: checking for __ffs" >&5
echo $ECHO_N "checking for __ffs... $ECHO_C" >&6; }
  have_ffs="0"
  ac_save_CFLAGS="$CFLAGS"
  ac_save_CC="$CC"
  CFLAGS="$KERNEL_CHECK_CFLAGS"
  CC=$KCC
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#define __KERNEL__
#ifdef CONFIG_HAVE_DEPRECATED_CONFIG_H
#include <linux/autoconf.h>
#else
#include <linux/config.h>
#endif
#include <linux/bitops.h>

int
main ()
{

  unsigned long (*x)(unsigned long);
  x = __ffs;

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };have_ffs="1"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };have_ffs="0"
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  CFLAGS=$ac_save_CFLAGS
  CC=$ac_save_CC
  CONFIG_HAVE_FFS=$have_ffs
fi
if test "$CONFIG_HAVE_FFS" = "1"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_HAVE_FFS 1
_ACEOF

fi

if test "$CONFIG_PNP_KERNEL" = "y"; then
  { echo "$as_me:$LINENO: checking for PnP suspend/resume" >&5
echo $ECHO_N "checking for PnP suspend/resume... $ECHO_C" >&6; }
  pnp_suspend="0"
  ac_save_CFLAGS="$CFLAGS"
  ac_save_CC="$CC"
  CFLAGS="$KERNEL_CHECK_CFLAGS"
  CC=$KCC
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#define __KERNEL__
#ifdef CONFIG_HAVE_DEPRECATED_CONFIG_H
#include <linux/autoconf.h>
#else
#include <linux/config.h>
#endif
#include <linux/pnp.h>

int
main ()
{

  struct pnp_driver pnp;
  pnp.suspend = 0;

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };pnp_suspend="1"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };pnp_suspend="0"
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  CFLAGS=$ac_save_CFLAGS
  CC=$ac_save_CC
  CONFIG_HAVE_PNP_SUSPEND=$pnp_suspend
    if test "$CONFIG_HAVE_PNP_SUSPEND" = "1"; then
    cat >>confdefs.h <<\_ACEOF
#define CONFIG_HAVE_PNP_SUSPEND 1
_ACEOF

  fi
fi

if test "$kversion.$kpatchlevel" = "2.6"; then
  { echo "$as_me:$LINENO: checking for device_create_drvdata" >&5
echo $ECHO_N "checking for device_create_drvdata... $ECHO_C" >&6; }
  device_create_drvdata="0"
  ac_save_CFLAGS="$CFLAGS"
  ac_save_CC="$CC"
  CFLAGS="$KERNEL_CHECK_CFLAGS"
  CC=$KCC
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#define __KERNEL__
#ifdef CONFIG_HAVE_DEPRECATED_CONFIG_H
#include <linux/autoconf.h>
#else
#include <linux/config.h>
#endif
#include <linux/device.h>

int
main ()
{

  struct device *(*foo)() = device_create_drvdata;

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };device_create_drvdata="1"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };device_create_drvdata="0"
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  CFLAGS=$ac_save_CFLAGS
  CC=$ac_save_CC
  CONFIG_SND_HAS_DEVICE_CREATE_DRVDATA=$device_create_drvdata
  if test "$CONFIG_SND_HAS_DEVICE_CREATE_DRVDATA" = "1"; then
    cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_HAS_DEVICE_CREATE_DRVDATA 1
_ACEOF

  fi
fi


if test "$kversion.$kpatchlevel" = "2.6"; then
  { echo "$as_me:$LINENO: checking for new unlocked/compat_ioctl" >&5
echo $ECHO_N "checking for new unlocked/compat_ioctl... $ECHO_C" >&6; }
  new_ioctl="0"
  ac_save_CFLAGS="$CFLAGS"
  ac_save_CC="$CC"
  CFLAGS="$KERNEL_CHECK_CFLAGS"
  CC=$KCC
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#define __KERNEL__
#ifdef CONFIG_HAVE_DEPRECATED_CONFIG_H
#include <linux/autoconf.h>
#else
#include <linux/config.h>
#endif
#include <linux/fs.h>

int
main ()
{

  struct file_operations ops;
  ops.unlocked_ioctl = NULL;
  ops.compat_ioctl = NULL;

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };new_ioctl="1"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };new_ioctl="0"
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  CFLAGS=$ac_save_CFLAGS
  CC=$ac_save_CC
  CONFIG_SND_HAVE_NEW_IOCTL=$new_ioctl
    if test "$CONFIG_SND_HAVE_NEW_IOCTL" = "1"; then
    cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_HAVE_NEW_IOCTL 1
_ACEOF

    CONFIG_SND_BIT32_EMUL=
  fi
fi

{ echo "$as_me:$LINENO: checking for builtin _Bool support" >&5
echo $ECHO_N "checking for builtin _Bool support... $ECHO_C" >&6; }
builtin_bool="0"
ac_save_CFLAGS="$CFLAGS"
ac_save_CC="$CC"
CFLAGS="$KERNEL_CHECK_CFLAGS"
CC=$KCC
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

int
main ()
{

  _Bool b;
  b = (_Bool)0;

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };builtin_bool="1"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };builtin_bool="0"
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
CFLAGS=$ac_save_CFLAGS
CC=$ac_save_CC
CONFIG_SND_HAS_BUILTIN_BOOL=$builtin_bool
if test "$CONFIG_SND_HAS_BUILTIN_BOOL" = "1"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_HAS_BUILTIN_BOOL 1
_ACEOF

fi


test "$CONFIG_SND_BIT32_EMUL" = "m" && cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_BIT32_EMUL_MODULE 1
_ACEOF



  boolvar="CONFIG_X86_PC"
  boolvar1="CONFIG_X86_PC_MODULE"
  { echo "$as_me:$LINENO: checking for x86-compatible PC" >&5
echo $ECHO_N "checking for x86-compatible PC... $ECHO_C" >&6; }
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS="$CFLAGS $KERNEL_INC $HACK_KERNEL_INC"
  if test -n "$kernelbuild" -a -f "$kernelbuild/include/linux/autoconf.h"; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  boolchk=""
  if test "$cross_compiling" = yes; then
  { echo "$as_me:$LINENO: result: unknown" >&5
echo "${ECHO_T}unknown" >&6; };boolchk=""

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include "$KERNDIR/include/linux/autoconf.h"
int main( void ) {
#if !defined($boolvar) && !defined($boolvar1)
  exit(1);
#else
  exit(0);
#endif
}

_ACEOF
rm -f conftest$ac_exeext
if { (ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };boolchk="y"
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };boolchk=""
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi


  CFLAGS="$ac_save_CFLAGS"
  eval $boolvar="$boolchk"


if test "$kversion" -ge 2 -a "$kpatchlevel" -ge 6 -a "$ksublevel" -ge 22; then

  boolvar="CONFIG_HIGH_RES_TIMERS"
  boolvar1="CONFIG_HIGH_RES_TIMERS_MODULE"
  { echo "$as_me:$LINENO: checking for High-Res timers" >&5
echo $ECHO_N "checking for High-Res timers... $ECHO_C" >&6; }
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS="$CFLAGS $KERNEL_INC $HACK_KERNEL_INC"
  if test -n "$kernelbuild" -a -f "$kernelbuild/include/linux/autoconf.h"; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  boolchk=""
  if test "$cross_compiling" = yes; then
  { echo "$as_me:$LINENO: result: unknown" >&5
echo "${ECHO_T}unknown" >&6; };boolchk=""

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include "$KERNDIR/include/linux/autoconf.h"
int main( void ) {
#if !defined($boolvar) && !defined($boolvar1)
  exit(1);
#else
  exit(0);
#endif
}

_ACEOF
rm -f conftest$ac_exeext
if { (ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };boolchk="y"
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };boolchk=""
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi


  CFLAGS="$ac_save_CFLAGS"
  eval $boolvar="$boolchk"


fi


# Check whether --with-pcmcia was given.
if test "${with_pcmcia+set}" = set; then
  withval=$with_pcmcia; pcmcia="$withval"
else
  pcmcia="kernel"
fi


# Check whether --with-pcmcia_root was given.
if test "${with_pcmcia_root+set}" = set; then
  withval=$with_pcmcia_root; pcmciaroot="$withval"
else
  pcmciaroot=""
fi

EXTRA_INCLUDES=""
if test "$pcmcia" = "kernel"; then
  echo "checking for kernel PCMCIA"

  boolvar="CONFIG_PCMCIA"
  boolvar1="CONFIG_PCMCIA_MODULE"
  { echo "$as_me:$LINENO: checking for PCMCIA support" >&5
echo $ECHO_N "checking for PCMCIA support... $ECHO_C" >&6; }
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS="$CFLAGS $KERNEL_INC $HACK_KERNEL_INC"
  if test -n "$kernelbuild" -a -f "$kernelbuild/include/linux/autoconf.h"; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  boolchk=""
  if test "$cross_compiling" = yes; then
  { echo "$as_me:$LINENO: result: unknown" >&5
echo "${ECHO_T}unknown" >&6; };boolchk=""

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include "$KERNDIR/include/linux/autoconf.h"
int main( void ) {
#if !defined($boolvar) && !defined($boolvar1)
  exit(1);
#else
  exit(0);
#endif
}

_ACEOF
rm -f conftest$ac_exeext
if { (ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };boolchk="y"
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };boolchk=""
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi


  CFLAGS="$ac_save_CFLAGS"
  eval $boolvar="$boolchk"

  if test "$CONFIG_PCMCIA" != "y"; then

  boolvar="CONFIG_PCMCIA_MODULE"
  boolvar1="CONFIG_PCMCIA_MODULE_MODULE"
  { echo "$as_me:$LINENO: checking for PCMCIA module support" >&5
echo $ECHO_N "checking for PCMCIA module support... $ECHO_C" >&6; }
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS="$CFLAGS $KERNEL_INC $HACK_KERNEL_INC"
  if test -n "$kernelbuild" -a -f "$kernelbuild/include/linux/autoconf.h"; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  boolchk=""
  if test "$cross_compiling" = yes; then
  { echo "$as_me:$LINENO: result: unknown" >&5
echo "${ECHO_T}unknown" >&6; };boolchk=""

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include "$KERNDIR/include/linux/autoconf.h"
int main( void ) {
#if !defined($boolvar) && !defined($boolvar1)
  exit(1);
#else
  exit(0);
#endif
}

_ACEOF
rm -f conftest$ac_exeext
if { (ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };boolchk="y"
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };boolchk=""
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi


  CFLAGS="$ac_save_CFLAGS"
  eval $boolvar="$boolchk"

    CONFIG_PCMCIA=$CONFIG_PCMCIA_MODULE
  fi
else
  echo "checking for external PCMCIA"
  if test "$pcmciaroot" = ""; then
    { { echo "$as_me:$LINENO: error: Please set the PCMCIA root directory via --with-pcmcia-root option" >&5
echo "$as_me: error: Please set the PCMCIA root directory via --with-pcmcia-root option" >&2;}
   { (exit 1); exit 1; }; }
  fi
  if test ! -d "$pcmciaroot"; then
    { { echo "$as_me:$LINENO: error: PCMCIA root $pcmciaroot is not a directory" >&5
echo "$as_me: error: PCMCIA root $pcmciaroot is not a directory" >&2;}
   { (exit 1); exit 1; }; }
  fi
  echo "PCMCIA root directory is $pcmciaroot"
  EXTRA_INCLUDES="-I$pcmciaroot/include"
  CONFIG_PCMCIA=y
fi




  boolvar="CONFIG_X86_PC9800"
  boolvar1="CONFIG_X86_PC9800_MODULE"
  { echo "$as_me:$LINENO: checking for PC9800 support in kernel" >&5
echo $ECHO_N "checking for PC9800 support in kernel... $ECHO_C" >&6; }
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS="$CFLAGS $KERNEL_INC $HACK_KERNEL_INC"
  if test -n "$kernelbuild" -a -f "$kernelbuild/include/linux/autoconf.h"; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  boolchk=""
  if test "$cross_compiling" = yes; then
  { echo "$as_me:$LINENO: result: unknown" >&5
echo "${ECHO_T}unknown" >&6; };boolchk=""

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include "$KERNDIR/include/linux/autoconf.h"
int main( void ) {
#if !defined($boolvar) && !defined($boolvar1)
  exit(1);
#else
  exit(0);
#endif
}

_ACEOF
rm -f conftest$ac_exeext
if { (ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };boolchk="y"
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };boolchk=""
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi


  CFLAGS="$ac_save_CFLAGS"
  eval $boolvar="$boolchk"



if test "$kversion.$kpatchlevel" = "2.2"; then
  CONFIG_PARPORT=""
else

  boolvar="CONFIG_PARPORT"
  boolvar1="CONFIG_PARPORT_MODULE"
  { echo "$as_me:$LINENO: checking for parallel port support" >&5
echo $ECHO_N "checking for parallel port support... $ECHO_C" >&6; }
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS="$CFLAGS $KERNEL_INC $HACK_KERNEL_INC"
  if test -n "$kernelbuild" -a -f "$kernelbuild/include/linux/autoconf.h"; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  boolchk=""
  if test "$cross_compiling" = yes; then
  { echo "$as_me:$LINENO: result: unknown" >&5
echo "${ECHO_T}unknown" >&6; };boolchk=""

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include "$KERNDIR/include/linux/autoconf.h"
int main( void ) {
#if !defined($boolvar) && !defined($boolvar1)
  exit(1);
#else
  exit(0);
#endif
}

_ACEOF
rm -f conftest$ac_exeext
if { (ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };boolchk="y"
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };boolchk=""
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi


  CFLAGS="$ac_save_CFLAGS"
  eval $boolvar="$boolchk"

  if test "$CONFIG_PARPORT" != "y"; then

  boolvar="CONFIG_PARPORT_MODULE"
  boolvar1="CONFIG_PARPORT_MODULE_MODULE"
  { echo "$as_me:$LINENO: checking for parallel port module support" >&5
echo $ECHO_N "checking for parallel port module support... $ECHO_C" >&6; }
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS="$CFLAGS $KERNEL_INC $HACK_KERNEL_INC"
  if test -n "$kernelbuild" -a -f "$kernelbuild/include/linux/autoconf.h"; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  boolchk=""
  if test "$cross_compiling" = yes; then
  { echo "$as_me:$LINENO: result: unknown" >&5
echo "${ECHO_T}unknown" >&6; };boolchk=""

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include "$KERNDIR/include/linux/autoconf.h"
int main( void ) {
#if !defined($boolvar) && !defined($boolvar1)
  exit(1);
#else
  exit(0);
#endif
}

_ACEOF
rm -f conftest$ac_exeext
if { (ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };boolchk="y"
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };boolchk=""
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi


  CFLAGS="$ac_save_CFLAGS"
  eval $boolvar="$boolchk"

    CONFIG_PARPORT=$CONFIG_PARPORT_MODULE
  fi
fi


if test "$kversion.$kpatchlevel" = "2.2"; then
  CONFIG_PM="y"
else

  boolvar="CONFIG_PM"
  boolvar1="CONFIG_PM_MODULE"
  { echo "$as_me:$LINENO: checking for power management" >&5
echo $ECHO_N "checking for power management... $ECHO_C" >&6; }
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS="$CFLAGS $KERNEL_INC $HACK_KERNEL_INC"
  if test -n "$kernelbuild" -a -f "$kernelbuild/include/linux/autoconf.h"; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  boolchk=""
  if test "$cross_compiling" = yes; then
  { echo "$as_me:$LINENO: result: unknown" >&5
echo "${ECHO_T}unknown" >&6; };boolchk=""

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include "$KERNDIR/include/linux/autoconf.h"
int main( void ) {
#if !defined($boolvar) && !defined($boolvar1)
  exit(1);
#else
  exit(0);
#endif
}

_ACEOF
rm -f conftest$ac_exeext
if { (ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };boolchk="y"
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };boolchk=""
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi


  CFLAGS="$ac_save_CFLAGS"
  eval $boolvar="$boolchk"

fi


if test $kpatchlevel -ge 6 -a $ksublevel -ge 23; then

  boolvar="CONFIG_HAS_DMA"
  boolvar1="CONFIG_HAS_DMA_MODULE"
  { echo "$as_me:$LINENO: checking for CONFIG_HAS_DMA" >&5
echo $ECHO_N "checking for CONFIG_HAS_DMA... $ECHO_C" >&6; }
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS="$CFLAGS $KERNEL_INC $HACK_KERNEL_INC"
  if test -n "$kernelbuild" -a -f "$kernelbuild/include/linux/autoconf.h"; then
    KERNDIR=$kernelbuild
  else
    KERNDIR=$CONFIG_SND_KERNELDIR
  fi
  boolchk=""
  if test "$cross_compiling" = yes; then
  { echo "$as_me:$LINENO: result: unknown" >&5
echo "${ECHO_T}unknown" >&6; };boolchk=""

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include "$KERNDIR/include/linux/autoconf.h"
int main( void ) {
#if !defined($boolvar) && !defined($boolvar1)
  exit(1);
#else
  exit(0);
#endif
}

_ACEOF
rm -f conftest$ac_exeext
if { (ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  { echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6; };boolchk="y"
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
{ echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6; };boolchk=""
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi


  CFLAGS="$ac_save_CFLAGS"
  eval $boolvar="$boolchk"

else
  CONFIG_HAS_DMA=y
fi


CONFIG_SOUND=m

{ echo "$as_me:$LINENO: checking for cards to compile driver for" >&5
echo $ECHO_N "checking for cards to compile driver for... $ECHO_C" >&6; }

# Check whether --with-cards was given.
if test "${with_cards+set}" = set; then
  withval=$with_cards; cards="$withval"
else
  cards="all"
fi

SELECTED_CARDS=`echo $cards | sed 's/,/ /g'`
{ echo "$as_me:$LINENO: result: $SELECTED_CARDS" >&5
echo "${ECHO_T}$SELECTED_CARDS" >&6; }
{ echo "$as_me:$LINENO: checking for additonal options to compile driver for" >&5
echo $ECHO_N "checking for additonal options to compile driver for... $ECHO_C" >&6; }

# Check whether --with-card_options was given.
if test "${with_card_options+set}" = set; then
  withval=$with_card_options; cards="$withval"
else
  cards="all"
fi

SELECTED_OPTIONS=`echo $cards | sed 's/,/ /g'`
{ echo "$as_me:$LINENO: result: $SELECTED_OPTIONS" >&5
echo "${ECHO_T}$SELECTED_OPTIONS" >&6; }



alsa_check_kconfig_card () {
  local pat=${1}
  for i in $SELECTED_CARDS; do
    case "$i" in
    $pat=n)
      return 1;;
    all|$pat|$pat=*)
      return 0;;
    esac
  done
  return 1
}
alsa_check_kconfig_option () {
  local pat=${1}
  for i in $SELECTED_OPTIONS; do
    case "$i" in
    $pat=n)
      return 1;;
    all|$pat|$pat=*)
      return 0;;
    esac
  done
  return 1
}
  CONFIG_SND="m"
  if alsa_check_kconfig_card "seq-dummy"; then
    if ( test "$CONFIG_SND_SEQUENCER" = "y" -o "$CONFIG_SND_SEQUENCER" = "m" ); then
      CONFIG_SND_SEQ_DUMMY="m"
    fi
  fi
  if alsa_check_kconfig_card "hrtimer"; then
    if ( test "$CONFIG_HIGH_RES_TIMERS" = "y" -o "$CONFIG_HIGH_RES_TIMERS" = "m" ) &&
      ( test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 27 ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_HRTIMER="m"
    fi
  fi
  if alsa_check_kconfig_option "seq-hrtimer-default"; then
    if ( ( test "$CONFIG_SND_HRTIMER" = "y" -o "$CONFIG_SND_HRTIMER" = "m" ) &&
      ( test "$CONFIG_SND_SEQUENCER" = "y" -o "$CONFIG_SND_SEQUENCER" = "m" ) ); then
      CONFIG_SND_SEQ_HRTIMER_DEFAULT="y"
    fi
  fi
  if alsa_check_kconfig_card "rtctimer"; then
    if ( test "$CONFIG_RTC" = "y" -o "$CONFIG_RTC" = "m" ) &&
      ( test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 15 ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_RTCTIMER="m"
    fi
  fi
  if alsa_check_kconfig_option "seq-rtctimer-default"; then
    if ( ( test "$CONFIG_SND_RTCTIMER" = "y" -o "$CONFIG_SND_RTCTIMER" = "m" ) &&
      ( test "$CONFIG_SND_SEQUENCER" = "y" -o "$CONFIG_SND_SEQUENCER" = "m" ) ) &&
       ! ( test "$CONFIG_SND_SEQ_HRTIMER_DEFAULT" = "y" -o "$CONFIG_SND_SEQ_HRTIMER_DEFAULT" = "m" ); then
      CONFIG_SND_SEQ_RTCTIMER_DEFAULT="y"
    fi
  fi
  if alsa_check_kconfig_option "support-old-api"; then
      CONFIG_SND_SUPPORT_OLD_API="y"
  fi
  if alsa_check_kconfig_option "pcm-xrun-debug"; then
    if ( ( test "$CONFIG_SND_DEBUG" = "y" -o "$CONFIG_SND_DEBUG" = "m" ) &&
      ( test "$CONFIG_SND_VERBOSE_PROCFS" = "y" -o "$CONFIG_SND_VERBOSE_PROCFS" = "m" ) ); then
      CONFIG_SND_PCM_XRUN_DEBUG="y"
    fi
  fi
    if ( test "$CONFIG_X86" = "y" -o "$CONFIG_X86" = "m" ); then
      CONFIG_SND_DMA_SGBUF="y"
    fi
    if ( ( test "$CONFIG_ISA" = "y" -o "$CONFIG_ISA" = "m" ) &&
      ( test "$CONFIG_ISA_DMA_API" = "y" -o "$CONFIG_ISA_DMA_API" = "m" ) ); then
      CONFIG_SND_ISA="y"
    fi
  if alsa_check_kconfig_card "sbawe"; then
    if ( test "$CONFIG_SND_ISA" = "y" -o "$CONFIG_SND_ISA" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_HWDEP="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_SB_COMMON="m"
      CONFIG_SND_OPL3_LIB="m"
      CONFIG_SND_MPU401_UART="m"
      CONFIG_SND_SB16_DSP="m"
      CONFIG_SND_SBAWE="m"
    fi
  fi
    if ( ( test "$CONFIG_SND_SEQUENCER" = "y" -o "$CONFIG_SND_SEQUENCER" = "m" ) &&
      ( test "$CONFIG_SND_SBAWE" = "y" -o "$CONFIG_SND_SBAWE" = "m" ) ); then
      CONFIG_SND_SBAWE_SEQ="m"
    fi
    if ( test "$CONFIG_PCI" = "y" -o "$CONFIG_PCI" = "m" ); then
      CONFIG_SND_PCI="y"
    fi
  if alsa_check_kconfig_card "emu10k1"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_FW_LOADER" = "y" -o "$CONFIG_FW_LOADER" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_HWDEP="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_AC97_CODEC="m"
      CONFIG_SND_EMU10K1="m"
    fi
  fi
    if ( ( test "$CONFIG_SND_SEQUENCER" = "y" -o "$CONFIG_SND_SEQUENCER" = "m" ) &&
      ( test "$CONFIG_SND_EMU10K1" = "y" -o "$CONFIG_SND_EMU10K1" = "m" ) ); then
      CONFIG_SND_EMU10K1_SEQ="m"
    fi
  if alsa_check_kconfig_card "hpet"; then
    if ( ( test "$CONFIG_HPET" = "y" -o "$CONFIG_HPET" = "m" ) &&
      ( test "$CONFIG_BROKEN" = "y" -o "$CONFIG_BROKEN" = "m" ) ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_HPET="m"
    fi
  fi
      CONFIG_SND_DRIVERS="y"
  if alsa_check_kconfig_card "pcsp"; then
    if ( test "$CONFIG_SND_DRIVERS" = "y" -o "$CONFIG_SND_DRIVERS" = "m" ) &&
      ( ( test "$CONFIG_PCSPKR_PLATFORM" = "y" -o "$CONFIG_PCSPKR_PLATFORM" = "m" ) &&
      ( test "$CONFIG_X86" = "y" -o "$CONFIG_X86" = "m" ) &&
      ( test "$CONFIG_HIGH_RES_TIMERS" = "y" -o "$CONFIG_HIGH_RES_TIMERS" = "m" ) ) &&
      ( test "$CONFIG_INPUT" = "y" -o "$CONFIG_INPUT" = "m" ) &&
      ( test "$CONFIG_EXPERIMENTAL" = "y" -o "$CONFIG_EXPERIMENTAL" = "m" ) &&
      ( test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 27 ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_PCSP="m"
    fi
  fi
  if alsa_check_kconfig_card "dummy"; then
    if ( test "$CONFIG_SND_DRIVERS" = "y" -o "$CONFIG_SND_DRIVERS" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_DUMMY="m"
    fi
  fi
  if alsa_check_kconfig_card "virmidi"; then
    if ( test "$CONFIG_SND_DRIVERS" = "y" -o "$CONFIG_SND_DRIVERS" = "m" ) &&
      ( test "$CONFIG_SND_SEQUENCER" = "y" -o "$CONFIG_SND_SEQUENCER" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_VIRMIDI="m"
    fi
  fi
  if alsa_check_kconfig_card "mtpav"; then
    if ( test "$CONFIG_SND_DRIVERS" = "y" -o "$CONFIG_SND_DRIVERS" = "m" ); then
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_MTPAV="m"
    fi
  fi
  if alsa_check_kconfig_card "mts64"; then
    if ( test "$CONFIG_SND_DRIVERS" = "y" -o "$CONFIG_SND_DRIVERS" = "m" ) &&
      ( test "$CONFIG_PARPORT" = "y" -o "$CONFIG_PARPORT" = "m" ) &&
      ( test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 10 ); then
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_MTS64="m"
    fi
  fi
  if alsa_check_kconfig_card "serial-u16550"; then
    if ( test "$CONFIG_SND_DRIVERS" = "y" -o "$CONFIG_SND_DRIVERS" = "m" ); then
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_SERIAL_U16550="m"
    fi
  fi
  if alsa_check_kconfig_card "mpu401"; then
    if ( test "$CONFIG_SND_DRIVERS" = "y" -o "$CONFIG_SND_DRIVERS" = "m" ); then
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_MPU401_UART="m"
      CONFIG_SND_MPU401="m"
    fi
  fi
  if alsa_check_kconfig_card "portman2x4"; then
    if ( test "$CONFIG_SND_DRIVERS" = "y" -o "$CONFIG_SND_DRIVERS" = "m" ) &&
      ( test "$CONFIG_PARPORT" = "y" -o "$CONFIG_PARPORT" = "m" ) &&
      ( test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 10 ); then
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_PORTMAN2X4="m"
    fi
  fi
  if alsa_check_kconfig_card "ml403-ac97cr"; then
    if ( test "$CONFIG_SND_DRIVERS" = "y" -o "$CONFIG_SND_DRIVERS" = "m" ) &&
      ( test "$CONFIG_XILINX_VIRTEX" = "y" -o "$CONFIG_XILINX_VIRTEX" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_AC97_CODEC="m"
      CONFIG_SND_ML403_AC97CR="m"
    fi
  fi
  if alsa_check_kconfig_card "serialmidi"; then
    if ( test "$CONFIG_SND_DRIVERS" = "y" -o "$CONFIG_SND_DRIVERS" = "m" ) &&
      ( test "$CONFIG_BROKEN" = "y" -o "$CONFIG_BROKEN" = "m" ); then
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_SERIALMIDI="m"
    fi
  fi
  if alsa_check_kconfig_card "loopback"; then
    if ( test "$CONFIG_SND_DRIVERS" = "y" -o "$CONFIG_SND_DRIVERS" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_LOOPBACK="m"
    fi
  fi
  if alsa_check_kconfig_card "adlib"; then
    if ( test "$CONFIG_SND_ISA" = "y" -o "$CONFIG_SND_ISA" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_HWDEP="m"
      CONFIG_SND_OPL3_LIB="m"
      CONFIG_SND_ADLIB="m"
    fi
  fi
  if alsa_check_kconfig_card "ad1816a"; then
    if ( test "$CONFIG_SND_ISA" = "y" -o "$CONFIG_SND_ISA" = "m" ) &&
      ( test "$CONFIG_PNP" = "y" -o "$CONFIG_PNP" = "m" ) &&
      ( test "$CONFIG_ISAPNP" = "y" -o "$CONFIG_ISAPNP" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_HWDEP="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_OPL3_LIB="m"
      CONFIG_SND_MPU401_UART="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_AD1816A="m"
    fi
  fi
  if alsa_check_kconfig_card "ad1848"; then
    if ( test "$CONFIG_SND_ISA" = "y" -o "$CONFIG_SND_ISA" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_WSS_LIB="m"
      CONFIG_SND_AD1848="m"
    fi
  fi
  if alsa_check_kconfig_card "als100"; then
    if ( test "$CONFIG_SND_ISA" = "y" -o "$CONFIG_SND_ISA" = "m" ) &&
      ( test "$CONFIG_PNP" = "y" -o "$CONFIG_PNP" = "m" ) &&
      ( test "$CONFIG_ISAPNP" = "y" -o "$CONFIG_ISAPNP" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_HWDEP="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_SB_COMMON="m"
      CONFIG_SND_OPL3_LIB="m"
      CONFIG_SND_MPU401_UART="m"
      CONFIG_SND_SB16_DSP="m"
      CONFIG_SND_ALS100="m"
    fi
  fi
  if alsa_check_kconfig_card "azt2320"; then
    if ( test "$CONFIG_SND_ISA" = "y" -o "$CONFIG_SND_ISA" = "m" ) &&
      ( test "$CONFIG_PNP" = "y" -o "$CONFIG_PNP" = "m" ) &&
      ( test "$CONFIG_ISAPNP" = "y" -o "$CONFIG_ISAPNP" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_HWDEP="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_OPL3_LIB="m"
      CONFIG_SND_MPU401_UART="m"
      CONFIG_SND_WSS_LIB="m"
      CONFIG_SND_AZT2320="m"
    fi
  fi
  if alsa_check_kconfig_card "cmi8330"; then
    if ( test "$CONFIG_SND_ISA" = "y" -o "$CONFIG_SND_ISA" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_SB_COMMON="m"
      CONFIG_SND_HWDEP="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_WSS_LIB="m"
      CONFIG_SND_SB16_DSP="m"
      CONFIG_SND_OPL3_LIB="m"
      CONFIG_SND_MPU401_UART="m"
      CONFIG_SND_CMI8330="m"
    fi
  fi
  if alsa_check_kconfig_card "cs4231"; then
    if ( test "$CONFIG_SND_ISA" = "y" -o "$CONFIG_SND_ISA" = "m" ); then
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_MPU401_UART="m"
      CONFIG_SND_WSS_LIB="m"
      CONFIG_SND_CS4231="m"
    fi
  fi
  if alsa_check_kconfig_card "cs4236"; then
    if ( test "$CONFIG_SND_ISA" = "y" -o "$CONFIG_SND_ISA" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_HWDEP="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_OPL3_LIB="m"
      CONFIG_SND_MPU401_UART="m"
      CONFIG_SND_WSS_LIB="m"
      CONFIG_SND_CS4236="m"
    fi
  fi
  if alsa_check_kconfig_card "es968"; then
    if ( test "$CONFIG_SND_ISA" = "y" -o "$CONFIG_SND_ISA" = "m" ) &&
      ( test "$CONFIG_PNP" = "y" -o "$CONFIG_PNP" = "m" ) &&
      ( test "$CONFIG_ISAPNP" = "y" -o "$CONFIG_ISAPNP" = "m" ); then
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_SB_COMMON="m"
      CONFIG_SND_MPU401_UART="m"
      CONFIG_SND_SB8_DSP="m"
      CONFIG_SND_ES968="m"
    fi
  fi
  if alsa_check_kconfig_card "es1688"; then
    if ( test "$CONFIG_SND_ISA" = "y" -o "$CONFIG_SND_ISA" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_HWDEP="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_OPL3_LIB="m"
      CONFIG_SND_MPU401_UART="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_ES1688="m"
    fi
  fi
  if alsa_check_kconfig_card "es18xx"; then
    if ( test "$CONFIG_SND_ISA" = "y" -o "$CONFIG_SND_ISA" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_HWDEP="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_OPL3_LIB="m"
      CONFIG_SND_MPU401_UART="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_ES18XX="m"
    fi
  fi
  if alsa_check_kconfig_card "sc6000"; then
    if ( test "$CONFIG_SND_ISA" = "y" -o "$CONFIG_SND_ISA" = "m" ) &&
      ( test "$CONFIG_HAS_IOPORT" = "y" -o "$CONFIG_HAS_IOPORT" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_HWDEP="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_WSS_LIB="m"
      CONFIG_SND_OPL3_LIB="m"
      CONFIG_SND_MPU401_UART="m"
      CONFIG_SND_SC6000="m"
    fi
  fi
  if alsa_check_kconfig_card "gusclassic"; then
    if ( test "$CONFIG_SND_ISA" = "y" -o "$CONFIG_SND_ISA" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_GUSCLASSIC="m"
    fi
  fi
  if alsa_check_kconfig_card "gusextreme"; then
    if ( test "$CONFIG_SND_ISA" = "y" -o "$CONFIG_SND_ISA" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_HWDEP="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_OPL3_LIB="m"
      CONFIG_SND_MPU401_UART="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_GUSEXTREME="m"
    fi
  fi
  if alsa_check_kconfig_card "gusmax"; then
    if ( test "$CONFIG_SND_ISA" = "y" -o "$CONFIG_SND_ISA" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_WSS_LIB="m"
      CONFIG_SND_GUSMAX="m"
    fi
  fi
  if alsa_check_kconfig_card "interwave"; then
    if ( test "$CONFIG_SND_ISA" = "y" -o "$CONFIG_SND_ISA" = "m" ) &&
      ( test "$CONFIG_PNP" = "y" -o "$CONFIG_PNP" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_WSS_LIB="m"
      CONFIG_SND_INTERWAVE="m"
    fi
  fi
  if alsa_check_kconfig_card "interwave-stb"; then
    if ( test "$CONFIG_SND_ISA" = "y" -o "$CONFIG_SND_ISA" = "m" ) &&
      ( test "$CONFIG_PNP" = "y" -o "$CONFIG_PNP" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_WSS_LIB="m"
      CONFIG_SND_INTERWAVE_STB="m"
    fi
  fi
  if alsa_check_kconfig_card "jazz16"; then
    if ( test "$CONFIG_SND_ISA" = "y" -o "$CONFIG_SND_ISA" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_HWDEP="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_SB_COMMON="m"
      CONFIG_SND_OPL3_LIB="m"
      CONFIG_SND_MPU401_UART="m"
      CONFIG_SND_SB8_DSP="m"
      CONFIG_SND_JAZZ16="m"
    fi
  fi
  if alsa_check_kconfig_card "opl3sa2"; then
    if ( test "$CONFIG_SND_ISA" = "y" -o "$CONFIG_SND_ISA" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_HWDEP="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_OPL3_LIB="m"
      CONFIG_SND_MPU401_UART="m"
      CONFIG_SND_WSS_LIB="m"
      CONFIG_SND_OPL3SA2="m"
    fi
  fi
  if alsa_check_kconfig_card "opti92x-ad1848"; then
    if ( test "$CONFIG_SND_ISA" = "y" -o "$CONFIG_SND_ISA" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_HWDEP="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_OPL3_LIB="m"
      CONFIG_SND_OPL4_LIB="m"
      CONFIG_SND_MPU401_UART="m"
      CONFIG_SND_WSS_LIB="m"
      CONFIG_SND_OPTI92X_AD1848="m"
    fi
  fi
  if alsa_check_kconfig_card "opti92x-cs4231"; then
    if ( test "$CONFIG_SND_ISA" = "y" -o "$CONFIG_SND_ISA" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_HWDEP="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_OPL3_LIB="m"
      CONFIG_SND_OPL4_LIB="m"
      CONFIG_SND_MPU401_UART="m"
      CONFIG_SND_WSS_LIB="m"
      CONFIG_SND_OPTI92X_CS4231="m"
    fi
  fi
  if alsa_check_kconfig_card "opti93x"; then
    if ( test "$CONFIG_SND_ISA" = "y" -o "$CONFIG_SND_ISA" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_HWDEP="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_OPL3_LIB="m"
      CONFIG_SND_MPU401_UART="m"
      CONFIG_SND_WSS_LIB="m"
      CONFIG_SND_OPTI93X="m"
    fi
  fi
  if alsa_check_kconfig_card "miro"; then
    if ( test "$CONFIG_SND_ISA" = "y" -o "$CONFIG_SND_ISA" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_HWDEP="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_OPL4_LIB="m"
      CONFIG_SND_WSS_LIB="m"
      CONFIG_SND_MPU401_UART="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_MIRO="m"
    fi
  fi
  if alsa_check_kconfig_card "sb8"; then
    if ( test "$CONFIG_SND_ISA" = "y" -o "$CONFIG_SND_ISA" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_HWDEP="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_SB_COMMON="m"
      CONFIG_SND_OPL3_LIB="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_SB8_DSP="m"
      CONFIG_SND_SB8="m"
    fi
  fi
  if alsa_check_kconfig_card "sb16"; then
    if ( test "$CONFIG_SND_ISA" = "y" -o "$CONFIG_SND_ISA" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_HWDEP="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_SB_COMMON="m"
      CONFIG_SND_OPL3_LIB="m"
      CONFIG_SND_MPU401_UART="m"
      CONFIG_SND_SB16_DSP="m"
      CONFIG_SND_SB16="m"
    fi
  fi
  if alsa_check_kconfig_option "sb16-csp"; then
    if ( test "$CONFIG_SND_ISA" = "y" -o "$CONFIG_SND_ISA" = "m" ) &&
      ( ( ( test "$CONFIG_SND_SB16" = "y" -o "$CONFIG_SND_SB16" = "m" ) ||
      ( test "$CONFIG_SND_SBAWE" = "y" -o "$CONFIG_SND_SBAWE" = "m" ) ) &&
      ( ( test "$CONFIG_BROKEN" = "y" -o "$CONFIG_BROKEN" = "m" ) ||
       ! ( test "$CONFIG_PPC" = "y" -o "$CONFIG_PPC" = "m" ) ) ) &&
      ( test "$CONFIG_FW_LOADER" = "y" -o "$CONFIG_FW_LOADER" = "m" ); then
      CONFIG_SND_SB16_CSP="y"
    fi
  fi
  if alsa_check_kconfig_card "sgalaxy"; then
    if ( test "$CONFIG_SND_ISA" = "y" -o "$CONFIG_SND_ISA" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_WSS_LIB="m"
      CONFIG_SND_SGALAXY="m"
    fi
  fi
  if alsa_check_kconfig_card "sscape"; then
    if ( test "$CONFIG_SND_ISA" = "y" -o "$CONFIG_SND_ISA" = "m" ) &&
      ( test "$CONFIG_FW_LOADER" = "y" -o "$CONFIG_FW_LOADER" = "m" ); then
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_MPU401_UART="m"
      CONFIG_SND_WSS_LIB="m"
      CONFIG_SND_SSCAPE="m"
    fi
  fi
  if alsa_check_kconfig_card "wavefront"; then
    if ( test "$CONFIG_SND_ISA" = "y" -o "$CONFIG_SND_ISA" = "m" ) &&
      ( test "$CONFIG_FW_LOADER" = "y" -o "$CONFIG_FW_LOADER" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_HWDEP="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_OPL3_LIB="m"
      CONFIG_SND_MPU401_UART="m"
      CONFIG_SND_WSS_LIB="m"
      CONFIG_SND_WAVEFRONT="m"
    fi
  fi
  if alsa_check_kconfig_card "msnd-pinnacle"; then
    if ( test "$CONFIG_SND_ISA" = "y" -o "$CONFIG_SND_ISA" = "m" ) &&
      ( ( test "$CONFIG_X86" = "y" -o "$CONFIG_X86" = "m" ) &&
      ( test "$CONFIG_EXPERIMENTAL" = "y" -o "$CONFIG_EXPERIMENTAL" = "m" ) ) &&
      ( test "$CONFIG_FW_LOADER" = "y" -o "$CONFIG_FW_LOADER" = "m" ) &&
      ( test "$kversion.$kpatchlevel" = "2.6" ); then
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_TIMER="m"
      CONFIG_SND_MPU401_UART="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_MSND_PINNACLE="m"
    fi
  fi
  if alsa_check_kconfig_card "msnd-classic"; then
    if ( test "$CONFIG_SND_ISA" = "y" -o "$CONFIG_SND_ISA" = "m" ) &&
      ( ( test "$CONFIG_X86" = "y" -o "$CONFIG_X86" = "m" ) &&
      ( test "$CONFIG_EXPERIMENTAL" = "y" -o "$CONFIG_EXPERIMENTAL" = "m" ) ) &&
      ( test "$CONFIG_FW_LOADER" = "y" -o "$CONFIG_FW_LOADER" = "m" ) &&
      ( test "$kversion.$kpatchlevel" = "2.6" ); then
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_TIMER="m"
      CONFIG_SND_MPU401_UART="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_MSND_CLASSIC="m"
    fi
  fi
  if alsa_check_kconfig_card "pc98-cs4232"; then
    if ( test "$CONFIG_SND_ISA" = "y" -o "$CONFIG_SND_ISA" = "m" ) &&
      ( test "$CONFIG_X86_PC9800" = "y" -o "$CONFIG_X86_PC9800" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_HWDEP="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_OPL3_LIB="m"
      CONFIG_SND_MPU401_UART="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_PC98_CS4232="m"
    fi
  fi
  if alsa_check_kconfig_card "ad1889"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_AC97_CODEC="m"
      CONFIG_SND_AD1889="m"
    fi
  fi
  if alsa_check_kconfig_card "als300"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_HWDEP="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_AC97_CODEC="m"
      CONFIG_SND_OPL3_LIB="m"
      CONFIG_SND_ALS300="m"
    fi
  fi
  if alsa_check_kconfig_card "als4000"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_ISA_DMA_API" = "y" -o "$CONFIG_ISA_DMA_API" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_HWDEP="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_OPL3_LIB="m"
      CONFIG_SND_MPU401_UART="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_SB_COMMON="m"
      CONFIG_SND_ALS4000="m"
    fi
  fi
  if alsa_check_kconfig_card "ali5451"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ); then
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_MPU401_UART="m"
      CONFIG_SND_AC97_CODEC="m"
      CONFIG_SND_ALI5451="m"
    fi
  fi
  if alsa_check_kconfig_card "atiixp"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_AC97_CODEC="m"
      CONFIG_SND_ATIIXP="m"
    fi
  fi
  if alsa_check_kconfig_card "atiixp-modem"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_AC97_CODEC="m"
      CONFIG_SND_ATIIXP_MODEM="m"
    fi
  fi
  if alsa_check_kconfig_card "au8810"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ); then
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_MPU401_UART="m"
      CONFIG_SND_AC97_CODEC="m"
      CONFIG_SND_AU8810="m"
    fi
  fi
  if alsa_check_kconfig_card "au8820"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ); then
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_MPU401_UART="m"
      CONFIG_SND_AC97_CODEC="m"
      CONFIG_SND_AU8820="m"
    fi
  fi
  if alsa_check_kconfig_card "au8830"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ); then
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_MPU401_UART="m"
      CONFIG_SND_AC97_CODEC="m"
      CONFIG_SND_AU8830="m"
    fi
  fi
  if alsa_check_kconfig_card "aw2"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ); then
      CONFIG_SND_AW2="m"
    fi
  fi
  if alsa_check_kconfig_card "azt3328"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_HWDEP="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_OPL3_LIB="m"
      CONFIG_SND_MPU401_UART="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_AZT3328="m"
    fi
  fi
  if alsa_check_kconfig_card "bt87x"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_BT87X="m"
    fi
  fi
  if alsa_check_kconfig_option "bt87x-overclock"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_SND_BT87X" = "y" -o "$CONFIG_SND_BT87X" = "m" ); then
      CONFIG_SND_BT87X_OVERCLOCK="y"
    fi
  fi
  if alsa_check_kconfig_card "ca0106"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_AC97_CODEC="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_CA0106="m"
    fi
  fi
  if alsa_check_kconfig_card "cmipci"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_HWDEP="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_OPL3_LIB="m"
      CONFIG_SND_MPU401_UART="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_CMIPCI="m"
    fi
  fi
  if alsa_check_kconfig_card "oxygen"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_MPU401_UART="m"
      CONFIG_SND_OXYGEN_LIB="m"
      CONFIG_SND_OXYGEN="m"
    fi
  fi
  if alsa_check_kconfig_card "cs4281"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_HWDEP="m"
      CONFIG_SND_PCM="m"
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_OPL3_LIB="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_AC97_CODEC="m"
      CONFIG_SND_CS4281="m"
    fi
  fi
  if alsa_check_kconfig_card "cs46xx"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_AC97_CODEC="m"
      CONFIG_SND_CS46XX="m"
    fi
  fi
  if alsa_check_kconfig_option "cs46xx-new-dsp"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_SND_CS46XX" = "y" -o "$CONFIG_SND_CS46XX" = "m" ); then
      CONFIG_SND_CS46XX_NEW_DSP="y"
    fi
  fi
  if alsa_check_kconfig_card "cs5530"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_ISA_DMA_API" = "y" -o "$CONFIG_ISA_DMA_API" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_SB_COMMON="m"
      CONFIG_SND_SB16_DSP="m"
      CONFIG_SND_CS5530="m"
    fi
  fi
  if alsa_check_kconfig_card "cs5535audio"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 10 ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_PCM="m"
      CONFIG_SND_AC97_CODEC="m"
      CONFIG_SND_CS5535AUDIO="m"
    fi
  fi
  if alsa_check_kconfig_card "ctxfi"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_CTXFI="m"
    fi
  fi
  if alsa_check_kconfig_card "darla20"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_FW_LOADER" = "y" -o "$CONFIG_FW_LOADER" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_DARLA20="m"
    fi
  fi
  if alsa_check_kconfig_card "gina20"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_FW_LOADER" = "y" -o "$CONFIG_FW_LOADER" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_GINA20="m"
    fi
  fi
  if alsa_check_kconfig_card "layla20"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_FW_LOADER" = "y" -o "$CONFIG_FW_LOADER" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_LAYLA20="m"
    fi
  fi
  if alsa_check_kconfig_card "darla24"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_FW_LOADER" = "y" -o "$CONFIG_FW_LOADER" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_DARLA24="m"
    fi
  fi
  if alsa_check_kconfig_card "gina24"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_FW_LOADER" = "y" -o "$CONFIG_FW_LOADER" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_GINA24="m"
    fi
  fi
  if alsa_check_kconfig_card "layla24"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_FW_LOADER" = "y" -o "$CONFIG_FW_LOADER" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_LAYLA24="m"
    fi
  fi
  if alsa_check_kconfig_card "mona"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_FW_LOADER" = "y" -o "$CONFIG_FW_LOADER" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_MONA="m"
    fi
  fi
  if alsa_check_kconfig_card "mia"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_FW_LOADER" = "y" -o "$CONFIG_FW_LOADER" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_MIA="m"
    fi
  fi
  if alsa_check_kconfig_card "echo3g"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_FW_LOADER" = "y" -o "$CONFIG_FW_LOADER" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_ECHO3G="m"
    fi
  fi
  if alsa_check_kconfig_card "indigo"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_FW_LOADER" = "y" -o "$CONFIG_FW_LOADER" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_INDIGO="m"
    fi
  fi
  if alsa_check_kconfig_card "indigoio"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_FW_LOADER" = "y" -o "$CONFIG_FW_LOADER" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_INDIGOIO="m"
    fi
  fi
  if alsa_check_kconfig_card "indigodj"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_FW_LOADER" = "y" -o "$CONFIG_FW_LOADER" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_INDIGODJ="m"
    fi
  fi
  if alsa_check_kconfig_card "indigoiox"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_FW_LOADER" = "y" -o "$CONFIG_FW_LOADER" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_INDIGOIOX="m"
    fi
  fi
  if alsa_check_kconfig_card "indigodjx"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_FW_LOADER" = "y" -o "$CONFIG_FW_LOADER" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_INDIGODJX="m"
    fi
  fi
  if alsa_check_kconfig_card "emu10k1x"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_AC97_CODEC="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_EMU10K1X="m"
    fi
  fi
  if alsa_check_kconfig_card "ens1370"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_ENS1370="m"
    fi
  fi
  if alsa_check_kconfig_card "ens1371"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_AC97_CODEC="m"
      CONFIG_SND_ENS1371="m"
    fi
  fi
  if alsa_check_kconfig_card "es1938"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_HWDEP="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_PCM="m"
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_OPL3_LIB="m"
      CONFIG_SND_MPU401_UART="m"
      CONFIG_SND_AC97_CODEC="m"
      CONFIG_SND_ES1938="m"
    fi
  fi
  if alsa_check_kconfig_card "es1968"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ); then
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_MPU401_UART="m"
      CONFIG_SND_AC97_CODEC="m"
      CONFIG_SND_ES1968="m"
    fi
  fi
  if alsa_check_kconfig_card "fm801"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_HWDEP="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_PCM="m"
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_OPL3_LIB="m"
      CONFIG_SND_MPU401_UART="m"
      CONFIG_SND_AC97_CODEC="m"
      CONFIG_SND_FM801="m"
    fi
  fi
  if alsa_check_kconfig_option "fm801-tea575x-bool"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_SND_FM801" = "y" -o "$CONFIG_SND_FM801" = "m" ) &&
      ( test "$CONFIG_VIDEO_V4L2" = "y" -o "$CONFIG_VIDEO_V4L2" = "m" ) &&
      ( test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 27 ); then
      CONFIG_SND_FM801_TEA575X_BOOL="y"
    fi
  fi
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_SND_FM801_TEA575X_BOOL" = "y" -o "$CONFIG_SND_FM801_TEA575X_BOOL" = "m" ) &&
      ( test "$CONFIG_SND_FM801" = "y" -o "$CONFIG_SND_FM801" = "m" ); then
      CONFIG_SND_FM801_TEA575X="m"
    fi
  if alsa_check_kconfig_card "hda-intel"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$kversion.$kpatchlevel" = "2.6" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_HDA_INTEL="m"
    fi
  fi
  if alsa_check_kconfig_option "hda-hwdep"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_SND_HDA_INTEL" = "y" -o "$CONFIG_SND_HDA_INTEL" = "m" ); then
      CONFIG_SND_HWDEP="m"
      CONFIG_SND_HDA_HWDEP="y"
    fi
  fi
  if alsa_check_kconfig_option "hda-reconfig"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_SND_HDA_INTEL" = "y" -o "$CONFIG_SND_HDA_INTEL" = "m" ) &&
      ( ( test "$CONFIG_SND_HDA_HWDEP" = "y" -o "$CONFIG_SND_HDA_HWDEP" = "m" ) &&
      ( test "$CONFIG_EXPERIMENTAL" = "y" -o "$CONFIG_EXPERIMENTAL" = "m" ) ); then
      CONFIG_SND_HDA_RECONFIG="y"
    fi
  fi
  if alsa_check_kconfig_option "hda-input-beep"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_SND_HDA_INTEL" = "y" -o "$CONFIG_SND_HDA_INTEL" = "m" ) &&
      ( test "$CONFIG_INPUT" = "y" -o "$CONFIG_INPUT" = "m" ) &&
      ( test "$kversion.$kpatchlevel" = "2.6" ); then
      CONFIG_SND_HDA_INPUT_BEEP="y"
    fi
  fi
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_SND_HDA_INTEL" = "y" -o "$CONFIG_SND_HDA_INTEL" = "m" ) &&
      ( test "$CONFIG_SND_HDA_INPUT_BEEP" = "y" -o "$CONFIG_SND_HDA_INPUT_BEEP" = "m" ); then
      CONFIG_SND_HDA_INPUT_BEEP_MODE="1"
    fi
  if alsa_check_kconfig_option "hda-input-jack"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_SND_HDA_INTEL" = "y" -o "$CONFIG_SND_HDA_INTEL" = "m" ) &&
      ( test "$CONFIG_INPUT" = "y" -o "$CONFIG_INPUT" = "m" ); then
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 27 && CONFIG_SND_JACK="y"
      CONFIG_SND_HDA_INPUT_JACK="y"
    fi
  fi
  if alsa_check_kconfig_option "hda-patch-loader"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_SND_HDA_INTEL" = "y" -o "$CONFIG_SND_HDA_INTEL" = "m" ) &&
      ( test "$CONFIG_EXPERIMENTAL" = "y" -o "$CONFIG_EXPERIMENTAL" = "m" ) &&
      ( test "$CONFIG_FW_LOADER" = "y" -o "$CONFIG_FW_LOADER" = "m" ); then
      CONFIG_SND_HWDEP="m"
      CONFIG_SND_HDA_HWDEP="y"
      CONFIG_SND_HDA_RECONFIG="y"
      CONFIG_SND_HDA_PATCH_LOADER="y"
    fi
  fi
  if alsa_check_kconfig_option "hda-codec-realtek"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_SND_HDA_INTEL" = "y" -o "$CONFIG_SND_HDA_INTEL" = "m" ); then
      CONFIG_SND_HDA_CODEC_REALTEK="y"
    fi
  fi
  if alsa_check_kconfig_option "hda-codec-analog"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_SND_HDA_INTEL" = "y" -o "$CONFIG_SND_HDA_INTEL" = "m" ); then
      CONFIG_SND_HDA_CODEC_ANALOG="y"
    fi
  fi
  if alsa_check_kconfig_option "hda-codec-sigmatel"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_SND_HDA_INTEL" = "y" -o "$CONFIG_SND_HDA_INTEL" = "m" ); then
      CONFIG_SND_HDA_CODEC_SIGMATEL="y"
    fi
  fi
  if alsa_check_kconfig_option "hda-codec-via"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_SND_HDA_INTEL" = "y" -o "$CONFIG_SND_HDA_INTEL" = "m" ); then
      CONFIG_SND_HDA_CODEC_VIA="y"
    fi
  fi
  if alsa_check_kconfig_option "hda-codec-atihdmi"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_SND_HDA_INTEL" = "y" -o "$CONFIG_SND_HDA_INTEL" = "m" ); then
      CONFIG_SND_HDA_CODEC_ATIHDMI="y"
    fi
  fi
  if alsa_check_kconfig_option "hda-codec-nvhdmi"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_SND_HDA_INTEL" = "y" -o "$CONFIG_SND_HDA_INTEL" = "m" ); then
      CONFIG_SND_HDA_CODEC_NVHDMI="y"
    fi
  fi
  if alsa_check_kconfig_option "hda-codec-intelhdmi"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_SND_HDA_INTEL" = "y" -o "$CONFIG_SND_HDA_INTEL" = "m" ); then
      CONFIG_SND_HDA_CODEC_INTELHDMI="y"
    fi
  fi
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_SND_HDA_INTEL" = "y" -o "$CONFIG_SND_HDA_INTEL" = "m" ) &&
      ( test "$CONFIG_SND_HDA_CODEC_INTELHDMI" = "y" -o "$CONFIG_SND_HDA_CODEC_INTELHDMI" = "m" ); then
      CONFIG_SND_HDA_ELD="y"
    fi
  if alsa_check_kconfig_option "hda-codec-cirrus"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_SND_HDA_INTEL" = "y" -o "$CONFIG_SND_HDA_INTEL" = "m" ) &&
      ( test "$CONFIG_SND_HDA_INTEL" = "y" -o "$CONFIG_SND_HDA_INTEL" = "m" ); then
      CONFIG_SND_HDA_CODEC_CIRRUS="y"
    fi
  fi
  if alsa_check_kconfig_option "hda-codec-conexant"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_SND_HDA_INTEL" = "y" -o "$CONFIG_SND_HDA_INTEL" = "m" ); then
      CONFIG_SND_HDA_CODEC_CONEXANT="y"
    fi
  fi
  if alsa_check_kconfig_option "hda-codec-ca0110"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_SND_HDA_INTEL" = "y" -o "$CONFIG_SND_HDA_INTEL" = "m" ) &&
      ( test "$CONFIG_SND_HDA_INTEL" = "y" -o "$CONFIG_SND_HDA_INTEL" = "m" ); then
      CONFIG_SND_HDA_CODEC_CA0110="y"
    fi
  fi
  if alsa_check_kconfig_option "hda-codec-cmedia"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_SND_HDA_INTEL" = "y" -o "$CONFIG_SND_HDA_INTEL" = "m" ); then
      CONFIG_SND_HDA_CODEC_CMEDIA="y"
    fi
  fi
  if alsa_check_kconfig_option "hda-codec-si3054"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_SND_HDA_INTEL" = "y" -o "$CONFIG_SND_HDA_INTEL" = "m" ); then
      CONFIG_SND_HDA_CODEC_SI3054="y"
    fi
  fi
  if alsa_check_kconfig_option "hda-generic"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_SND_HDA_INTEL" = "y" -o "$CONFIG_SND_HDA_INTEL" = "m" ); then
      CONFIG_SND_HDA_GENERIC="y"
    fi
  fi
  if alsa_check_kconfig_option "hda-power-save"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_SND_HDA_INTEL" = "y" -o "$CONFIG_SND_HDA_INTEL" = "m" ); then
      CONFIG_SND_HDA_POWER_SAVE="y"
    fi
  fi
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_SND_HDA_INTEL" = "y" -o "$CONFIG_SND_HDA_INTEL" = "m" ) &&
      ( test "$CONFIG_SND_HDA_POWER_SAVE" = "y" -o "$CONFIG_SND_HDA_POWER_SAVE" = "m" ); then
      CONFIG_SND_HDA_POWER_SAVE_DEFAULT="0"
    fi
  if alsa_check_kconfig_card "hdsp"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_HWDEP="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_HDSP="m"
    fi
  fi
  if alsa_check_kconfig_card "hdspm"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_HWDEP="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_HDSPM="m"
    fi
  fi
  if alsa_check_kconfig_card "hifier"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_MPU401_UART="m"
      CONFIG_SND_OXYGEN_LIB="m"
      CONFIG_SND_HIFIER="m"
    fi
  fi
  if alsa_check_kconfig_card "ice1724"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_AC97_CODEC="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_ICE1724="m"
    fi
  fi
  if alsa_check_kconfig_card "intel8x0"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_AC97_CODEC="m"
      CONFIG_SND_INTEL8X0="m"
    fi
  fi
  if alsa_check_kconfig_card "intel8x0m"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_AC97_CODEC="m"
      CONFIG_SND_INTEL8X0M="m"
    fi
  fi
  if alsa_check_kconfig_card "korg1212"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_KORG1212="m"
    fi
  fi
  if alsa_check_kconfig_card "lx6464es"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$kversion.$kpatchlevel" = "2.6" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_LX6464ES="m"
    fi
  fi
  if alsa_check_kconfig_card "maestro3"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_AC97_CODEC="m"
      CONFIG_SND_MAESTRO3="m"
    fi
  fi
  if alsa_check_kconfig_card "mixart"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_HWDEP="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_MIXART="m"
    fi
  fi
  if alsa_check_kconfig_card "nm256"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_AC97_CODEC="m"
      CONFIG_SND_NM256="m"
    fi
  fi
  if alsa_check_kconfig_card "pcxhr"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_HWDEP="m"
      CONFIG_SND_PCXHR="m"
    fi
  fi
  if alsa_check_kconfig_card "riptide"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_FW_LOADER" = "y" -o "$CONFIG_FW_LOADER" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_HWDEP="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_PCM="m"
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_OPL3_LIB="m"
      CONFIG_SND_MPU401_UART="m"
      CONFIG_SND_AC97_CODEC="m"
      CONFIG_SND_RIPTIDE="m"
    fi
  fi
  if alsa_check_kconfig_card "rme32"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_RME32="m"
    fi
  fi
  if alsa_check_kconfig_card "rme96"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_RME96="m"
    fi
  fi
  if alsa_check_kconfig_card "rme9652"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_RME9652="m"
    fi
  fi
  if alsa_check_kconfig_card "sis7019"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( ( test "$CONFIG_X86" = "y" -o "$CONFIG_X86" = "m" ) &&
       ! ( test "$CONFIG_X86_64" = "y" -o "$CONFIG_X86_64" = "m" ) ) &&
      ( test "$kversion.$kpatchlevel" = "2.6" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_AC97_CODEC="m"
      CONFIG_SND_SIS7019="m"
    fi
  fi
  if alsa_check_kconfig_card "sonicvibes"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_HWDEP="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_PCM="m"
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_OPL3_LIB="m"
      CONFIG_SND_MPU401_UART="m"
      CONFIG_SND_AC97_CODEC="m"
      CONFIG_SND_SONICVIBES="m"
    fi
  fi
  if alsa_check_kconfig_card "trident"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ); then
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_MPU401_UART="m"
      CONFIG_SND_AC97_CODEC="m"
      CONFIG_SND_TRIDENT="m"
    fi
  fi
  if alsa_check_kconfig_card "via82xx"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ); then
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_MPU401_UART="m"
      CONFIG_SND_AC97_CODEC="m"
      CONFIG_SND_VIA82XX="m"
    fi
  fi
  if alsa_check_kconfig_card "via82xx-modem"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_AC97_CODEC="m"
      CONFIG_SND_VIA82XX_MODEM="m"
    fi
  fi
  if alsa_check_kconfig_card "virtuoso"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_MPU401_UART="m"
      CONFIG_SND_OXYGEN_LIB="m"
      CONFIG_SND_VIRTUOSO="m"
    fi
  fi
  if alsa_check_kconfig_card "vx222"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ); then
      CONFIG_SND_HWDEP="m"
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_VX_LIB="m"
      CONFIG_SND_VX222="m"
    fi
  fi
  if alsa_check_kconfig_card "ymfpci"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_HWDEP="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_PCM="m"
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_OPL3_LIB="m"
      CONFIG_SND_MPU401_UART="m"
      CONFIG_SND_AC97_CODEC="m"
      CONFIG_SND_YMFPCI="m"
    fi
  fi
  if alsa_check_kconfig_card "pdplus"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_PDPLUS="m"
    fi
  fi
  if alsa_check_kconfig_card "asihpi"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_X86" = "y" -o "$CONFIG_X86" = "m" ) &&
      ( test "$CONFIG_FW_LOADER" = "y" -o "$CONFIG_FW_LOADER" = "m" ) &&
      ( test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 10 ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_HWDEP="m"
      CONFIG_SND_ASIHPI="m"
    fi
  fi
    if ( test "$CONFIG_PPC" = "y" -o "$CONFIG_PPC" = "m" ); then
      CONFIG_SND_PPC="y"
    fi
  if alsa_check_kconfig_card "powermac"; then
    if ( test "$CONFIG_SND_PPC" = "y" -o "$CONFIG_SND_PPC" = "m" ) &&
      ( ( test "$CONFIG_I2C" = "y" -o "$CONFIG_I2C" = "m" ) &&
      ( test "$CONFIG_INPUT" = "y" -o "$CONFIG_INPUT" = "m" ) &&
      ( test "$CONFIG_PPC_PMAC" = "y" -o "$CONFIG_PPC_PMAC" = "m" ) ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_POWERMAC="m"
    fi
  fi
  if alsa_check_kconfig_option "powermac-auto-drc"; then
    if ( test "$CONFIG_SND_PPC" = "y" -o "$CONFIG_SND_PPC" = "m" ) &&
      ( test "$CONFIG_SND_POWERMAC" = "y" -o "$CONFIG_SND_POWERMAC" = "m" ); then
      CONFIG_SND_POWERMAC_AUTO_DRC="y"
    fi
  fi
  if alsa_check_kconfig_card "ps3"; then
    if ( test "$CONFIG_SND_PPC" = "y" -o "$CONFIG_SND_PPC" = "m" ) &&
      ( test "$CONFIG_PS3_PS3AV" = "y" -o "$CONFIG_PS3_PS3AV" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_PS3="m"
    fi
  fi
    if ( test "$CONFIG_SND_PPC" = "y" -o "$CONFIG_SND_PPC" = "m" ) &&
      ( test "$CONFIG_SND_PS3" = "y" -o "$CONFIG_SND_PS3" = "m" ); then
      CONFIG_SND_PS3_DEFAULT_START_DELAY="2000"
    fi
  if alsa_check_kconfig_card "aoa"; then
    if ( test "$CONFIG_PPC_PMAC" = "y" -o "$CONFIG_PPC_PMAC" = "m" ) &&
      ( test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 16 ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_AOA="m"
    fi
  fi
  if alsa_check_kconfig_card "aoa-fabric-layout"; then
    if ( test "$CONFIG_SND_AOA" = "y" -o "$CONFIG_SND_AOA" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_AOA_SOUNDBUS="m"
      CONFIG_SND_AOA_SOUNDBUS_I2S="m"
      CONFIG_SND_AOA_FABRIC_LAYOUT="m"
    fi
  fi
  if alsa_check_kconfig_card "aoa-onyx"; then
    if ( test "$CONFIG_SND_AOA" = "y" -o "$CONFIG_SND_AOA" = "m" ) &&
      ( test "$CONFIG_I2C" = "y" -o "$CONFIG_I2C" = "m" ) &&
      ( test "$CONFIG_I2C_POWERMAC" = "y" -o "$CONFIG_I2C_POWERMAC" = "m" ); then
      CONFIG_SND_AOA_ONYX="m"
    fi
  fi
  if alsa_check_kconfig_card "aoa-tas"; then
    if ( test "$CONFIG_SND_AOA" = "y" -o "$CONFIG_SND_AOA" = "m" ) &&
      ( test "$CONFIG_I2C" = "y" -o "$CONFIG_I2C" = "m" ) &&
      ( test "$CONFIG_I2C_POWERMAC" = "y" -o "$CONFIG_I2C_POWERMAC" = "m" ); then
      CONFIG_SND_AOA_TAS="m"
    fi
  fi
  if alsa_check_kconfig_card "aoa-toonie"; then
    if ( test "$CONFIG_SND_AOA" = "y" -o "$CONFIG_SND_AOA" = "m" ); then
      CONFIG_SND_AOA_TOONIE="m"
    fi
  fi
  if alsa_check_kconfig_card "aoa-soundbus"; then
    if ( test "$CONFIG_SND_AOA" = "y" -o "$CONFIG_SND_AOA" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_AOA_SOUNDBUS="m"
    fi
  fi
  if alsa_check_kconfig_card "aoa-soundbus-i2s"; then
    if ( test "$CONFIG_SND_AOA" = "y" -o "$CONFIG_SND_AOA" = "m" ) &&
      ( ( test "$CONFIG_SND_AOA_SOUNDBUS" = "y" -o "$CONFIG_SND_AOA_SOUNDBUS" = "m" ) &&
      ( test "$CONFIG_PCI" = "y" -o "$CONFIG_PCI" = "m" ) ); then
      CONFIG_SND_AOA_SOUNDBUS_I2S="m"
    fi
  fi
    if ( test "$CONFIG_ARM" = "y" -o "$CONFIG_ARM" = "m" ); then
      CONFIG_SND_ARM="y"
    fi
  if alsa_check_kconfig_card "armaaci"; then
    if ( test "$CONFIG_SND_ARM" = "y" -o "$CONFIG_SND_ARM" = "m" ) &&
      ( test "$CONFIG_ARM_AMBA" = "y" -o "$CONFIG_ARM_AMBA" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_PCM="m"
      CONFIG_SND_AC97_CODEC="m"
      CONFIG_SND_ARMAACI="m"
    fi
  fi
  if alsa_check_kconfig_card "soc"; then
    if ( test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 10 ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 27 && CONFIG_SND_JACK="y"
      CONFIG_SND_SOC="m"
    fi
  fi
  if alsa_check_kconfig_card "pxa2xx-ac97"; then
    if ( test "$CONFIG_SND_ARM" = "y" -o "$CONFIG_SND_ARM" = "m" ) &&
      ( test "$CONFIG_ARCH_PXA" = "y" -o "$CONFIG_ARCH_PXA" = "m" ) &&
      ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_AC97_CODEC="m"
      test "$kversion.$kpatchlevel" = "2.6" && CONFIG_SND_PXA2XX_PCM="m"
      CONFIG_SND_AC97_CODEC="m"
      CONFIG_SND_PXA2XX_LIB="m"
      CONFIG_SND_PXA2XX_LIB_AC97="y"
      CONFIG_SND_AC97_CODEC="m"
      CONFIG_SND_PXA2XX_AC97="m"
    fi
  fi
  if alsa_check_kconfig_card "sa11xx-uda1341"; then
    if ( test "$CONFIG_SND_ARM" = "y" -o "$CONFIG_SND_ARM" = "m" ) &&
      ( ( test "$CONFIG_ARCH_SA1100" = "y" -o "$CONFIG_ARCH_SA1100" = "m" ) &&
      ( test "$CONFIG_L3" = "y" -o "$CONFIG_L3" = "m" ) ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_SA11XX_UDA1341="m"
    fi
  fi
  if alsa_check_kconfig_card "s3c2410"; then
    if ( test "$CONFIG_SND_ARM" = "y" -o "$CONFIG_SND_ARM" = "m" ) &&
      ( test "$CONFIG_ARCH_S3C2410" = "y" -o "$CONFIG_ARCH_S3C2410" = "m" ) &&
      ( test "$CONFIG_I2C_SENSOR" = "y" -o "$CONFIG_I2C_SENSOR" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_S3C2410="m"
    fi
  fi
    if ( test "$CONFIG_SPI" = "y" -o "$CONFIG_SPI" = "m" ); then
      CONFIG_SND_SPI="y"
    fi
  if alsa_check_kconfig_card "at73c213"; then
    if ( test "$CONFIG_SND_SPI" = "y" -o "$CONFIG_SND_SPI" = "m" ) &&
      ( test "$CONFIG_ATMEL_SSC" = "y" -o "$CONFIG_ATMEL_SSC" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_AT73C213="m"
    fi
  fi
    if ( test "$CONFIG_SND_SPI" = "y" -o "$CONFIG_SND_SPI" = "m" ) &&
      ( test "$CONFIG_SND_AT73C213" = "y" -o "$CONFIG_SND_AT73C213" = "m" ); then
      CONFIG_SND_AT73C213_TARGET_BITRATE="48000"
    fi
    if ( test "$CONFIG_MIPS" = "y" -o "$CONFIG_MIPS" = "m" ); then
      CONFIG_SND_MIPS="y"
    fi
  if alsa_check_kconfig_card "sgi-o2"; then
    if ( test "$CONFIG_SND_MIPS" = "y" -o "$CONFIG_SND_MIPS" = "m" ) &&
      ( test "$CONFIG_SGI_IP32" = "y" -o "$CONFIG_SGI_IP32" = "m" ); then
      CONFIG_SND_SGI_O2="m"
    fi
  fi
  if alsa_check_kconfig_card "sgi-hal2"; then
    if ( test "$CONFIG_SND_MIPS" = "y" -o "$CONFIG_SND_MIPS" = "m" ) &&
      ( test "$CONFIG_SGI_HAS_HAL2" = "y" -o "$CONFIG_SGI_HAS_HAL2" = "m" ); then
      CONFIG_SND_SGI_HAL2="m"
    fi
  fi
  if alsa_check_kconfig_card "au1x00"; then
    if ( test "$CONFIG_SND_MIPS" = "y" -o "$CONFIG_SND_MIPS" = "m" ) &&
      ( ( test "$CONFIG_SOC_AU1000" = "y" -o "$CONFIG_SOC_AU1000" = "m" ) ||
      ( test "$CONFIG_SOC_AU1100" = "y" -o "$CONFIG_SOC_AU1100" = "m" ) ||
      ( test "$CONFIG_SOC_AU1500" = "y" -o "$CONFIG_SOC_AU1500" = "m" ) ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_PCM="m"
      CONFIG_SND_AC97_CODEC="m"
      CONFIG_SND_AU1X00="m"
    fi
  fi
    if ( test "$CONFIG_SUPERH" = "y" -o "$CONFIG_SUPERH" = "m" ); then
      CONFIG_SND_SUPERH="y"
    fi
  if alsa_check_kconfig_card "sh-dac-audio"; then
    if ( test "$CONFIG_SND_SUPERH" = "y" -o "$CONFIG_SND_SUPERH" = "m" ) &&
      ( ( test "$CONFIG_CPU_SH3" = "y" -o "$CONFIG_CPU_SH3" = "m" ) &&
      ( test "$CONFIG_HIGH_RES_TIMERS" = "y" -o "$CONFIG_HIGH_RES_TIMERS" = "m" ) ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_SH_DAC_AUDIO="m"
    fi
  fi
    if ( test "$CONFIG_USB" = "y" -o "$CONFIG_USB" = "m" ); then
      CONFIG_SND_USB="y"
    fi
  if alsa_check_kconfig_card "usb-audio"; then
    if ( ( test "$CONFIG_SND_USB" = "y" -o "$CONFIG_SND_USB" = "m" ) &&
      ( test "$CONFIG_USB" = "y" -o "$CONFIG_USB" = "m" ) ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_HWDEP="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_USB_AUDIO="m"
    fi
  fi
  if alsa_check_kconfig_card "usb-ua101"; then
    if ( ( test "$CONFIG_SND_USB" = "y" -o "$CONFIG_SND_USB" = "m" ) &&
      ( test "$CONFIG_USB" = "y" -o "$CONFIG_USB" = "m" ) ) &&
      ( test "$CONFIG_EXPERIMENTAL" = "y" -o "$CONFIG_EXPERIMENTAL" = "m" ) &&
      ( test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 32 ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_USB_UA101="m"
    fi
  fi
  if alsa_check_kconfig_card "usb-usx2y"; then
    if ( ( test "$CONFIG_SND_USB" = "y" -o "$CONFIG_SND_USB" = "m" ) &&
      ( test "$CONFIG_USB" = "y" -o "$CONFIG_USB" = "m" ) ) &&
      ( ( test "$CONFIG_X86" = "y" -o "$CONFIG_X86" = "m" ) ||
      ( test "$CONFIG_PPC" = "y" -o "$CONFIG_PPC" = "m" ) ||
      ( test "$CONFIG_ALPHA" = "y" -o "$CONFIG_ALPHA" = "m" ) ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_HWDEP="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_USB_USX2Y="m"
    fi
  fi
  if alsa_check_kconfig_card "usb-caiaq"; then
    if ( ( test "$CONFIG_SND_USB" = "y" -o "$CONFIG_SND_USB" = "m" ) &&
      ( test "$CONFIG_USB" = "y" -o "$CONFIG_USB" = "m" ) ) &&
      ( test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 15 ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_HWDEP="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_USB_CAIAQ="m"
    fi
  fi
  if alsa_check_kconfig_option "usb-caiaq-input"; then
    if ( ( test "$CONFIG_SND_USB" = "y" -o "$CONFIG_SND_USB" = "m" ) &&
      ( test "$CONFIG_USB" = "y" -o "$CONFIG_USB" = "m" ) ) &&
      ( test "$CONFIG_SND_USB_CAIAQ" = "y" -o "$CONFIG_SND_USB_CAIAQ" = "m" ) &&
      ( test "$CONFIG_INPUT" = "y" -o "$CONFIG_INPUT" = "m" ); then
      CONFIG_SND_USB_CAIAQ_INPUT="y"
    fi
  fi
  if alsa_check_kconfig_card "usb-us122l"; then
    if ( ( test "$CONFIG_SND_USB" = "y" -o "$CONFIG_SND_USB" = "m" ) &&
      ( test "$CONFIG_USB" = "y" -o "$CONFIG_USB" = "m" ) ) &&
      ( ( test "$CONFIG_X86" = "y" -o "$CONFIG_X86" = "m" ) &&
      ( test "$CONFIG_EXPERIMENTAL" = "y" -o "$CONFIG_EXPERIMENTAL" = "m" ) ) &&
      ( test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 26 ); then
      CONFIG_SND_HWDEP="m"
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_USB_US122L="m"
    fi
  fi
    if ( test "$CONFIG_PCMCIA" = "y" -o "$CONFIG_PCMCIA" = "m" ); then
      CONFIG_SND_PCMCIA="y"
    fi
  if alsa_check_kconfig_card "vxpocket"; then
    if ( ( test "$CONFIG_SND_PCMCIA" = "y" -o "$CONFIG_SND_PCMCIA" = "m" ) &&
      ( test "$CONFIG_PCMCIA" = "y" -o "$CONFIG_PCMCIA" = "m" ) ); then
      CONFIG_SND_HWDEP="m"
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_VX_LIB="m"
      CONFIG_SND_VXPOCKET="m"
    fi
  fi
  if alsa_check_kconfig_card "pdaudiocf"; then
    if ( ( test "$CONFIG_SND_PCMCIA" = "y" -o "$CONFIG_SND_PCMCIA" = "m" ) &&
      ( test "$CONFIG_PCMCIA" = "y" -o "$CONFIG_PCMCIA" = "m" ) ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_PDAUDIOCF="m"
    fi
  fi
    if ( test "$CONFIG_SPARC" = "y" -o "$CONFIG_SPARC" = "m" ); then
      CONFIG_SND_SPARC="y"
    fi
  if alsa_check_kconfig_card "sun-amd7930"; then
    if ( test "$CONFIG_SND_SPARC" = "y" -o "$CONFIG_SND_SPARC" = "m" ) &&
      ( test "$CONFIG_SBUS" = "y" -o "$CONFIG_SBUS" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_SUN_AMD7930="m"
    fi
  fi
  if alsa_check_kconfig_card "sun-cs4231"; then
    if ( test "$CONFIG_SND_SPARC" = "y" -o "$CONFIG_SND_SPARC" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_SUN_CS4231="m"
    fi
  fi
  if alsa_check_kconfig_card "sun-dbri"; then
    if ( test "$CONFIG_SND_SPARC" = "y" -o "$CONFIG_SND_SPARC" = "m" ) &&
      ( test "$CONFIG_SBUS" = "y" -o "$CONFIG_SBUS" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_SUN_DBRI="m"
    fi
  fi
    if ( test "$CONFIG_GSC" = "y" -o "$CONFIG_GSC" = "m" ); then
      CONFIG_SND_GSC="y"
    fi
  if alsa_check_kconfig_card "harmony"; then
    if ( test "$CONFIG_SND_GSC" = "y" -o "$CONFIG_SND_GSC" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_HARMONY="m"
    fi
  fi
  if alsa_check_kconfig_card "atmel-soc"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_ARCH_AT91" = "y" -o "$CONFIG_ARCH_AT91" = "m" ) ||
      ( test "$CONFIG_AVR32" = "y" -o "$CONFIG_AVR32" = "m" ) ); then
      CONFIG_SND_ATMEL_SOC="m"
    fi
  fi
  if alsa_check_kconfig_card "at91-soc-sam9g20-wm8731"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_ATMEL_SSC" = "y" -o "$CONFIG_ATMEL_SSC" = "m" ) &&
      ( test "$CONFIG_ARCH_AT91SAM9G20" = "y" -o "$CONFIG_ARCH_AT91SAM9G20" = "m" ) &&
      ( test "$CONFIG_SND_ATMEL_SOC" = "y" -o "$CONFIG_SND_ATMEL_SOC" = "m" ) ); then
      CONFIG_SND_ATMEL_SOC_SSC="m"
      CONFIG_SND_SOC_WM8731="m"
      CONFIG_SND_AT91_SOC_SAM9G20_WM8731="m"
    fi
  fi
  if alsa_check_kconfig_card "at32-soc-playpaq"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_SND_ATMEL_SOC" = "y" -o "$CONFIG_SND_ATMEL_SOC" = "m" ) &&
      ( test "$CONFIG_BOARD_PLAYPAQ" = "y" -o "$CONFIG_BOARD_PLAYPAQ" = "m" ) ); then
      CONFIG_SND_ATMEL_SOC_SSC="m"
      CONFIG_SND_SOC_WM8510="m"
      CONFIG_SND_AT32_SOC_PLAYPAQ="m"
    fi
  fi
  if alsa_check_kconfig_option "at32-soc-playpaq-slave"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( test "$CONFIG_SND_AT32_SOC_PLAYPAQ" = "y" -o "$CONFIG_SND_AT32_SOC_PLAYPAQ" = "m" ); then
      CONFIG_SND_AT32_SOC_PLAYPAQ_SLAVE="y"
    fi
  fi
  if alsa_check_kconfig_card "at91-soc-afeb9260"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_ARCH_AT91" = "y" -o "$CONFIG_ARCH_AT91" = "m" ) &&
      ( test "$CONFIG_MACH_AFEB9260" = "y" -o "$CONFIG_MACH_AFEB9260" = "m" ) &&
      ( test "$CONFIG_SND_ATMEL_SOC" = "y" -o "$CONFIG_SND_ATMEL_SOC" = "m" ) ); then
      CONFIG_SND_ATMEL_SOC_SSC="m"
      CONFIG_SND_SOC_TLV320AIC23="m"
      CONFIG_SND_AT91_SOC_AFEB9260="m"
    fi
  fi
  if alsa_check_kconfig_card "soc-au1xpsc"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_SOC_AU1200" = "y" -o "$CONFIG_SOC_AU1200" = "m" ) ||
      ( test "$CONFIG_SOC_AU1550" = "y" -o "$CONFIG_SOC_AU1550" = "m" ) ); then
      CONFIG_SND_SOC_AU1XPSC="m"
    fi
  fi
  if alsa_check_kconfig_card "soc-sample-psc-ac97"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( test "$CONFIG_SND_SOC_AU1XPSC" = "y" -o "$CONFIG_SND_SOC_AU1XPSC" = "m" ); then
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_AC97_CODEC="m"
      CONFIG_SND_SOC_AC97_BUS="y"
      CONFIG_SND_SOC_AU1XPSC_AC97="m"
      CONFIG_SND_SOC_AC97_CODEC="m"
      CONFIG_SND_SOC_SAMPLE_PSC_AC97="m"
    fi
  fi
  if alsa_check_kconfig_card "bf5xx-i2s"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( test "$CONFIG_BLACKFIN" = "y" -o "$CONFIG_BLACKFIN" = "m" ); then
      CONFIG_SND_BF5XX_I2S="m"
    fi
  fi
  if alsa_check_kconfig_card "bf5xx-soc-ssm2602"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( test "$CONFIG_SND_BF5XX_I2S" = "y" -o "$CONFIG_SND_BF5XX_I2S" = "m" ) &&
      ( test "$CONFIG_I2C" = "y" -o "$CONFIG_I2C" = "m" ); then
      CONFIG_SND_BF5XX_SOC_SPORT="m"
      CONFIG_SND_BF5XX_SOC_I2S="m"
      CONFIG_SND_SOC_SSM2602="m"
      CONFIG_SND_BF5XX_SOC_SSM2602="m"
    fi
  fi
  if alsa_check_kconfig_card "bf5xx-soc-ad73311"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( test "$CONFIG_SND_BF5XX_I2S" = "y" -o "$CONFIG_SND_BF5XX_I2S" = "m" ); then
      CONFIG_SND_BF5XX_SOC_SPORT="m"
      CONFIG_SND_BF5XX_SOC_I2S="m"
      CONFIG_SND_SOC_AD73311="m"
      CONFIG_SND_BF5XX_SOC_AD73311="m"
    fi
  fi
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( test "$CONFIG_SND_BF5XX_SOC_AD73311" = "y" -o "$CONFIG_SND_BF5XX_SOC_AD73311" = "m" ); then
      CONFIG_SND_BFIN_AD73311_SE="4"
    fi
  if alsa_check_kconfig_card "bf5xx-tdm"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( ( test "$CONFIG_BLACKFIN" = "y" -o "$CONFIG_BLACKFIN" = "m" ) &&
      ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) ) ); then
      CONFIG_SND_BF5XX_TDM="m"
    fi
  fi
  if alsa_check_kconfig_card "bf5xx-soc-ad1836"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( test "$CONFIG_SND_BF5XX_TDM" = "y" -o "$CONFIG_SND_BF5XX_TDM" = "m" ); then
      CONFIG_SND_BF5XX_SOC_SPORT="m"
      CONFIG_SND_BF5XX_SOC_TDM="m"
      CONFIG_SND_SOC_AD1836="m"
      CONFIG_SND_BF5XX_SOC_AD1836="m"
    fi
  fi
  if alsa_check_kconfig_card "bf5xx-soc-ad1938"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( test "$CONFIG_SND_BF5XX_TDM" = "y" -o "$CONFIG_SND_BF5XX_TDM" = "m" ); then
      CONFIG_SND_BF5XX_SOC_SPORT="m"
      CONFIG_SND_BF5XX_SOC_TDM="m"
      CONFIG_SND_SOC_AD1938="m"
      CONFIG_SND_BF5XX_SOC_AD1938="m"
    fi
  fi
  if alsa_check_kconfig_card "bf5xx-ac97"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( test "$CONFIG_BLACKFIN" = "y" -o "$CONFIG_BLACKFIN" = "m" ); then
      CONFIG_SND_BF5XX_AC97="m"
    fi
  fi
  if alsa_check_kconfig_option "bf5xx-mmap-support"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( test "$CONFIG_SND_BF5XX_AC97" = "y" -o "$CONFIG_SND_BF5XX_AC97" = "m" ); then
      CONFIG_SND_BF5XX_MMAP_SUPPORT="y"
    fi
  fi
  if alsa_check_kconfig_option "bf5xx-multichan-support"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( test "$CONFIG_SND_BF5XX_AC97" = "y" -o "$CONFIG_SND_BF5XX_AC97" = "m" ); then
      CONFIG_SND_BF5XX_MULTICHAN_SUPPORT="y"
    fi
  fi
  if alsa_check_kconfig_option "bf5xx-have-cold-reset"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( test "$CONFIG_SND_BF5XX_AC97" = "y" -o "$CONFIG_SND_BF5XX_AC97" = "m" ); then
      CONFIG_SND_BF5XX_HAVE_COLD_RESET="y"
    fi
  fi
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( test "$CONFIG_SND_BF5XX_HAVE_COLD_RESET" = "y" -o "$CONFIG_SND_BF5XX_HAVE_COLD_RESET" = "m" ); then
      CONFIG_SND_BF5XX_RESET_GPIO_NUM="0"
    fi
  if alsa_check_kconfig_card "bf5xx-soc-ad1980"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( test "$CONFIG_SND_BF5XX_AC97" = "y" -o "$CONFIG_SND_BF5XX_AC97" = "m" ); then
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_SOC_AC97_BUS="y"
      CONFIG_SND_BF5XX_SOC_SPORT="m"
      CONFIG_SND_BF5XX_SOC_AC97="m"
      CONFIG_SND_SOC_AD1980="m"
      CONFIG_SND_BF5XX_SOC_AD1980="m"
    fi
  fi
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( ( test "$CONFIG_SND_BF5XX_I2S" = "y" -o "$CONFIG_SND_BF5XX_I2S" = "m" ) ||
      ( test "$CONFIG_SND_BF5XX_AC97" = "y" -o "$CONFIG_SND_BF5XX_AC97" = "m" ) ||
      ( test "$CONFIG_SND_BF5XX_TDM" = "y" -o "$CONFIG_SND_BF5XX_TDM" = "m" ) ) ); then
      CONFIG_SND_BF5XX_SPORT_NUM="0"
    fi
  if alsa_check_kconfig_card "davinci-soc"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( test "$CONFIG_ARCH_DAVINCI" = "y" -o "$CONFIG_ARCH_DAVINCI" = "m" ); then
      CONFIG_SND_DAVINCI_SOC="m"
    fi
  fi
  if alsa_check_kconfig_card "davinci-soc-evm"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( test "$CONFIG_SND_DAVINCI_SOC" = "y" -o "$CONFIG_SND_DAVINCI_SOC" = "m" ) &&
      ( ( test "$CONFIG_MACH_DAVINCI_EVM" = "y" -o "$CONFIG_MACH_DAVINCI_EVM" = "m" ) ||
      ( test "$CONFIG_MACH_DAVINCI_DM355_EVM" = "y" -o "$CONFIG_MACH_DAVINCI_DM355_EVM" = "m" ) ||
      ( test "$CONFIG_MACH_DAVINCI_DM365_EVM" = "y" -o "$CONFIG_MACH_DAVINCI_DM365_EVM" = "m" ) ); then
      CONFIG_SND_DAVINCI_SOC_I2S="m"
      CONFIG_SND_SOC_TLV320AIC3X="m"
      CONFIG_SND_DAVINCI_SOC_EVM="m"
    fi
  fi
  if alsa_check_kconfig_card "dm6467-soc-evm"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_SND_DAVINCI_SOC" = "y" -o "$CONFIG_SND_DAVINCI_SOC" = "m" ) &&
      ( test "$CONFIG_MACH_DAVINCI_DM6467_EVM" = "y" -o "$CONFIG_MACH_DAVINCI_DM6467_EVM" = "m" ) ); then
      CONFIG_SND_DAVINCI_SOC_MCASP="m"
      CONFIG_SND_SOC_TLV320AIC3X="m"
      CONFIG_SND_SOC_SPDIF="m"
      CONFIG_SND_DM6467_SOC_EVM="m"
    fi
  fi
  if alsa_check_kconfig_card "da830-soc-evm"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_SND_DAVINCI_SOC" = "y" -o "$CONFIG_SND_DAVINCI_SOC" = "m" ) &&
      ( test "$CONFIG_MACH_DAVINCI_DA830_EVM" = "y" -o "$CONFIG_MACH_DAVINCI_DA830_EVM" = "m" ) ); then
      CONFIG_SND_DAVINCI_SOC_MCASP="m"
      CONFIG_SND_SOC_TLV320AIC3X="m"
      CONFIG_SND_DA830_SOC_EVM="m"
    fi
  fi
  if alsa_check_kconfig_card "da850-soc-evm"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_SND_DAVINCI_SOC" = "y" -o "$CONFIG_SND_DAVINCI_SOC" = "m" ) &&
      ( test "$CONFIG_MACH_DAVINCI_DA850_EVM" = "y" -o "$CONFIG_MACH_DAVINCI_DA850_EVM" = "m" ) ); then
      CONFIG_SND_DAVINCI_SOC_MCASP="m"
      CONFIG_SND_SOC_TLV320AIC3X="m"
      CONFIG_SND_DA850_SOC_EVM="m"
    fi
  fi
  if alsa_check_kconfig_card "soc-mpc8610-hpcd"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_MPC8610_HPCD" = "y" -o "$CONFIG_MPC8610_HPCD" = "m" ) &&
      ( test "$CONFIG_I2C" = "y" -o "$CONFIG_I2C" = "m" ) ); then
      CONFIG_SND_SOC_MPC8610="m"
      CONFIG_SND_SOC_CS4270="m"
      CONFIG_SND_SOC_CS4270_VD33_ERRATA="y"
      CONFIG_SND_SOC_MPC8610_HPCD="m"
    fi
  fi
  if alsa_check_kconfig_card "soc-mpc5200-i2s"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_PPC_MPC52xx" = "y" -o "$CONFIG_PPC_MPC52xx" = "m" ) &&
      ( test "$CONFIG_PPC_BESTCOMM" = "y" -o "$CONFIG_PPC_BESTCOMM" = "m" ) ) &&
      ( test "$CONFIG_PPC_BESTCOMM_GEN_BD" = "y" -o "$CONFIG_PPC_BESTCOMM_GEN_BD" = "m" ); then
      CONFIG_SND_MPC52xx_DMA="m"
      CONFIG_SND_SOC_MPC5200_I2S="m"
    fi
  fi
  if alsa_check_kconfig_card "soc-mpc5200-ac97"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_PPC_MPC52xx" = "y" -o "$CONFIG_PPC_MPC52xx" = "m" ) &&
      ( test "$CONFIG_PPC_BESTCOMM" = "y" -o "$CONFIG_PPC_BESTCOMM" = "m" ) ) &&
      ( test "$CONFIG_PPC_BESTCOMM_GEN_BD" = "y" -o "$CONFIG_PPC_BESTCOMM_GEN_BD" = "m" ); then
      CONFIG_SND_SOC_AC97_BUS="y"
      CONFIG_SND_MPC52xx_DMA="m"
      CONFIG_SND_SOC_MPC5200_AC97="m"
    fi
  fi
  if alsa_check_kconfig_card "mpc52xx-soc-pcm030"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( test "$CONFIG_PPC_MPC5200_SIMPLE" = "y" -o "$CONFIG_PPC_MPC5200_SIMPLE" = "m" ); then
      CONFIG_SND_SOC_AC97_BUS="y"
      CONFIG_SND_MPC52xx_DMA="m"
      CONFIG_SND_SOC_MPC5200_AC97="m"
      CONFIG_SND_SOC_WM9712="m"
      CONFIG_SND_MPC52XX_SOC_PCM030="m"
    fi
  fi
  if alsa_check_kconfig_card "mpc52xx-soc-efika"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( test "$CONFIG_PPC_EFIKA" = "y" -o "$CONFIG_PPC_EFIKA" = "m" ); then
      CONFIG_SND_SOC_AC97_BUS="y"
      CONFIG_SND_MPC52xx_DMA="m"
      CONFIG_SND_SOC_MPC5200_AC97="m"
      CONFIG_SND_SOC_STAC9766="m"
      CONFIG_SND_MPC52XX_SOC_EFIKA="m"
    fi
  fi
  if alsa_check_kconfig_card "mx1-mx2-soc"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_ARCH_MX2" = "y" -o "$CONFIG_ARCH_MX2" = "m" ) ||
      ( test "$CONFIG_ARCH_MX1" = "y" -o "$CONFIG_ARCH_MX1" = "m" ) ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_MX1_MX2_SOC="m"
    fi
  fi
  if alsa_check_kconfig_card "soc-mx27vis-wm8974"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_SND_MX1_MX2_SOC" = "y" -o "$CONFIG_SND_MX1_MX2_SOC" = "m" ) &&
      ( test "$CONFIG_MACH_MX27" = "y" -o "$CONFIG_MACH_MX27" = "m" ) &&
      ( test "$CONFIG_MACH_IMX27_VISSTRIM_M10" = "y" -o "$CONFIG_MACH_IMX27_VISSTRIM_M10" = "m" ) ); then
      CONFIG_SND_MXC_SOC_SSI="m"
      CONFIG_SND_SOC_WM8974="m"
      CONFIG_SND_SOC_MX27VIS_WM8974="m"
    fi
  fi
  if alsa_check_kconfig_card "omap-soc"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( test "$CONFIG_ARCH_OMAP" = "y" -o "$CONFIG_ARCH_OMAP" = "m" ); then
      CONFIG_SND_OMAP_SOC="m"
    fi
  fi
  if alsa_check_kconfig_card "omap-soc-ams-delta"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_SND_OMAP_SOC" = "y" -o "$CONFIG_SND_OMAP_SOC" = "m" ) &&
      ( test "$CONFIG_MACH_AMS_DELTA" = "y" -o "$CONFIG_MACH_AMS_DELTA" = "m" ) ); then
      CONFIG_SND_OMAP_SOC_MCBSP="m"
      CONFIG_SND_SOC_CX20442="m"
      CONFIG_SND_OMAP_SOC_AMS_DELTA="m"
    fi
  fi
  if alsa_check_kconfig_card "omap-soc-osk5912"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_SND_OMAP_SOC" = "y" -o "$CONFIG_SND_OMAP_SOC" = "m" ) &&
      ( test "$CONFIG_MACH_OMAP_OSK" = "y" -o "$CONFIG_MACH_OMAP_OSK" = "m" ) &&
      ( test "$CONFIG_I2C" = "y" -o "$CONFIG_I2C" = "m" ) ); then
      CONFIG_SND_OMAP_SOC_MCBSP="m"
      CONFIG_SND_SOC_TLV320AIC23="m"
      CONFIG_SND_OMAP_SOC_OSK5912="m"
    fi
  fi
  if alsa_check_kconfig_card "omap-soc-am3517evm"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_SND_OMAP_SOC" = "y" -o "$CONFIG_SND_OMAP_SOC" = "m" ) &&
      ( test "$CONFIG_MACH_OMAP3517EVM" = "y" -o "$CONFIG_MACH_OMAP3517EVM" = "m" ) &&
      ( test "$CONFIG_I2C" = "y" -o "$CONFIG_I2C" = "m" ) ); then
      CONFIG_SND_OMAP_SOC_MCBSP="m"
      CONFIG_SND_SOC_TLV320AIC23="m"
      CONFIG_SND_OMAP_SOC_AM3517EVM="m"
    fi
  fi
  if alsa_check_kconfig_card "pxa2xx-soc"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( test "$CONFIG_ARCH_PXA" = "y" -o "$CONFIG_ARCH_PXA" = "m" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_AC97_CODEC="m"
      CONFIG_SND_PXA2XX_LIB="m"
      CONFIG_SND_PXA2XX_SOC="m"
    fi
  fi
  if alsa_check_kconfig_card "pxa2xx-soc-corgi"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_SND_PXA2XX_SOC" = "y" -o "$CONFIG_SND_PXA2XX_SOC" = "m" ) &&
      ( test "$CONFIG_PXA_SHARP_C7xx" = "y" -o "$CONFIG_PXA_SHARP_C7xx" = "m" ) ); then
      CONFIG_SND_PXA2XX_SOC_I2S="m"
      CONFIG_SND_SOC_WM8731="m"
      CONFIG_SND_PXA2XX_SOC_CORGI="m"
    fi
  fi
  if alsa_check_kconfig_card "pxa2xx-soc-spitz"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_SND_PXA2XX_SOC" = "y" -o "$CONFIG_SND_PXA2XX_SOC" = "m" ) &&
      ( test "$CONFIG_PXA_SHARP_Cxx00" = "y" -o "$CONFIG_PXA_SHARP_Cxx00" = "m" ) ); then
      CONFIG_SND_PXA2XX_SOC_I2S="m"
      CONFIG_SND_SOC_WM8750="m"
      CONFIG_SND_PXA2XX_SOC_SPITZ="m"
    fi
  fi
  if alsa_check_kconfig_card "pxa2xx-soc-poodle"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_SND_PXA2XX_SOC" = "y" -o "$CONFIG_SND_PXA2XX_SOC" = "m" ) &&
      ( test "$CONFIG_MACH_POODLE" = "y" -o "$CONFIG_MACH_POODLE" = "m" ) ); then
      CONFIG_SND_PXA2XX_SOC_I2S="m"
      CONFIG_SND_SOC_WM8731="m"
      CONFIG_SND_PXA2XX_SOC_POODLE="m"
    fi
  fi
  if alsa_check_kconfig_card "pxa2xx-soc-tosa"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_SND_PXA2XX_SOC" = "y" -o "$CONFIG_SND_PXA2XX_SOC" = "m" ) &&
      ( test "$CONFIG_MACH_TOSA" = "y" -o "$CONFIG_MACH_TOSA" = "m" ) ) &&
      ( test "$CONFIG_MFD_TC6393XB" = "y" -o "$CONFIG_MFD_TC6393XB" = "m" ); then
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_ARM="y"
      CONFIG_SND_PXA2XX_LIB_AC97="y"
      CONFIG_SND_SOC_AC97_BUS="y"
      CONFIG_SND_PXA2XX_SOC_AC97="m"
      CONFIG_SND_SOC_WM9712="m"
      CONFIG_SND_PXA2XX_SOC_TOSA="m"
    fi
  fi
  if alsa_check_kconfig_card "pxa2xx-soc-e740"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_SND_PXA2XX_SOC" = "y" -o "$CONFIG_SND_PXA2XX_SOC" = "m" ) &&
      ( test "$CONFIG_MACH_E740" = "y" -o "$CONFIG_MACH_E740" = "m" ) ); then
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_ARM="y"
      CONFIG_SND_PXA2XX_LIB_AC97="y"
      CONFIG_SND_SOC_AC97_BUS="y"
      CONFIG_SND_SOC_WM9705="m"
      CONFIG_SND_PXA2XX_SOC_AC97="m"
      CONFIG_SND_PXA2XX_SOC_E740="m"
    fi
  fi
  if alsa_check_kconfig_card "pxa2xx-soc-e750"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_SND_PXA2XX_SOC" = "y" -o "$CONFIG_SND_PXA2XX_SOC" = "m" ) &&
      ( test "$CONFIG_MACH_E750" = "y" -o "$CONFIG_MACH_E750" = "m" ) ); then
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_ARM="y"
      CONFIG_SND_PXA2XX_LIB_AC97="y"
      CONFIG_SND_SOC_AC97_BUS="y"
      CONFIG_SND_SOC_WM9705="m"
      CONFIG_SND_PXA2XX_SOC_AC97="m"
      CONFIG_SND_PXA2XX_SOC_E750="m"
    fi
  fi
  if alsa_check_kconfig_card "pxa2xx-soc-e800"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_SND_PXA2XX_SOC" = "y" -o "$CONFIG_SND_PXA2XX_SOC" = "m" ) &&
      ( test "$CONFIG_MACH_E800" = "y" -o "$CONFIG_MACH_E800" = "m" ) ); then
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_ARM="y"
      CONFIG_SND_PXA2XX_LIB_AC97="y"
      CONFIG_SND_SOC_AC97_BUS="y"
      CONFIG_SND_SOC_WM9712="m"
      CONFIG_SND_PXA2XX_SOC_AC97="m"
      CONFIG_SND_PXA2XX_SOC_E800="m"
    fi
  fi
  if alsa_check_kconfig_card "pxa2xx-soc-em-x270"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_SND_PXA2XX_SOC" = "y" -o "$CONFIG_SND_PXA2XX_SOC" = "m" ) &&
      ( ( test "$CONFIG_MACH_EM_X270" = "y" -o "$CONFIG_MACH_EM_X270" = "m" ) ||
      ( test "$CONFIG_MACH_EXEDA" = "y" -o "$CONFIG_MACH_EXEDA" = "m" ) ||
      ( test "$CONFIG_MACH_CM_X300" = "y" -o "$CONFIG_MACH_CM_X300" = "m" ) ) ); then
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_ARM="y"
      CONFIG_SND_PXA2XX_LIB_AC97="y"
      CONFIG_SND_SOC_AC97_BUS="y"
      CONFIG_SND_PXA2XX_SOC_AC97="m"
      CONFIG_SND_SOC_WM9712="m"
      CONFIG_SND_PXA2XX_SOC_EM_X270="m"
    fi
  fi
  if alsa_check_kconfig_option "pxa2xx-soc-palm27x"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_SND_PXA2XX_SOC" = "y" -o "$CONFIG_SND_PXA2XX_SOC" = "m" ) &&
      ( ( test "$CONFIG_MACH_PALMLD" = "y" -o "$CONFIG_MACH_PALMLD" = "m" ) ||
      ( test "$CONFIG_MACH_PALMTX" = "y" -o "$CONFIG_MACH_PALMTX" = "m" ) ||
      ( test "$CONFIG_MACH_PALMT5" = "y" -o "$CONFIG_MACH_PALMT5" = "m" ) ||
      ( test "$CONFIG_MACH_PALMTE2" = "y" -o "$CONFIG_MACH_PALMTE2" = "m" ) ) ); then
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_ARM="y"
      CONFIG_SND_PXA2XX_LIB_AC97="y"
      CONFIG_SND_SOC_AC97_BUS="y"
      CONFIG_SND_PXA2XX_SOC_AC97="m"
      CONFIG_SND_SOC_WM9712="m"
      CONFIG_SND_PXA2XX_SOC_PALM27X="y"
    fi
  fi
  if alsa_check_kconfig_card "soc-zylonite"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_SND_PXA2XX_SOC" = "y" -o "$CONFIG_SND_PXA2XX_SOC" = "m" ) &&
      ( test "$CONFIG_MACH_ZYLONITE" = "y" -o "$CONFIG_MACH_ZYLONITE" = "m" ) ); then
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_ARM="y"
      CONFIG_SND_PXA2XX_LIB_AC97="y"
      CONFIG_SND_SOC_AC97_BUS="y"
      CONFIG_SND_PXA2XX_SOC_AC97="m"
      CONFIG_SND_PXA_SOC_SSP="m"
      CONFIG_SND_SOC_WM9713="m"
      CONFIG_SND_SOC_ZYLONITE="m"
    fi
  fi
  if alsa_check_kconfig_card "soc-raumfeld"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_SND_PXA2XX_SOC" = "y" -o "$CONFIG_SND_PXA2XX_SOC" = "m" ) &&
      ( ( test "$CONFIG_MACH_RAUMFELD_SPEAKER" = "y" -o "$CONFIG_MACH_RAUMFELD_SPEAKER" = "m" ) ||
      ( test "$CONFIG_MACH_RAUMFELD_CONNECTOR" = "y" -o "$CONFIG_MACH_RAUMFELD_CONNECTOR" = "m" ) ) ); then
      CONFIG_SND_PXA_SOC_SSP="m"
      CONFIG_SND_SOC_CS4270="m"
      CONFIG_SND_SOC_AK4104="m"
      CONFIG_SND_SOC_RAUMFELD="m"
    fi
  fi
  if alsa_check_kconfig_card "pxa2xx-soc-magician"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_SND_PXA2XX_SOC" = "y" -o "$CONFIG_SND_PXA2XX_SOC" = "m" ) &&
      ( test "$CONFIG_MACH_MAGICIAN" = "y" -o "$CONFIG_MACH_MAGICIAN" = "m" ) ); then
      CONFIG_SND_PXA2XX_SOC_I2S="m"
      CONFIG_SND_PXA_SOC_SSP="m"
      CONFIG_SND_SOC_UDA1380="m"
      CONFIG_SND_PXA2XX_SOC_MAGICIAN="m"
    fi
  fi
  if alsa_check_kconfig_card "pxa2xx-soc-mioa701"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_SND_PXA2XX_SOC" = "y" -o "$CONFIG_SND_PXA2XX_SOC" = "m" ) &&
      ( test "$CONFIG_MACH_MIOA701" = "y" -o "$CONFIG_MACH_MIOA701" = "m" ) ); then
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_ARM="y"
      CONFIG_SND_PXA2XX_LIB_AC97="y"
      CONFIG_SND_SOC_AC97_BUS="y"
      CONFIG_SND_PXA2XX_SOC_AC97="m"
      CONFIG_SND_SOC_WM9713="m"
      CONFIG_SND_PXA2XX_SOC_MIOA701="m"
    fi
  fi
  if alsa_check_kconfig_card "soc-pcm-sh7760"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( test "$CONFIG_SUPERH" = "y" -o "$CONFIG_SUPERH" = "m" ) &&
      ( ( test "$CONFIG_CPU_SUBTYPE_SH7760" = "y" -o "$CONFIG_CPU_SUBTYPE_SH7760" = "m" ) &&
      ( test "$CONFIG_SH_DMABRG" = "y" -o "$CONFIG_SH_DMABRG" = "m" ) ); then
      CONFIG_SND_SOC_PCM_SH7760="m"
    fi
  fi
  if alsa_check_kconfig_card "soc-sh4-fsi"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( test "$CONFIG_SUPERH" = "y" -o "$CONFIG_SUPERH" = "m" ) &&
      ( test "$CONFIG_CPU_SUBTYPE_SH7724" = "y" -o "$CONFIG_CPU_SUBTYPE_SH7724" = "m" ); then
      CONFIG_SND_SOC_SH4_FSI="m"
    fi
  fi
  if alsa_check_kconfig_card "sh7760-ac97"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( test "$CONFIG_SUPERH" = "y" -o "$CONFIG_SUPERH" = "m" ) &&
      ( ( test "$CONFIG_CPU_SUBTYPE_SH7760" = "y" -o "$CONFIG_CPU_SUBTYPE_SH7760" = "m" ) &&
      ( test "$CONFIG_SND_SOC_PCM_SH7760" = "y" -o "$CONFIG_SND_SOC_PCM_SH7760" = "m" ) ); then
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_SOC_AC97_BUS="y"
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_AC97_CODEC="m"
      CONFIG_SND_SOC_SH4_HAC="m"
      CONFIG_SND_SOC_AC97_CODEC="m"
      CONFIG_SND_SH7760_AC97="m"
    fi
  fi
  if alsa_check_kconfig_option "fsi-ak4642"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( test "$CONFIG_SUPERH" = "y" -o "$CONFIG_SUPERH" = "m" ) &&
      ( test "$CONFIG_SND_SOC_SH4_FSI" = "y" -o "$CONFIG_SND_SOC_SH4_FSI" = "m" ); then
      CONFIG_SND_SOC_AK4642="m"
      CONFIG_SND_FSI_AK4642="y"
    fi
  fi
  if alsa_check_kconfig_option "fsi-da7210"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( test "$CONFIG_SUPERH" = "y" -o "$CONFIG_SUPERH" = "m" ) &&
      ( test "$CONFIG_SND_SOC_SH4_FSI" = "y" -o "$CONFIG_SND_SOC_SH4_FSI" = "m" ); then
      CONFIG_SND_SOC_DA7210="m"
      CONFIG_SND_FSI_DA7210="y"
    fi
  fi
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ); then
      CONFIG_SND_SOC_I2C_AND_SPI="m"
    fi
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ); then
      CONFIG_SND_SOC_WM_HUBS="m"
    fi
  if alsa_check_kconfig_card "soc-tlv320aic26"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( test "$CONFIG_SPI" = "y" -o "$CONFIG_SPI" = "m" ); then
      CONFIG_SND_SOC_TLV320AIC26="m"
    fi
  fi
    if ( ( test "$CONFIG_SND_SEQUENCER" = "y" -o "$CONFIG_SND_SEQUENCER" = "m" ) &&
      ( test "$CONFIG_SND_RAWMIDI" = "y" -o "$CONFIG_SND_RAWMIDI" = "m" ) ); then
      CONFIG_SND_RAWMIDI_SEQ="m"
    fi
  if test "$CONFIG_CONFIG_SND_OPL3_LIB" = "m" -o "$CONFIG_CONFIG_SND_OPL3_LIB" = "y"; then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_HWDEP="m"
  fi
    if ( ( test "$CONFIG_SND_SEQUENCER" = "y" -o "$CONFIG_SND_SEQUENCER" = "m" ) &&
      ( test "$CONFIG_SND_OPL3_LIB" = "y" -o "$CONFIG_SND_OPL3_LIB" = "m" ) ); then
      CONFIG_SND_OPL3_LIB_SEQ="m"
    fi
  if test "$CONFIG_CONFIG_SND_OPL4_LIB" = "m" -o "$CONFIG_CONFIG_SND_OPL4_LIB" = "y"; then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_HWDEP="m"
  fi
    if ( ( test "$CONFIG_SND_SEQUENCER" = "y" -o "$CONFIG_SND_SEQUENCER" = "m" ) &&
      ( test "$CONFIG_SND_OPL4_LIB" = "y" -o "$CONFIG_SND_OPL4_LIB" = "m" ) ); then
      CONFIG_SND_OPL4_LIB_SEQ="m"
    fi
  if test "$CONFIG_CONFIG_SND_AC97_CODEC" = "m" -o "$CONFIG_CONFIG_SND_AC97_CODEC" = "y"; then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_VMASTER="y"
  fi
  if alsa_check_kconfig_option "ac97-power-save"; then
    if ( test "$CONFIG_SND_DRIVERS" = "y" -o "$CONFIG_SND_DRIVERS" = "m" ) &&
      ( test "$CONFIG_SND_AC97_CODEC" = "y" -o "$CONFIG_SND_AC97_CODEC" = "m" ); then
      CONFIG_SND_AC97_POWER_SAVE="y"
    fi
  fi
    if ( test "$CONFIG_SND_DRIVERS" = "y" -o "$CONFIG_SND_DRIVERS" = "m" ) &&
      ( test "$CONFIG_SND_AC97_POWER_SAVE" = "y" -o "$CONFIG_SND_AC97_POWER_SAVE" = "m" ); then
      CONFIG_SND_AC97_POWER_SAVE_DEFAULT="0"
    fi
  if alsa_check_kconfig_card "ice1712"; then
    if ( test "$CONFIG_SND_PCI" = "y" -o "$CONFIG_SND_PCI" = "m" ) &&
      ( test "$CONFIG_BITREVERSE" = "y" -o "$CONFIG_BITREVERSE" = "m" ); then
      CONFIG_SND_RAWMIDI="m"
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_MPU401_UART="m"
      CONFIG_SND_AC97_CODEC="m"
      CONFIG_SND_ICE1712="m"
    fi
  fi
  if alsa_check_kconfig_card "atmel-abdac"; then
    if ( ( test "$CONFIG_AVR32" = "y" -o "$CONFIG_AVR32" = "m" ) ||
      ( test "$CONFIG_ARCH_AT91" = "y" -o "$CONFIG_ARCH_AT91" = "m" ) ) &&
      ( ( test "$CONFIG_DW_DMAC" = "y" -o "$CONFIG_DW_DMAC" = "m" ) &&
      ( test "$CONFIG_AVR32" = "y" -o "$CONFIG_AVR32" = "m" ) ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_ATMEL_ABDAC="m"
    fi
  fi
  if alsa_check_kconfig_card "atmel-ac97c"; then
    if ( ( test "$CONFIG_AVR32" = "y" -o "$CONFIG_AVR32" = "m" ) ||
      ( test "$CONFIG_ARCH_AT91" = "y" -o "$CONFIG_ARCH_AT91" = "m" ) ) &&
      ( ( test "$CONFIG_DW_DMAC" = "y" -o "$CONFIG_DW_DMAC" = "m" ) &&
      ( test "$CONFIG_AVR32" = "y" -o "$CONFIG_AVR32" = "m" ) ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_PCM="m"
      CONFIG_SND_AC97_CODEC="m"
      CONFIG_SND_ATMEL_AC97C="m"
    fi
  fi
  if alsa_check_kconfig_card "aica"; then
    if ( test "$CONFIG_SND_SUPERH" = "y" -o "$CONFIG_SND_SUPERH" = "m" ) &&
      ( test "$CONFIG_SH_DREAMCAST" = "y" -o "$CONFIG_SH_DREAMCAST" = "m" ) &&
      ( test "$CONFIG_G2_DMA" = "y" -o "$CONFIG_G2_DMA" = "m" ) &&
      ( test "$kversion.$kpatchlevel" = "2.6" ); then
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_AICA="m"
    fi
  fi
  if alsa_check_kconfig_card "davinci-soc-sffsdr"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_SND_DAVINCI_SOC" = "y" -o "$CONFIG_SND_DAVINCI_SOC" = "m" ) &&
      ( test "$CONFIG_MACH_SFFSDR" = "y" -o "$CONFIG_MACH_SFFSDR" = "m" ) ) &&
      ( test "$CONFIG_SFFSDR_FPGA" = "y" -o "$CONFIG_SFFSDR_FPGA" = "m" ); then
      CONFIG_SND_DAVINCI_SOC_I2S="m"
      CONFIG_SND_SOC_PCM3008="m"
      CONFIG_SND_DAVINCI_SOC_SFFSDR="m"
    fi
  fi
  if alsa_check_kconfig_card "omap-soc-n810"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_SND_OMAP_SOC" = "y" -o "$CONFIG_SND_OMAP_SOC" = "m" ) &&
      ( test "$CONFIG_MACH_NOKIA_N810" = "y" -o "$CONFIG_MACH_NOKIA_N810" = "m" ) &&
      ( test "$CONFIG_I2C" = "y" -o "$CONFIG_I2C" = "m" ) ) &&
      ( test "$CONFIG_OMAP_MUX" = "y" -o "$CONFIG_OMAP_MUX" = "m" ); then
      CONFIG_SND_OMAP_SOC_MCBSP="m"
      CONFIG_SND_SOC_TLV320AIC3X="m"
      CONFIG_SND_OMAP_SOC_N810="m"
    fi
  fi
  if alsa_check_kconfig_card "omap-soc-overo"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_TWL4030_CORE" = "y" -o "$CONFIG_TWL4030_CORE" = "m" ) &&
      ( test "$CONFIG_SND_OMAP_SOC" = "y" -o "$CONFIG_SND_OMAP_SOC" = "m" ) &&
      ( ( test "$CONFIG_MACH_OVERO" = "y" -o "$CONFIG_MACH_OVERO" = "m" ) ||
      ( test "$CONFIG_MACH_CM_T35" = "y" -o "$CONFIG_MACH_CM_T35" = "m" ) ) ); then
      CONFIG_SND_OMAP_SOC_MCBSP="m"
      CONFIG_SND_SOC_TWL4030="m"
      CONFIG_SND_OMAP_SOC_OVERO="m"
    fi
  fi
  if alsa_check_kconfig_card "omap-soc-omap2evm"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_TWL4030_CORE" = "y" -o "$CONFIG_TWL4030_CORE" = "m" ) &&
      ( test "$CONFIG_SND_OMAP_SOC" = "y" -o "$CONFIG_SND_OMAP_SOC" = "m" ) &&
      ( test "$CONFIG_MACH_OMAP2EVM" = "y" -o "$CONFIG_MACH_OMAP2EVM" = "m" ) ); then
      CONFIG_SND_OMAP_SOC_MCBSP="m"
      CONFIG_SND_SOC_TWL4030="m"
      CONFIG_SND_OMAP_SOC_OMAP2EVM="m"
    fi
  fi
  if alsa_check_kconfig_card "omap-soc-omap3evm"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_TWL4030_CORE" = "y" -o "$CONFIG_TWL4030_CORE" = "m" ) &&
      ( test "$CONFIG_SND_OMAP_SOC" = "y" -o "$CONFIG_SND_OMAP_SOC" = "m" ) &&
      ( test "$CONFIG_MACH_OMAP3EVM" = "y" -o "$CONFIG_MACH_OMAP3EVM" = "m" ) ); then
      CONFIG_SND_OMAP_SOC_MCBSP="m"
      CONFIG_SND_SOC_TWL4030="m"
      CONFIG_SND_OMAP_SOC_OMAP3EVM="m"
    fi
  fi
  if alsa_check_kconfig_card "omap-soc-sdp3430"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_TWL4030_CORE" = "y" -o "$CONFIG_TWL4030_CORE" = "m" ) &&
      ( test "$CONFIG_SND_OMAP_SOC" = "y" -o "$CONFIG_SND_OMAP_SOC" = "m" ) &&
      ( test "$CONFIG_MACH_OMAP_3430SDP" = "y" -o "$CONFIG_MACH_OMAP_3430SDP" = "m" ) ); then
      CONFIG_SND_OMAP_SOC_MCBSP="m"
      CONFIG_SND_SOC_TWL4030="m"
      CONFIG_SND_OMAP_SOC_SDP3430="m"
    fi
  fi
  if alsa_check_kconfig_card "omap-soc-omap3-pandora"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_TWL4030_CORE" = "y" -o "$CONFIG_TWL4030_CORE" = "m" ) &&
      ( test "$CONFIG_SND_OMAP_SOC" = "y" -o "$CONFIG_SND_OMAP_SOC" = "m" ) &&
      ( test "$CONFIG_MACH_OMAP3_PANDORA" = "y" -o "$CONFIG_MACH_OMAP3_PANDORA" = "m" ) ); then
      CONFIG_SND_OMAP_SOC_MCBSP="m"
      CONFIG_SND_SOC_TWL4030="m"
      CONFIG_SND_OMAP_SOC_OMAP3_PANDORA="m"
    fi
  fi
  if alsa_check_kconfig_card "omap-soc-omap3-beagle"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_TWL4030_CORE" = "y" -o "$CONFIG_TWL4030_CORE" = "m" ) &&
      ( test "$CONFIG_SND_OMAP_SOC" = "y" -o "$CONFIG_SND_OMAP_SOC" = "m" ) &&
      ( test "$CONFIG_MACH_OMAP3_BEAGLE" = "y" -o "$CONFIG_MACH_OMAP3_BEAGLE" = "m" ) ); then
      CONFIG_SND_OMAP_SOC_MCBSP="m"
      CONFIG_SND_SOC_TWL4030="m"
      CONFIG_SND_OMAP_SOC_OMAP3_BEAGLE="m"
    fi
  fi
  if alsa_check_kconfig_card "omap-soc-zoom2"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_TWL4030_CORE" = "y" -o "$CONFIG_TWL4030_CORE" = "m" ) &&
      ( test "$CONFIG_SND_OMAP_SOC" = "y" -o "$CONFIG_SND_OMAP_SOC" = "m" ) &&
      ( test "$CONFIG_MACH_OMAP_ZOOM2" = "y" -o "$CONFIG_MACH_OMAP_ZOOM2" = "m" ) ); then
      CONFIG_SND_OMAP_SOC_MCBSP="m"
      CONFIG_SND_SOC_TWL4030="m"
      CONFIG_SND_OMAP_SOC_ZOOM2="m"
    fi
  fi
  if alsa_check_kconfig_card "omap-soc-igep0020"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_TWL4030_CORE" = "y" -o "$CONFIG_TWL4030_CORE" = "m" ) &&
      ( test "$CONFIG_SND_OMAP_SOC" = "y" -o "$CONFIG_SND_OMAP_SOC" = "m" ) &&
      ( test "$CONFIG_MACH_IGEP0020" = "y" -o "$CONFIG_MACH_IGEP0020" = "m" ) ); then
      CONFIG_SND_OMAP_SOC_MCBSP="m"
      CONFIG_SND_SOC_TWL4030="m"
      CONFIG_SND_OMAP_SOC_IGEP0020="m"
    fi
  fi
  if alsa_check_kconfig_card "s3c24xx-soc"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_ARCH_S3C2410" = "y" -o "$CONFIG_ARCH_S3C2410" = "m" ) ||
      ( test "$CONFIG_ARCH_S3C64XX" = "y" -o "$CONFIG_ARCH_S3C64XX" = "m" ) ) &&
      ( test "$CONFIG_S3C64XX_DMA" = "y" -o "$CONFIG_S3C64XX_DMA" = "m" ); then
      CONFIG_SND_S3C24XX_SOC="m"
    fi
  fi
  if alsa_check_kconfig_card "s3c24xx-soc-neo1973-wm8753"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_SND_S3C24XX_SOC" = "y" -o "$CONFIG_SND_S3C24XX_SOC" = "m" ) &&
      ( test "$CONFIG_MACH_NEO1973_GTA01" = "y" -o "$CONFIG_MACH_NEO1973_GTA01" = "m" ) ); then
      CONFIG_SND_S3C24XX_SOC_I2S="m"
      CONFIG_SND_SOC_WM8753="m"
      CONFIG_SND_S3C24XX_SOC_NEO1973_WM8753="m"
    fi
  fi
  if alsa_check_kconfig_card "s3c24xx-soc-neo1973-gta02-wm8753"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_SND_S3C24XX_SOC" = "y" -o "$CONFIG_SND_S3C24XX_SOC" = "m" ) &&
      ( test "$CONFIG_MACH_NEO1973_GTA02" = "y" -o "$CONFIG_MACH_NEO1973_GTA02" = "m" ) ); then
      CONFIG_SND_S3C24XX_SOC_I2S="m"
      CONFIG_SND_SOC_WM8753="m"
      CONFIG_SND_S3C24XX_SOC_NEO1973_GTA02_WM8753="m"
    fi
  fi
  if alsa_check_kconfig_card "s3c24xx-soc-jive-wm8750"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_SND_S3C24XX_SOC" = "y" -o "$CONFIG_SND_S3C24XX_SOC" = "m" ) &&
      ( test "$CONFIG_MACH_JIVE" = "y" -o "$CONFIG_MACH_JIVE" = "m" ) ); then
      CONFIG_SND_S3C_I2SV2_SOC="m"
      CONFIG_SND_SOC_WM8750="m"
      CONFIG_SND_S3C2412_SOC_I2S="m"
      CONFIG_SND_S3C24XX_SOC_JIVE_WM8750="m"
    fi
  fi
  if alsa_check_kconfig_card "s3c64xx-soc-wm8580"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_SND_S3C24XX_SOC" = "y" -o "$CONFIG_SND_S3C24XX_SOC" = "m" ) &&
      ( ( test "$CONFIG_MACH_SMDK6400" = "y" -o "$CONFIG_MACH_SMDK6400" = "m" ) ||
      ( test "$CONFIG_MACH_SMDK6410" = "y" -o "$CONFIG_MACH_SMDK6410" = "m" ) ) ) &&
      ( test "$CONFIG_BROKEN" = "y" -o "$CONFIG_BROKEN" = "m" ); then
      CONFIG_SND_S3C_I2SV2_SOC="m"
      CONFIG_SND_SOC_WM8580="m"
      CONFIG_SND_S3C64XX_SOC_I2S="m"
      CONFIG_SND_S3C64XX_SOC_WM8580="m"
    fi
  fi
  if alsa_check_kconfig_card "s3c24xx-soc-smdk2443-wm9710"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_SND_S3C24XX_SOC" = "y" -o "$CONFIG_SND_S3C24XX_SOC" = "m" ) &&
      ( test "$CONFIG_MACH_SMDK2443" = "y" -o "$CONFIG_MACH_SMDK2443" = "m" ) ); then
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_SOC_AC97_BUS="y"
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_AC97_CODEC="m"
      CONFIG_SND_S3C2443_SOC_AC97="m"
      CONFIG_SND_SOC_AC97_CODEC="m"
      CONFIG_SND_S3C24XX_SOC_SMDK2443_WM9710="m"
    fi
  fi
  if alsa_check_kconfig_card "s3c24xx-soc-ln2440sbc-alc650"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_SND_S3C24XX_SOC" = "y" -o "$CONFIG_SND_S3C24XX_SOC" = "m" ) &&
      ( test "$CONFIG_ARCH_S3C2410" = "y" -o "$CONFIG_ARCH_S3C2410" = "m" ) ); then
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_SOC_AC97_BUS="y"
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_AC97_CODEC="m"
      CONFIG_SND_S3C2443_SOC_AC97="m"
      CONFIG_SND_SOC_AC97_CODEC="m"
      CONFIG_SND_S3C24XX_SOC_LN2440SBC_ALC650="m"
    fi
  fi
  if alsa_check_kconfig_card "s3c24xx-soc-s3c24xx-uda134x"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_SND_S3C24XX_SOC" = "y" -o "$CONFIG_SND_S3C24XX_SOC" = "m" ) &&
      ( test "$CONFIG_ARCH_S3C2410" = "y" -o "$CONFIG_ARCH_S3C2410" = "m" ) ); then
      CONFIG_SND_S3C24XX_SOC_I2S="m"
      CONFIG_SND_SOC_L3="m"
      CONFIG_SND_SOC_UDA134X="m"
      CONFIG_SND_S3C24XX_SOC_S3C24XX_UDA134X="m"
    fi
  fi
  if alsa_check_kconfig_card "s3c24xx-soc-simtec-tlv320aic23"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_SND_S3C24XX_SOC" = "y" -o "$CONFIG_SND_S3C24XX_SOC" = "m" ) &&
      ( test "$CONFIG_ARCH_S3C2410" = "y" -o "$CONFIG_ARCH_S3C2410" = "m" ) ); then
      CONFIG_SND_S3C24XX_SOC_I2S="m"
      CONFIG_SND_SOC_TLV320AIC23="m"
      CONFIG_SND_S3C24XX_SOC_SIMTEC="m"
      CONFIG_SND_S3C24XX_SOC_SIMTEC_TLV320AIC23="m"
    fi
  fi
  if alsa_check_kconfig_card "s3c24xx-soc-simtec-hermes"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_SND_S3C24XX_SOC" = "y" -o "$CONFIG_SND_S3C24XX_SOC" = "m" ) &&
      ( test "$CONFIG_ARCH_S3C2410" = "y" -o "$CONFIG_ARCH_S3C2410" = "m" ) ); then
      CONFIG_SND_S3C24XX_SOC_I2S="m"
      CONFIG_SND_SOC_TLV320AIC3X="m"
      CONFIG_SND_S3C24XX_SOC_SIMTEC="m"
      CONFIG_SND_S3C24XX_SOC_SIMTEC_HERMES="m"
    fi
  fi
  if alsa_check_kconfig_card "s6000-soc"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( test "$CONFIG_XTENSA_VARIANT_S6000" = "y" -o "$CONFIG_XTENSA_VARIANT_S6000" = "m" ); then
      CONFIG_SND_S6000_SOC="m"
    fi
  fi
  if alsa_check_kconfig_card "s6000-soc-s6ipcam"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_SND_S6000_SOC" = "y" -o "$CONFIG_SND_S6000_SOC" = "m" ) &&
      ( test "$CONFIG_XTENSA_PLATFORM_S6105" = "y" -o "$CONFIG_XTENSA_PLATFORM_S6105" = "m" ) ); then
      CONFIG_SND_S6000_SOC_I2S="m"
      CONFIG_SND_SOC_TLV320AIC3X="m"
      CONFIG_SND_S6000_SOC_S6IPCAM="m"
    fi
  fi
  if alsa_check_kconfig_card "soc-txx9aclc"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( ( test "$CONFIG_HAS_TXX9_ACLC" = "y" -o "$CONFIG_HAS_TXX9_ACLC" = "m" ) &&
      ( test "$CONFIG_TXX9_DMAC" = "y" -o "$CONFIG_TXX9_DMAC" = "m" ) ); then
      CONFIG_SND_SOC_TXX9ACLC="m"
    fi
  fi
  if alsa_check_kconfig_card "soc-txx9aclc-generic"; then
    if ( test "$CONFIG_SND_SOC" = "y" -o "$CONFIG_SND_SOC" = "m" ) &&
      ( test "$CONFIG_SND_SOC_TXX9ACLC" = "y" -o "$CONFIG_SND_SOC_TXX9ACLC" = "m" ); then
      test "$kversion.$kpatchlevel" = "2.6" -a $ksublevel -ge 14 && CONFIG_AC97_BUS="m"
      CONFIG_SND_TIMER="m"
      CONFIG_SND_PCM="m"
      CONFIG_SND_VMASTER="y"
      CONFIG_SND_AC97_CODEC="m"
      CONFIG_SND_SOC_AC97_BUS="y"
      CONFIG_SND_SOC_TXX9ACLC_AC97="m"
      CONFIG_SND_SOC_AC97_CODEC="m"
      CONFIG_SND_SOC_TXX9ACLC_GENERIC="m"
    fi
  fi



if test -n "$CONFIG_SOUND"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SOUND_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SOUND_OSS_CORE"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SOUND_OSS_CORE 1
_ACEOF

fi
if test -n "$CONFIG_SOUND_OSS_CORE_PRECLAIM"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SOUND_OSS_CORE_PRECLAIM 1
_ACEOF

fi
if test -n "$CONFIG_SND"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_TIMER"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_TIMER_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_PCM"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_PCM_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_HWDEP"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_HWDEP_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_RAWMIDI"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_RAWMIDI_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_JACK"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_JACK 1
_ACEOF

fi
if test -n "$CONFIG_SND_SEQUENCER"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SEQUENCER_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SEQ_DUMMY"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SEQ_DUMMY_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_OSSEMUL"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_OSSEMUL 1
_ACEOF

fi
if test -n "$CONFIG_SND_MIXER_OSS"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_MIXER_OSS_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_PCM_OSS"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_PCM_OSS_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_PCM_OSS_PLUGINS"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_PCM_OSS_PLUGINS 1
_ACEOF

fi
if test -n "$CONFIG_SND_SEQUENCER_OSS"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SEQUENCER_OSS 1
_ACEOF

fi
if test -n "$CONFIG_SND_HRTIMER"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_HRTIMER_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SEQ_HRTIMER_DEFAULT"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SEQ_HRTIMER_DEFAULT 1
_ACEOF

fi
if test -n "$CONFIG_SND_RTCTIMER"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_RTCTIMER_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SEQ_RTCTIMER_DEFAULT"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SEQ_RTCTIMER_DEFAULT 1
_ACEOF

fi
if test -n "$CONFIG_SND_DYNAMIC_MINORS"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_DYNAMIC_MINORS 1
_ACEOF

fi
if test -n "$CONFIG_SND_SUPPORT_OLD_API"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SUPPORT_OLD_API 1
_ACEOF

fi
if test -n "$CONFIG_SND_VERBOSE_PROCFS"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_VERBOSE_PROCFS 1
_ACEOF

fi
if test -n "$CONFIG_SND_VERBOSE_PRINTK"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_VERBOSE_PRINTK 1
_ACEOF

fi
if test -n "$CONFIG_SND_DEBUG"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_DEBUG 1
_ACEOF

fi
if test -n "$CONFIG_SND_DEBUG_VERBOSE"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_DEBUG_VERBOSE 1
_ACEOF

fi
if test -n "$CONFIG_SND_PCM_XRUN_DEBUG"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_PCM_XRUN_DEBUG 1
_ACEOF

fi
if test -n "$CONFIG_SND_VMASTER"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_VMASTER 1
_ACEOF

fi
if test -n "$CONFIG_SND_DMA_SGBUF"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_DMA_SGBUF 1
_ACEOF

fi
if test -n "$CONFIG_SND_RAWMIDI_SEQ"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_RAWMIDI_SEQ_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_OPL3_LIB_SEQ"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_OPL3_LIB_SEQ_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_OPL3_LIB"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_OPL3_LIB_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_OPL4_LIB_SEQ"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_OPL4_LIB_SEQ_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_OPL4_LIB"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_OPL4_LIB_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SBAWE_SEQ"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SBAWE_SEQ_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SBAWE"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SBAWE_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_EMU10K1_SEQ"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_EMU10K1_SEQ_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_EMU10K1"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_EMU10K1_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_BIT32_EMUL"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_BIT32_EMUL_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_DEBUG_MEMORY"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_DEBUG_MEMORY 1
_ACEOF

fi
if test -n "$CONFIG_SND_HPET"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_HPET_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_MPU401_UART"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_MPU401_UART_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_VX_LIB"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_VX_LIB_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_AC97_CODEC"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_AC97_CODEC_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_DRIVERS"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_DRIVERS 1
_ACEOF

fi
if test -n "$CONFIG_SND_PCSP"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_PCSP_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_DUMMY"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_DUMMY_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_VIRMIDI"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_VIRMIDI_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_MTPAV"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_MTPAV_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_MTS64"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_MTS64_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SERIAL_U16550"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SERIAL_U16550_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_MPU401"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_MPU401_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_PORTMAN2X4"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_PORTMAN2X4_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_ML403_AC97CR"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_ML403_AC97CR_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_AC97_POWER_SAVE"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_AC97_POWER_SAVE 1
_ACEOF

fi
if test -n "$CONFIG_SND_AC97_POWER_SAVE_DEFAULT"; then
  cat >>confdefs.h <<_ACEOF
#define CONFIG_SND_AC97_POWER_SAVE_DEFAULT 0
_ACEOF

fi
if test -n "$CONFIG_SND_SERIALMIDI"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SERIALMIDI_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_LOOPBACK"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_LOOPBACK_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_WSS_LIB"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_WSS_LIB_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SB_COMMON"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SB_COMMON_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SB8_DSP"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SB8_DSP_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SB16_DSP"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SB16_DSP_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_ISA"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_ISA 1
_ACEOF

fi
if test -n "$CONFIG_SND_ADLIB"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_ADLIB_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_AD1816A"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_AD1816A_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_AD1848"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_AD1848_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_ALS100"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_ALS100_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_AZT2320"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_AZT2320_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_CMI8330"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_CMI8330_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_CS4231"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_CS4231_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_CS4236"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_CS4236_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_ES968"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_ES968_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_ES1688"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_ES1688_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_ES18XX"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_ES18XX_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SC6000"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SC6000_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_GUSCLASSIC"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_GUSCLASSIC_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_GUSEXTREME"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_GUSEXTREME_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_GUSMAX"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_GUSMAX_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_INTERWAVE"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_INTERWAVE_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_INTERWAVE_STB"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_INTERWAVE_STB_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_JAZZ16"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_JAZZ16_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_OPL3SA2"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_OPL3SA2_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_OPTI92X_AD1848"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_OPTI92X_AD1848_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_OPTI92X_CS4231"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_OPTI92X_CS4231_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_OPTI93X"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_OPTI93X_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_MIRO"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_MIRO_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SB8"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SB8_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SB16"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SB16_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SB16_CSP"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SB16_CSP 1
_ACEOF

fi
if test -n "$CONFIG_SND_SGALAXY"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SGALAXY_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SSCAPE"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SSCAPE_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_WAVEFRONT"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_WAVEFRONT_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_MSND_PINNACLE"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_MSND_PINNACLE_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_MSND_CLASSIC"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_MSND_CLASSIC_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_PC98_CS4232"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_PC98_CS4232_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_PCI"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_PCI 1
_ACEOF

fi
if test -n "$CONFIG_SND_AD1889"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_AD1889_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_ALS300"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_ALS300_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_ALS4000"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_ALS4000_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_ALI5451"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_ALI5451_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_ATIIXP"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_ATIIXP_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_ATIIXP_MODEM"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_ATIIXP_MODEM_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_AU8810"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_AU8810_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_AU8820"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_AU8820_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_AU8830"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_AU8830_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_AW2"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_AW2_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_AZT3328"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_AZT3328_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_BT87X"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_BT87X_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_BT87X_OVERCLOCK"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_BT87X_OVERCLOCK 1
_ACEOF

fi
if test -n "$CONFIG_SND_CA0106"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_CA0106_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_CMIPCI"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_CMIPCI_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_OXYGEN_LIB"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_OXYGEN_LIB_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_OXYGEN"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_OXYGEN_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_CS4281"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_CS4281_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_CS46XX"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_CS46XX_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_CS46XX_NEW_DSP"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_CS46XX_NEW_DSP 1
_ACEOF

fi
if test -n "$CONFIG_SND_CS5530"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_CS5530_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_CS5535AUDIO"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_CS5535AUDIO_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_CTXFI"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_CTXFI_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_DARLA20"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_DARLA20_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_GINA20"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_GINA20_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_LAYLA20"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_LAYLA20_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_DARLA24"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_DARLA24_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_GINA24"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_GINA24_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_LAYLA24"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_LAYLA24_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_MONA"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_MONA_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_MIA"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_MIA_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_ECHO3G"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_ECHO3G_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_INDIGO"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_INDIGO_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_INDIGOIO"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_INDIGOIO_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_INDIGODJ"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_INDIGODJ_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_INDIGOIOX"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_INDIGOIOX_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_INDIGODJX"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_INDIGODJX_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_EMU10K1X"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_EMU10K1X_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_ENS1370"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_ENS1370_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_ENS1371"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_ENS1371_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_ES1938"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_ES1938_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_ES1968"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_ES1968_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_FM801"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_FM801_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_FM801_TEA575X_BOOL"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_FM801_TEA575X_BOOL 1
_ACEOF

fi
if test -n "$CONFIG_SND_FM801_TEA575X"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_FM801_TEA575X_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_HDA_INTEL"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_HDA_INTEL_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_HDA_HWDEP"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_HDA_HWDEP 1
_ACEOF

fi
if test -n "$CONFIG_SND_HDA_RECONFIG"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_HDA_RECONFIG 1
_ACEOF

fi
if test -n "$CONFIG_SND_HDA_INPUT_BEEP"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_HDA_INPUT_BEEP 1
_ACEOF

fi
if test -n "$CONFIG_SND_HDA_INPUT_BEEP_MODE"; then
  cat >>confdefs.h <<_ACEOF
#define CONFIG_SND_HDA_INPUT_BEEP_MODE 1
_ACEOF

fi
if test -n "$CONFIG_SND_HDA_INPUT_JACK"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_HDA_INPUT_JACK 1
_ACEOF

fi
if test -n "$CONFIG_SND_HDA_PATCH_LOADER"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_HDA_PATCH_LOADER 1
_ACEOF

fi
if test -n "$CONFIG_SND_HDA_CODEC_REALTEK"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_HDA_CODEC_REALTEK 1
_ACEOF

fi
if test -n "$CONFIG_SND_HDA_CODEC_ANALOG"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_HDA_CODEC_ANALOG 1
_ACEOF

fi
if test -n "$CONFIG_SND_HDA_CODEC_SIGMATEL"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_HDA_CODEC_SIGMATEL 1
_ACEOF

fi
if test -n "$CONFIG_SND_HDA_CODEC_VIA"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_HDA_CODEC_VIA 1
_ACEOF

fi
if test -n "$CONFIG_SND_HDA_CODEC_ATIHDMI"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_HDA_CODEC_ATIHDMI 1
_ACEOF

fi
if test -n "$CONFIG_SND_HDA_CODEC_NVHDMI"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_HDA_CODEC_NVHDMI 1
_ACEOF

fi
if test -n "$CONFIG_SND_HDA_CODEC_INTELHDMI"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_HDA_CODEC_INTELHDMI 1
_ACEOF

fi
if test -n "$CONFIG_SND_HDA_ELD"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_HDA_ELD 1
_ACEOF

fi
if test -n "$CONFIG_SND_HDA_CODEC_CIRRUS"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_HDA_CODEC_CIRRUS 1
_ACEOF

fi
if test -n "$CONFIG_SND_HDA_CODEC_CONEXANT"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_HDA_CODEC_CONEXANT 1
_ACEOF

fi
if test -n "$CONFIG_SND_HDA_CODEC_CA0110"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_HDA_CODEC_CA0110 1
_ACEOF

fi
if test -n "$CONFIG_SND_HDA_CODEC_CMEDIA"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_HDA_CODEC_CMEDIA 1
_ACEOF

fi
if test -n "$CONFIG_SND_HDA_CODEC_SI3054"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_HDA_CODEC_SI3054 1
_ACEOF

fi
if test -n "$CONFIG_SND_HDA_GENERIC"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_HDA_GENERIC 1
_ACEOF

fi
if test -n "$CONFIG_SND_HDA_POWER_SAVE"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_HDA_POWER_SAVE 1
_ACEOF

fi
if test -n "$CONFIG_SND_HDA_POWER_SAVE_DEFAULT"; then
  cat >>confdefs.h <<_ACEOF
#define CONFIG_SND_HDA_POWER_SAVE_DEFAULT 0
_ACEOF

fi
if test -n "$CONFIG_SND_HDSP"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_HDSP_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_HDSPM"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_HDSPM_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_HIFIER"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_HIFIER_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_ICE1712"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_ICE1712_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_ICE1724"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_ICE1724_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_INTEL8X0"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_INTEL8X0_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_INTEL8X0M"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_INTEL8X0M_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_KORG1212"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_KORG1212_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_LX6464ES"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_LX6464ES_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_MAESTRO3"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_MAESTRO3_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_MIXART"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_MIXART_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_NM256"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_NM256_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_PCXHR"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_PCXHR_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_RIPTIDE"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_RIPTIDE_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_RME32"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_RME32_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_RME96"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_RME96_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_RME9652"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_RME9652_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SIS7019"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SIS7019_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SONICVIBES"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SONICVIBES_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_TRIDENT"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_TRIDENT_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_VIA82XX"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_VIA82XX_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_VIA82XX_MODEM"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_VIA82XX_MODEM_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_VIRTUOSO"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_VIRTUOSO_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_VX222"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_VX222_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_YMFPCI"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_YMFPCI_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_PDPLUS"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_PDPLUS_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_ASIHPI"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_ASIHPI_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_PPC"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_PPC 1
_ACEOF

fi
if test -n "$CONFIG_SND_POWERMAC"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_POWERMAC_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_POWERMAC_AUTO_DRC"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_POWERMAC_AUTO_DRC 1
_ACEOF

fi
if test -n "$CONFIG_SND_PS3"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_PS3_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_PS3_DEFAULT_START_DELAY"; then
  cat >>confdefs.h <<_ACEOF
#define CONFIG_SND_PS3_DEFAULT_START_DELAY 2000
_ACEOF

fi
if test -n "$CONFIG_SND_AOA"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_AOA_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_AOA_FABRIC_LAYOUT"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_AOA_FABRIC_LAYOUT_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_AOA_ONYX"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_AOA_ONYX_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_AOA_TAS"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_AOA_TAS_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_AOA_TOONIE"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_AOA_TOONIE_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_AOA_SOUNDBUS"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_AOA_SOUNDBUS_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_AOA_SOUNDBUS_I2S"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_AOA_SOUNDBUS_I2S_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_ARM"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_ARM 1
_ACEOF

fi
if test -n "$CONFIG_SND_ARMAACI"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_ARMAACI_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_PXA2XX_PCM"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_PXA2XX_PCM_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_PXA2XX_LIB"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_PXA2XX_LIB_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_PXA2XX_LIB_AC97"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_PXA2XX_LIB_AC97 1
_ACEOF

fi
if test -n "$CONFIG_SND_PXA2XX_AC97"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_PXA2XX_AC97_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SA11XX_UDA1341"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SA11XX_UDA1341_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_S3C2410"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_S3C2410_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_PXA2XX_I2SOUND"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_PXA2XX_I2SOUND_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_ATMEL_ABDAC"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_ATMEL_ABDAC_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_ATMEL_AC97C"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_ATMEL_AC97C_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SPI"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SPI 1
_ACEOF

fi
if test -n "$CONFIG_SND_AT73C213"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_AT73C213_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_AT73C213_TARGET_BITRATE"; then
  cat >>confdefs.h <<_ACEOF
#define CONFIG_SND_AT73C213_TARGET_BITRATE 48000
_ACEOF

fi
if test -n "$CONFIG_SND_MIPS"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_MIPS 1
_ACEOF

fi
if test -n "$CONFIG_SND_SGI_O2"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SGI_O2_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SGI_HAL2"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SGI_HAL2_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_AU1X00"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_AU1X00_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SUPERH"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SUPERH 1
_ACEOF

fi
if test -n "$CONFIG_SND_AICA"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_AICA_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SH_DAC_AUDIO"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SH_DAC_AUDIO_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_USB"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_USB 1
_ACEOF

fi
if test -n "$CONFIG_SND_USB_AUDIO"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_USB_AUDIO_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_USB_UA101"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_USB_UA101_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_USB_USX2Y"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_USB_USX2Y_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_USB_CAIAQ"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_USB_CAIAQ_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_USB_CAIAQ_INPUT"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_USB_CAIAQ_INPUT 1
_ACEOF

fi
if test -n "$CONFIG_SND_USB_US122L"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_USB_US122L_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_PCMCIA"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_PCMCIA 1
_ACEOF

fi
if test -n "$CONFIG_SND_VXPOCKET"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_VXPOCKET_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_PDAUDIOCF"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_PDAUDIOCF_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SPARC"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SPARC 1
_ACEOF

fi
if test -n "$CONFIG_SND_SUN_AMD7930"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SUN_AMD7930_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SUN_CS4231"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SUN_CS4231_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SUN_DBRI"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SUN_DBRI_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_GSC"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_GSC 1
_ACEOF

fi
if test -n "$CONFIG_SND_HARMONY"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_HARMONY_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_AC97_BUS"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_AC97_BUS 1
_ACEOF

fi
if test -n "$CONFIG_SND_ATMEL_SOC"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_ATMEL_SOC_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_ATMEL_SOC_SSC"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_ATMEL_SOC_SSC_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_AT91_SOC_SAM9G20_WM8731"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_AT91_SOC_SAM9G20_WM8731_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_AT32_SOC_PLAYPAQ"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_AT32_SOC_PLAYPAQ_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_AT32_SOC_PLAYPAQ_SLAVE"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_AT32_SOC_PLAYPAQ_SLAVE 1
_ACEOF

fi
if test -n "$CONFIG_SND_AT91_SOC_AFEB9260"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_AT91_SOC_AFEB9260_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_AU1XPSC"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_AU1XPSC_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_AU1XPSC_I2S"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_AU1XPSC_I2S_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_AU1XPSC_AC97"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_AU1XPSC_AC97_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_SAMPLE_PSC_AC97"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_SAMPLE_PSC_AC97_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_BF5XX_I2S"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_BF5XX_I2S_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_BF5XX_SOC_SSM2602"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_BF5XX_SOC_SSM2602_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_BF5XX_SOC_AD73311"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_BF5XX_SOC_AD73311_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_BFIN_AD73311_SE"; then
  cat >>confdefs.h <<_ACEOF
#define CONFIG_SND_BFIN_AD73311_SE 4
_ACEOF

fi
if test -n "$CONFIG_SND_BF5XX_TDM"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_BF5XX_TDM_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_BF5XX_SOC_AD1836"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_BF5XX_SOC_AD1836_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_BF5XX_SOC_AD1938"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_BF5XX_SOC_AD1938_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_BF5XX_AC97"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_BF5XX_AC97_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_BF5XX_MMAP_SUPPORT"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_BF5XX_MMAP_SUPPORT 1
_ACEOF

fi
if test -n "$CONFIG_SND_BF5XX_MULTICHAN_SUPPORT"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_BF5XX_MULTICHAN_SUPPORT 1
_ACEOF

fi
if test -n "$CONFIG_SND_BF5XX_HAVE_COLD_RESET"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_BF5XX_HAVE_COLD_RESET 1
_ACEOF

fi
if test -n "$CONFIG_SND_BF5XX_RESET_GPIO_NUM"; then
  cat >>confdefs.h <<_ACEOF
#define CONFIG_SND_BF5XX_RESET_GPIO_NUM 0
_ACEOF

fi
if test -n "$CONFIG_SND_BF5XX_SOC_AD1980"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_BF5XX_SOC_AD1980_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_BF5XX_SOC_SPORT"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_BF5XX_SOC_SPORT_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_BF5XX_SOC_I2S"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_BF5XX_SOC_I2S_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_BF5XX_SOC_TDM"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_BF5XX_SOC_TDM_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_BF5XX_SOC_AC97"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_BF5XX_SOC_AC97_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_BF5XX_SPORT_NUM"; then
  cat >>confdefs.h <<_ACEOF
#define CONFIG_SND_BF5XX_SPORT_NUM 0
_ACEOF

fi
if test -n "$CONFIG_SND_DAVINCI_SOC"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_DAVINCI_SOC_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_DAVINCI_SOC_I2S"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_DAVINCI_SOC_I2S_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_DAVINCI_SOC_MCASP"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_DAVINCI_SOC_MCASP_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_DAVINCI_SOC_EVM"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_DAVINCI_SOC_EVM_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_DM6467_SOC_EVM"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_DM6467_SOC_EVM_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_DAVINCI_SOC_SFFSDR"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_DAVINCI_SOC_SFFSDR_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_DA830_SOC_EVM"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_DA830_SOC_EVM_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_DA850_SOC_EVM"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_DA850_SOC_EVM_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_OF_SIMPLE"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_OF_SIMPLE_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_MPC52XX_DMA"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_MPC52XX_DMA_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_MPC8610"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_MPC8610_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_MPC8610_HPCD"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_MPC8610_HPCD_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_MPC5200_I2S"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_MPC5200_I2S_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_MPC5200_AC97"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_MPC5200_AC97_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_MPC52XX_SOC_PCM030"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_MPC52XX_SOC_PCM030_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_MPC52XX_SOC_EFIKA"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_MPC52XX_SOC_EFIKA_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_MX1_MX2_SOC"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_MX1_MX2_SOC_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_MXC_SOC_SSI"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_MXC_SOC_SSI_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_MX27VIS_WM8974"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_MX27VIS_WM8974_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_OMAP_SOC"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_OMAP_SOC_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_OMAP_SOC_MCBSP"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_OMAP_SOC_MCBSP_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_OMAP_SOC_N810"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_OMAP_SOC_N810_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_OMAP_SOC_AMS_DELTA"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_OMAP_SOC_AMS_DELTA_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_OMAP_SOC_OSK5912"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_OMAP_SOC_OSK5912_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_OMAP_SOC_OVERO"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_OMAP_SOC_OVERO_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_OMAP_SOC_OMAP2EVM"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_OMAP_SOC_OMAP2EVM_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_OMAP_SOC_OMAP3EVM"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_OMAP_SOC_OMAP3EVM_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_OMAP_SOC_AM3517EVM"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_OMAP_SOC_AM3517EVM_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_OMAP_SOC_SDP3430"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_OMAP_SOC_SDP3430_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_OMAP_SOC_OMAP3_PANDORA"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_OMAP_SOC_OMAP3_PANDORA_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_OMAP_SOC_OMAP3_BEAGLE"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_OMAP_SOC_OMAP3_BEAGLE_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_OMAP_SOC_ZOOM2"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_OMAP_SOC_ZOOM2_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_OMAP_SOC_IGEP0020"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_OMAP_SOC_IGEP0020_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_PXA2XX_SOC"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_PXA2XX_SOC_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_PXA2XX_SOC_AC97"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_PXA2XX_SOC_AC97_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_PXA2XX_SOC_I2S"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_PXA2XX_SOC_I2S_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_PXA_SOC_SSP"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_PXA_SOC_SSP_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_PXA2XX_SOC_CORGI"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_PXA2XX_SOC_CORGI_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_PXA2XX_SOC_SPITZ"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_PXA2XX_SOC_SPITZ_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_PXA2XX_SOC_POODLE"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_PXA2XX_SOC_POODLE_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_PXA2XX_SOC_TOSA"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_PXA2XX_SOC_TOSA_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_PXA2XX_SOC_E740"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_PXA2XX_SOC_E740_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_PXA2XX_SOC_E750"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_PXA2XX_SOC_E750_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_PXA2XX_SOC_E800"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_PXA2XX_SOC_E800_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_PXA2XX_SOC_EM_X270"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_PXA2XX_SOC_EM_X270_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_PXA2XX_SOC_PALM27X"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_PXA2XX_SOC_PALM27X 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_ZYLONITE"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_ZYLONITE_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_RAUMFELD"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_RAUMFELD_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_PXA2XX_SOC_MAGICIAN"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_PXA2XX_SOC_MAGICIAN_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_PXA2XX_SOC_MIOA701"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_PXA2XX_SOC_MIOA701_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_PXA2XX_SOC_IMOTE2"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_PXA2XX_SOC_IMOTE2_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_S3C24XX_SOC"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_S3C24XX_SOC_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_S3C24XX_SOC_I2S"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_S3C24XX_SOC_I2S_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_S3C_I2SV2_SOC"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_S3C_I2SV2_SOC_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_S3C2412_SOC_I2S"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_S3C2412_SOC_I2S_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_S3C64XX_SOC_I2S"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_S3C64XX_SOC_I2S_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_S3C_SOC_PCM"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_S3C_SOC_PCM_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_S3C2443_SOC_AC97"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_S3C2443_SOC_AC97_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_S3C24XX_SOC_NEO1973_WM8753"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_S3C24XX_SOC_NEO1973_WM8753_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_S3C24XX_SOC_NEO1973_GTA02_WM8753"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_S3C24XX_SOC_NEO1973_GTA02_WM8753_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_S3C24XX_SOC_JIVE_WM8750"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_S3C24XX_SOC_JIVE_WM8750_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_S3C64XX_SOC_WM8580"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_S3C64XX_SOC_WM8580_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_S3C24XX_SOC_SMDK2443_WM9710"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_S3C24XX_SOC_SMDK2443_WM9710_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_S3C24XX_SOC_LN2440SBC_ALC650"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_S3C24XX_SOC_LN2440SBC_ALC650_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_S3C24XX_SOC_S3C24XX_UDA134X"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_S3C24XX_SOC_S3C24XX_UDA134X_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_S3C24XX_SOC_SIMTEC"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_S3C24XX_SOC_SIMTEC_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_S3C24XX_SOC_SIMTEC_TLV320AIC23"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_S3C24XX_SOC_SIMTEC_TLV320AIC23_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_S3C24XX_SOC_SIMTEC_HERMES"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_S3C24XX_SOC_SIMTEC_HERMES_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_S6000_SOC"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_S6000_SOC_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_S6000_SOC_I2S"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_S6000_SOC_I2S_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_S6000_SOC_S6IPCAM"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_S6000_SOC_S6IPCAM_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_PCM_SH7760"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_PCM_SH7760_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_SH4_HAC"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_SH4_HAC_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_SH4_SSI"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_SH4_SSI_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_SH4_FSI"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_SH4_FSI_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SH7760_AC97"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SH7760_AC97_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_FSI_AK4642"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_FSI_AK4642 1
_ACEOF

fi
if test -n "$CONFIG_SND_FSI_DA7210"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_FSI_DA7210 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_TXX9ACLC"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_TXX9ACLC_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_HAS_TXX9_ACLC"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_HAS_TXX9_ACLC 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_TXX9ACLC_AC97"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_TXX9ACLC_AC97_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_TXX9ACLC_GENERIC"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_TXX9ACLC_GENERIC_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_I2C_AND_SPI"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_I2C_AND_SPI_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_ALL_CODECS"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_ALL_CODECS_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_WM_HUBS"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_WM_HUBS_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_AC97_CODEC"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_AC97_CODEC_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_AD1836"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_AD1836_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_AD1938"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_AD1938_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_AD1980"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_AD1980_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_AD73311"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_AD73311_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_ADS117X"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_ADS117X_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_AK4104"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_AK4104_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_AK4535"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_AK4535_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_AK4642"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_AK4642_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_AK4671"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_AK4671_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_CS4270"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_CS4270_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_DA7210"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_DA7210_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_CS4270_VD33_ERRATA"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_CS4270_VD33_ERRATA 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_CX20442"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_CX20442_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_L3"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_L3_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_PCM3008"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_PCM3008_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_SPDIF"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_SPDIF_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_SSM2602"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_SSM2602_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_STAC9766"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_STAC9766_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_TLV320AIC23"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_TLV320AIC23_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_TLV320AIC26"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_TLV320AIC26_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_TLV320AIC3X"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_TLV320AIC3X_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_TLV320DAC33"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_TLV320DAC33_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_TWL4030"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_TWL4030_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_UDA134X"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_UDA134X_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_UDA1380"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_UDA1380_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_WM8350"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_WM8350_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_WM8400"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_WM8400_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_WM8510"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_WM8510_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_WM8523"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_WM8523_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_WM8580"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_WM8580_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_WM8711"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_WM8711_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_WM8727"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_WM8727_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_WM8728"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_WM8728_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_WM8731"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_WM8731_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_WM8750"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_WM8750_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_WM8753"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_WM8753_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_WM8776"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_WM8776_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_WM8900"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_WM8900_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_WM8903"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_WM8903_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_WM8904"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_WM8904_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_WM8940"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_WM8940_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_WM8955"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_WM8955_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_WM8960"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_WM8960_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_WM8961"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_WM8961_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_WM8971"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_WM8971_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_WM8974"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_WM8974_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_WM8988"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_WM8988_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_WM8990"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_WM8990_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_WM8993"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_WM8993_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_WM9081"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_WM9081_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_WM9705"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_WM9705_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_WM9712"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_WM9712_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_WM9713"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_WM9713_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_MAX9877"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_MAX9877_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SND_SOC_TPA6130A2"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SND_SOC_TPA6130A2_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_SOUND_PRIME"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_SOUND_PRIME_MODULE 1
_ACEOF

fi
if test -n "$CONFIG_AC97_BUS"; then
  cat >>confdefs.h <<\_ACEOF
#define CONFIG_AC97_BUS_MODULE 1
_ACEOF

fi


if test "$CONFIG_SND_OSSEMUL" = "y"; then
  CONFIG_SND_MIXER_OSS="$CONFIG_SND"
  CONFIG_SND_PCM_OSS="$CONFIG_SND_PCM"
  if test -n "$CONFIG_SND_SEQUENCER"; then
    CONFIG_SND_SEQUENCER_OSS="y"
  fi
fi










































































































































































































































































































































































































































































































































































c_opts="$c_opts -DLINUX"
m_opts=""
if test -r /etc/asound/make_opts; then
  m_opts="$m_opts `cat /etc/asound/make_opts`"
fi






ac_config_files="$ac_config_files version Makefile.conf snddevices utils/alsa-driver.spec utils/buildrpm toplevel.config utils/alsasound utils/alsasound.posix include/pci_ids_compat.h include/i2c-id_compat.h"

cat >confcache <<\_ACEOF
# This file is a shell script that caches the results of configure
# tests run on this system so they can be shared between configure
# scripts and configure runs, see configure's option --config-cache.
# It is not useful on other systems.  If it contains results you don't
# want to keep, you may remove or edit it.
#
# config.status only pays attention to the cache file if you give it
# the --recheck option to rerun configure.
#
# `ac_cv_env_foo' variables (set or unset) will be overridden when
# loading this file, other *unset* `ac_cv_foo' will be assigned the
# following values.

_ACEOF

# The following way of writing the cache mishandles newlines in values,
# but we know of no workaround that is simple, portable, and efficient.
# So, we kill variables containing newlines.
# Ultrix sh set writes to stderr and can't be redirected directly,
# and sets the high bit in the cache file unless we assign to the vars.
(
  for ac_var in `(set) 2>&1 | sed -n 's/^\([a-zA-Z_][a-zA-Z0-9_]*\)=.*/\1/p'`; do
    eval ac_val=\$$ac_var
    case $ac_val in #(
    *${as_nl}*)
      case $ac_var in #(
      *_cv_*) { echo "$as_me:$LINENO: WARNING: Cache variable $ac_var contains a newline." >&5
echo "$as_me: WARNING: Cache variable $ac_var contains a newline." >&2;} ;;
      esac
      case $ac_var in #(
      _ | IFS | as_nl) ;; #(
      *) $as_unset $ac_var ;;
      esac ;;
    esac
  done

  (set) 2>&1 |
    case $as_nl`(ac_space=' '; set) 2>&1` in #(
    *${as_nl}ac_space=\ *)
      # `set' does not quote correctly, so add quotes (double-quote
      # substitution turns \\\\ into \\, and sed turns \\ into \).
      sed -n \
	"s/'/'\\\\''/g;
	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='\\2'/p"
      ;; #(
    *)
      # `set' quotes correctly as required by POSIX, so do not add quotes.
      sed -n "/^[_$as_cr_alnum]*_cv_[_$as_cr_alnum]*=/p"
      ;;
    esac |
    sort
) |
  sed '
     /^ac_cv_env_/b end
     t clear
     :clear
     s/^\([^=]*\)=\(.*[{}].*\)$/test "${\1+set}" = set || &/
     t end
     s/^\([^=]*\)=\(.*\)$/\1=${\1=\2}/
     :end' >>confcache
if diff "$cache_file" confcache >/dev/null 2>&1; then :; else
  if test -w "$cache_file"; then
    test "x$cache_file" != "x/dev/null" &&
      { echo "$as_me:$LINENO: updating cache $cache_file" >&5
echo "$as_me: updating cache $cache_file" >&6;}
    cat confcache >$cache_file
  else
    { echo "$as_me:$LINENO: not updating unwritable cache $cache_file" >&5
echo "$as_me: not updating unwritable cache $cache_file" >&6;}
  fi
fi
rm -f confcache

test "x$prefix" = xNONE && prefix=$ac_default_prefix
# Let make expand exec_prefix.
test "x$exec_prefix" = xNONE && exec_prefix='${prefix}'

DEFS=-DHAVE_CONFIG_H

ac_libobjs=
ac_ltlibobjs=
for ac_i in : $LIBOBJS; do test "x$ac_i" = x: && continue
  # 1. Remove the extension, and $U if already installed.
  ac_script='s/\$U\././;s/\.o$//;s/\.obj$//'
  ac_i=`echo "$ac_i" | sed "$ac_script"`
  # 2. Prepend LIBOBJDIR.  When used with automake>=1.10 LIBOBJDIR
  #    will be set to the directory where LIBOBJS objects are built.
  ac_libobjs="$ac_libobjs \${LIBOBJDIR}$ac_i\$U.$ac_objext"
  ac_ltlibobjs="$ac_ltlibobjs \${LIBOBJDIR}$ac_i"'$U.lo'
done
LIBOBJS=$ac_libobjs

LTLIBOBJS=$ac_ltlibobjs



: ${CONFIG_STATUS=./config.status}
ac_clean_files_save=$ac_clean_files
ac_clean_files="$ac_clean_files $CONFIG_STATUS"
{ echo "$as_me:$LINENO: creating $CONFIG_STATUS" >&5
echo "$as_me: creating $CONFIG_STATUS" >&6;}
cat >$CONFIG_STATUS <<_ACEOF
#! $SHELL
# Generated by $as_me.
# Run this file to recreate the current configuration.
# Compiler output produced by configure, useful for debugging
# configure, is in config.log if it exists.

debug=false
ac_cs_recheck=false
ac_cs_silent=false
SHELL=\${CONFIG_SHELL-$SHELL}
_ACEOF

cat >>$CONFIG_STATUS <<\_ACEOF
## --------------------- ##
## M4sh Initialization.  ##
## --------------------- ##

# Be Bourne compatible
if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then
  emulate sh
  NULLCMD=:
  # Zsh 3.x and 4.x performs word splitting on ${1+"$@"}, which
  # is contrary to our usage.  Disable this feature.
  alias -g '${1+"$@"}'='"$@"'
  setopt NO_GLOB_SUBST
else
  case `(set -o) 2>/dev/null` in *posix*) set -o posix;; esac
fi
BIN_SH=xpg4; export BIN_SH # for Tru64
DUALCASE=1; export DUALCASE # for MKS sh


# PATH needs CR
# Avoid depending upon Character Ranges.
as_cr_letters='abcdefghijklmnopqrstuvwxyz'
as_cr_LETTERS='ABCDEFGHIJKLMNOPQRSTUVWXYZ'
as_cr_Letters=$as_cr_letters$as_cr_LETTERS
as_cr_digits='0123456789'
as_cr_alnum=$as_cr_Letters$as_cr_digits

# The user is always right.
if test "${PATH_SEPARATOR+set}" != set; then
  echo "#! /bin/sh" >conf$$.sh
  echo  "exit 0"   >>conf$$.sh
  chmod +x conf$$.sh
  if (PATH="/nonexistent;."; conf$$.sh) >/dev/null 2>&1; then
    PATH_SEPARATOR=';'
  else
    PATH_SEPARATOR=:
  fi
  rm -f conf$$.sh
fi

# Support unset when possible.
if ( (MAIL=60; unset MAIL) || exit) >/dev/null 2>&1; then
  as_unset=unset
else
  as_unset=false
fi


# IFS
# We need space, tab and new line, in precisely that order.  Quoting is
# there to prevent editors from complaining about space-tab.
# (If _AS_PATH_WALK were called with IFS unset, it would disable word
# splitting by setting IFS to empty value.)
as_nl='
'
IFS=" ""	$as_nl"

# Find who we are.  Look in the path if we contain no directory separator.
case $0 in
  *[\\/]* ) as_myself=$0 ;;
  *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
  test -r "$as_dir/$0" && as_myself=$as_dir/$0 && break
done
IFS=$as_save_IFS

     ;;
esac
# We did not find ourselves, most probably we were run as `sh COMMAND'
# in which case we are not to be found in the path.
if test "x$as_myself" = x; then
  as_myself=$0
fi
if test ! -f "$as_myself"; then
  echo "$as_myself: error: cannot find myself; rerun with an absolute file name" >&2
  { (exit 1); exit 1; }
fi

# Work around bugs in pre-3.0 UWIN ksh.
for as_var in ENV MAIL MAILPATH
do ($as_unset $as_var) >/dev/null 2>&1 && $as_unset $as_var
done
PS1='$ '
PS2='> '
PS4='+ '

# NLS nuisances.
for as_var in \
  LANG LANGUAGE LC_ADDRESS LC_ALL LC_COLLATE LC_CTYPE LC_IDENTIFICATION \
  LC_MEASUREMENT LC_MESSAGES LC_MONETARY LC_NAME LC_NUMERIC LC_PAPER \
  LC_TELEPHONE LC_TIME
do
  if (set +x; test -z "`(eval $as_var=C; export $as_var) 2>&1`"); then
    eval $as_var=C; export $as_var
  else
    ($as_unset $as_var) >/dev/null 2>&1 && $as_unset $as_var
  fi
done

# Required to use basename.
if expr a : '\(a\)' >/dev/null 2>&1 &&
   test "X`expr 00001 : '.*\(...\)'`" = X001; then
  as_expr=expr
else
  as_expr=false
fi

if (basename -- /) >/dev/null 2>&1 && test "X`basename -- / 2>&1`" = "X/"; then
  as_basename=basename
else
  as_basename=false
fi


# Name of the executable.
as_me=`$as_basename -- "$0" ||
$as_expr X/"$0" : '.*/\([^/][^/]*\)/*$' \| \
	 X"$0" : 'X\(//\)$' \| \
	 X"$0" : 'X\(/\)' \| . 2>/dev/null ||
echo X/"$0" |
    sed '/^.*\/\([^/][^/]*\)\/*$/{
	    s//\1/
	    q
	  }
	  /^X\/\(\/\/\)$/{
	    s//\1/
	    q
	  }
	  /^X\/\(\/\).*/{
	    s//\1/
	    q
	  }
	  s/.*/./; q'`

# CDPATH.
$as_unset CDPATH



  as_lineno_1=$LINENO
  as_lineno_2=$LINENO
  test "x$as_lineno_1" != "x$as_lineno_2" &&
  test "x`expr $as_lineno_1 + 1`" = "x$as_lineno_2" || {

  # Create $as_me.lineno as a copy of $as_myself, but with $LINENO
  # uniformly replaced by the line number.  The first 'sed' inserts a
  # line-number line after each line using $LINENO; the second 'sed'
  # does the real work.  The second script uses 'N' to pair each
  # line-number line with the line containing $LINENO, and appends
  # trailing '-' during substitution so that $LINENO is not a special
  # case at line end.
  # (Raja R Harinath suggested sed '=', and Paul Eggert wrote the
  # scripts with optimization help from Paolo Bonzini.  Blame Lee
  # E. McMahon (1931-1989) for sed's syntax.  :-)
  sed -n '
    p
    /[$]LINENO/=
  ' <$as_myself |
    sed '
      s/[$]LINENO.*/&-/
      t lineno
      b
      :lineno
      N
      :loop
      s/[$]LINENO\([^'$as_cr_alnum'_].*\n\)\(.*\)/\2\1\2/
      t loop
      s/-\n.*//
    ' >$as_me.lineno &&
  chmod +x "$as_me.lineno" ||
    { echo "$as_me: error: cannot create $as_me.lineno; rerun with a POSIX shell" >&2
   { (exit 1); exit 1; }; }

  # Don't try to exec as it changes $[0], causing all sort of problems
  # (the dirname of $[0] is not the place where we might find the
  # original and so on.  Autoconf is especially sensitive to this).
  . "./$as_me.lineno"
  # Exit status is that of the last command.
  exit
}


if (as_dir=`dirname -- /` && test "X$as_dir" = X/) >/dev/null 2>&1; then
  as_dirname=dirname
else
  as_dirname=false
fi

ECHO_C= ECHO_N= ECHO_T=
case `echo -n x` in
-n*)
  case `echo 'x\c'` in
  *c*) ECHO_T='	';;	# ECHO_T is single tab character.
  *)   ECHO_C='\c';;
  esac;;
*)
  ECHO_N='-n';;
esac

if expr a : '\(a\)' >/dev/null 2>&1 &&
   test "X`expr 00001 : '.*\(...\)'`" = X001; then
  as_expr=expr
else
  as_expr=false
fi

rm -f conf$$ conf$$.exe conf$$.file
if test -d conf$$.dir; then
  rm -f conf$$.dir/conf$$.file
else
  rm -f conf$$.dir
  mkdir conf$$.dir
fi
echo >conf$$.file
if ln -s conf$$.file conf$$ 2>/dev/null; then
  as_ln_s='ln -s'
  # ... but there are two gotchas:
  # 1) On MSYS, both `ln -s file dir' and `ln file dir' fail.
  # 2) DJGPP < 2.04 has no symlinks; `ln -s' creates a wrapper executable.
  # In both cases, we have to default to `cp -p'.
  ln -s conf$$.file conf$$.dir 2>/dev/null && test ! -f conf$$.exe ||
    as_ln_s='cp -p'
elif ln conf$$.file conf$$ 2>/dev/null; then
  as_ln_s=ln
else
  as_ln_s='cp -p'
fi
rm -f conf$$ conf$$.exe conf$$.dir/conf$$.file conf$$.file
rmdir conf$$.dir 2>/dev/null

if mkdir -p . 2>/dev/null; then
  as_mkdir_p=:
else
  test -d ./-p && rmdir ./-p
  as_mkdir_p=false
fi

# Find out whether ``test -x'' works.  Don't use a zero-byte file, as
# systems may use methods other than mode bits to determine executability.
cat >conf$$.file <<_ASEOF
#! /bin/sh
exit 0
_ASEOF
chmod +x conf$$.file
if test -x conf$$.file >/dev/null 2>&1; then
  as_executable_p="test -x"
else
  as_executable_p=:
fi
rm -f conf$$.file

# Sed expression to map a string onto a valid CPP name.
as_tr_cpp="eval sed 'y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g'"

# Sed expression to map a string onto a valid variable name.
as_tr_sh="eval sed 'y%*+%pp%;s%[^_$as_cr_alnum]%_%g'"


exec 6>&1

# Save the log message, to keep $[0] and so on meaningful, and to
# report actual input values of CONFIG_FILES etc. instead of their
# values after options handling.
ac_log="
This file was extended by $as_me, which was
generated by GNU Autoconf 2.60.  Invocation command line was

  CONFIG_FILES    = $CONFIG_FILES
  CONFIG_HEADERS  = $CONFIG_HEADERS
  CONFIG_LINKS    = $CONFIG_LINKS
  CONFIG_COMMANDS = $CONFIG_COMMANDS
  $ $0 $@

on `(hostname || uname -n) 2>/dev/null | sed 1q`
"

_ACEOF

cat >>$CONFIG_STATUS <<_ACEOF
# Files that config.status was made for.
config_files="$ac_config_files"
config_headers="$ac_config_headers"

_ACEOF

cat >>$CONFIG_STATUS <<\_ACEOF
ac_cs_usage="\
\`$as_me' instantiates files from templates according to the
current configuration.

Usage: $0 [OPTIONS] [FILE]...

  -h, --help       print this help, then exit
  -V, --version    print version number, then exit
  -q, --quiet      do not print progress messages
  -d, --debug      don't remove temporary files
      --recheck    update $as_me by reconfiguring in the same conditions
  --file=FILE[:TEMPLATE]
		   instantiate the configuration file FILE
  --header=FILE[:TEMPLATE]
		   instantiate the configuration header FILE

Configuration files:
$config_files

Configuration headers:
$config_headers

Report bugs to <bug-autoconf@gnu.org>."

_ACEOF
cat >>$CONFIG_STATUS <<_ACEOF
ac_cs_version="\\
config.status
configured by $0, generated by GNU Autoconf 2.60,
  with options \\"`echo "$ac_configure_args" | sed 's/^ //; s/[\\""\`\$]/\\\\&/g'`\\"

Copyright (C) 2006 Free Software Foundation, Inc.
This config.status script is free software; the Free Software Foundation
gives unlimited permission to copy, distribute and modify it."

ac_pwd='$ac_pwd'
srcdir='$srcdir'
INSTALL='$INSTALL'
_ACEOF

cat >>$CONFIG_STATUS <<\_ACEOF
# If no file are specified by the user, then we need to provide default
# value.  By we need to know if files were specified by the user.
ac_need_defaults=:
while test $# != 0
do
  case $1 in
  --*=*)
    ac_option=`expr "X$1" : 'X\([^=]*\)='`
    ac_optarg=`expr "X$1" : 'X[^=]*=\(.*\)'`
    ac_shift=:
    ;;
  *)
    ac_option=$1
    ac_optarg=$2
    ac_shift=shift
    ;;
  esac

  case $ac_option in
  # Handling of the options.
  -recheck | --recheck | --rechec | --reche | --rech | --rec | --re | --r)
    ac_cs_recheck=: ;;
  --version | --versio | --versi | --vers | --ver | --ve | --v | -V )
    echo "$ac_cs_version"; exit ;;
  --debug | --debu | --deb | --de | --d | -d )
    debug=: ;;
  --file | --fil | --fi | --f )
    $ac_shift
    CONFIG_FILES="$CONFIG_FILES $ac_optarg"
    ac_need_defaults=false;;
  --header | --heade | --head | --hea )
    $ac_shift
    CONFIG_HEADERS="$CONFIG_HEADERS $ac_optarg"
    ac_need_defaults=false;;
  --he | --h)
    # Conflict between --help and --header
    { echo "$as_me: error: ambiguous option: $1
Try \`$0 --help' for more information." >&2
   { (exit 1); exit 1; }; };;
  --help | --hel | -h )
    echo "$ac_cs_usage"; exit ;;
  -q | -quiet | --quiet | --quie | --qui | --qu | --q \
  | -silent | --silent | --silen | --sile | --sil | --si | --s)
    ac_cs_silent=: ;;

  # This is an error.
  -*) { echo "$as_me: error: unrecognized option: $1
Try \`$0 --help' for more information." >&2
   { (exit 1); exit 1; }; } ;;

  *) ac_config_targets="$ac_config_targets $1"
     ac_need_defaults=false ;;

  esac
  shift
done

ac_configure_extra_args=

if $ac_cs_silent; then
  exec 6>/dev/null
  ac_configure_extra_args="$ac_configure_extra_args --silent"
fi

_ACEOF
cat >>$CONFIG_STATUS <<_ACEOF
if \$ac_cs_recheck; then
  echo "running CONFIG_SHELL=$SHELL $SHELL $0 "$ac_configure_args \$ac_configure_extra_args " --no-create --no-recursion" >&6
  CONFIG_SHELL=$SHELL
  export CONFIG_SHELL
  exec $SHELL "$0"$ac_configure_args \$ac_configure_extra_args --no-create --no-recursion
fi

_ACEOF
cat >>$CONFIG_STATUS <<\_ACEOF
exec 5>>config.log
{
  echo
  sed 'h;s/./-/g;s/^.../## /;s/...$/ ##/;p;x;p;x' <<_ASBOX
## Running $as_me. ##
_ASBOX
  echo "$ac_log"
} >&5

_ACEOF
cat >>$CONFIG_STATUS <<_ACEOF
_ACEOF

cat >>$CONFIG_STATUS <<\_ACEOF

# Handling of arguments.
for ac_config_target in $ac_config_targets
do
  case $ac_config_target in
    "include/config.h") CONFIG_HEADERS="$CONFIG_HEADERS include/config.h" ;;
    "include/config1.h") CONFIG_HEADERS="$CONFIG_HEADERS include/config1.h" ;;
    "include/version.h") CONFIG_HEADERS="$CONFIG_HEADERS include/version.h" ;;
    "include/autoconf-extra.h") CONFIG_HEADERS="$CONFIG_HEADERS include/autoconf-extra.h" ;;
    "version") CONFIG_FILES="$CONFIG_FILES version" ;;
    "Makefile.conf") CONFIG_FILES="$CONFIG_FILES Makefile.conf" ;;
    "snddevices") CONFIG_FILES="$CONFIG_FILES snddevices" ;;
    "utils/alsa-driver.spec") CONFIG_FILES="$CONFIG_FILES utils/alsa-driver.spec" ;;
    "utils/buildrpm") CONFIG_FILES="$CONFIG_FILES utils/buildrpm" ;;
    "toplevel.config") CONFIG_FILES="$CONFIG_FILES toplevel.config" ;;
    "utils/alsasound") CONFIG_FILES="$CONFIG_FILES utils/alsasound" ;;
    "utils/alsasound.posix") CONFIG_FILES="$CONFIG_FILES utils/alsasound.posix" ;;
    "include/pci_ids_compat.h") CONFIG_FILES="$CONFIG_FILES include/pci_ids_compat.h" ;;
    "include/i2c-id_compat.h") CONFIG_FILES="$CONFIG_FILES include/i2c-id_compat.h" ;;

  *) { { echo "$as_me:$LINENO: error: invalid argument: $ac_config_target" >&5
echo "$as_me: error: invalid argument: $ac_config_target" >&2;}
   { (exit 1); exit 1; }; };;
  esac
done


# If the user did not use the arguments to specify the items to instantiate,
# then the envvar interface is used.  Set only those that are not.
# We use the long form for the default assignment because of an extremely
# bizarre bug on SunOS 4.1.3.
if $ac_need_defaults; then
  test "${CONFIG_FILES+set}" = set || CONFIG_FILES=$config_files
  test "${CONFIG_HEADERS+set}" = set || CONFIG_HEADERS=$config_headers
fi

# Have a temporary directory for convenience.  Make it in the build tree
# simply because there is no reason against having it here, and in addition,
# creating and moving files from /tmp can sometimes cause problems.
# Hook for its removal unless debugging.
# Note that there is a small window in which the directory will not be cleaned:
# after its creation but before its name has been assigned to `$tmp'.
$debug ||
{
  tmp=
  trap 'exit_status=$?
  { test -z "$tmp" || test ! -d "$tmp" || rm -fr "$tmp"; } && exit $exit_status
' 0
  trap '{ (exit 1); exit 1; }' 1 2 13 15
}
# Create a (secure) tmp directory for tmp files.

{
  tmp=`(umask 077 && mktemp -d "./confXXXXXX") 2>/dev/null` &&
  test -n "$tmp" && test -d "$tmp"
}  ||
{
  tmp=./conf$$-$RANDOM
  (umask 077 && mkdir "$tmp")
} ||
{
   echo "$me: cannot create a temporary directory in ." >&2
   { (exit 1); exit 1; }
}

#
# Set up the sed scripts for CONFIG_FILES section.
#

# No need to generate the scripts if there are no CONFIG_FILES.
# This happens for instance when ./config.status config.h
if test -n "$CONFIG_FILES"; then

_ACEOF



ac_delim='%!_!# '
for ac_last_try in false false false false false :; do
  cat >conf$$subs.sed <<_ACEOF
SHELL!$SHELL$ac_delim
PATH_SEPARATOR!$PATH_SEPARATOR$ac_delim
PACKAGE_NAME!$PACKAGE_NAME$ac_delim
PACKAGE_TARNAME!$PACKAGE_TARNAME$ac_delim
PACKAGE_VERSION!$PACKAGE_VERSION$ac_delim
PACKAGE_STRING!$PACKAGE_STRING$ac_delim
PACKAGE_BUGREPORT!$PACKAGE_BUGREPORT$ac_delim
exec_prefix!$exec_prefix$ac_delim
prefix!$prefix$ac_delim
program_transform_name!$program_transform_name$ac_delim
bindir!$bindir$ac_delim
sbindir!$sbindir$ac_delim
libexecdir!$libexecdir$ac_delim
datarootdir!$datarootdir$ac_delim
datadir!$datadir$ac_delim
sysconfdir!$sysconfdir$ac_delim
sharedstatedir!$sharedstatedir$ac_delim
localstatedir!$localstatedir$ac_delim
includedir!$includedir$ac_delim
oldincludedir!$oldincludedir$ac_delim
docdir!$docdir$ac_delim
infodir!$infodir$ac_delim
htmldir!$htmldir$ac_delim
dvidir!$dvidir$ac_delim
pdfdir!$pdfdir$ac_delim
psdir!$psdir$ac_delim
libdir!$libdir$ac_delim
localedir!$localedir$ac_delim
mandir!$mandir$ac_delim
DEFS!$DEFS$ac_delim
ECHO_C!$ECHO_C$ac_delim
ECHO_N!$ECHO_N$ac_delim
ECHO_T!$ECHO_T$ac_delim
LIBS!$LIBS$ac_delim
build_alias!$build_alias$ac_delim
host_alias!$host_alias$ac_delim
target_alias!$target_alias$ac_delim
CC!$CC$ac_delim
CFLAGS!$CFLAGS$ac_delim
LDFLAGS!$LDFLAGS$ac_delim
CPPFLAGS!$CPPFLAGS$ac_delim
ac_ct_CC!$ac_ct_CC$ac_delim
EXEEXT!$EXEEXT$ac_delim
OBJEXT!$OBJEXT$ac_delim
RANLIB!$RANLIB$ac_delim
INSTALL_PROGRAM!$INSTALL_PROGRAM$ac_delim
INSTALL_SCRIPT!$INSTALL_SCRIPT$ac_delim
INSTALL_DATA!$INSTALL_DATA$ac_delim
AR!$AR$ac_delim
AS!$AS$ac_delim
CPP!$CPP$ac_delim
GREP!$GREP$ac_delim
EGREP!$EGREP$ac_delim
SRCDIR!$SRCDIR$ac_delim
CROSS_COMPILE!$CROSS_COMPILE$ac_delim
ALSAKERNELDIR!$ALSAKERNELDIR$ac_delim
kaversion!$kaversion$ac_delim
kversion!$kversion$ac_delim
kpatchlevel!$kpatchlevel$ac_delim
ksublevel!$ksublevel$ac_delim
kextraversion!$kextraversion$ac_delim
NEW_KBUILD!$NEW_KBUILD$ac_delim
CONFIG_SND_KERNELDIR!$CONFIG_SND_KERNELDIR$ac_delim
MAKE_ADDS!$MAKE_ADDS$ac_delim
CONFIG_EXPERIMENTAL!$CONFIG_EXPERIMENTAL$ac_delim
moddir!$moddir$ac_delim
modsubdir!$modsubdir$ac_delim
moddir_tree!$moddir_tree$ac_delim
CONFIG_SGI!$CONFIG_SGI$ac_delim
processor!$processor$ac_delim
ARCH!$ARCH$ac_delim
KLD!$KLD$ac_delim
CONFIG_X86!$CONFIG_X86$ac_delim
CONFIG_X86_32!$CONFIG_X86_32$ac_delim
CONFIG_X86_64!$CONFIG_X86_64$ac_delim
CONFIG_ALPHA!$CONFIG_ALPHA$ac_delim
CONFIG_L3!$CONFIG_L3$ac_delim
CONFIG_ARM!$CONFIG_ARM$ac_delim
CONFIG_ARCH_SA1100!$CONFIG_ARCH_SA1100$ac_delim
CONFIG_ARCH_PXA!$CONFIG_ARCH_PXA$ac_delim
CONFIG_PPC!$CONFIG_PPC$ac_delim
CONFIG_SPARC32!$CONFIG_SPARC32$ac_delim
CONFIG_SPARC64!$CONFIG_SPARC64$ac_delim
CONFIG_SBUS!$CONFIG_SBUS$ac_delim
CONFIG_MIPS!$CONFIG_MIPS$ac_delim
CONFIG_ISA!$CONFIG_ISA$ac_delim
CONFIG_ISA_DMA_API!$CONFIG_ISA_DMA_API$ac_delim
CONFIG_PARISC!$CONFIG_PARISC$ac_delim
CONFIG_SUPERH!$CONFIG_SUPERH$ac_delim
CONFIG_SUPERH64!$CONFIG_SUPERH64$ac_delim
CONFIG_SND_MVERSION!$CONFIG_SND_MVERSION$ac_delim
CONFIG_PCI!$CONFIG_PCI$ac_delim
CONFIG_I2C!$CONFIG_I2C$ac_delim
CONFIG_FW_LOADER!$CONFIG_FW_LOADER$ac_delim
CONFIG_INPUT!$CONFIG_INPUT$ac_delim
msmp!$msmp$ac_delim
CONFIG_VIDEO_DEV!$CONFIG_VIDEO_DEV$ac_delim
_ACEOF

  if test `sed -n "s/.*$ac_delim\$/X/p" conf$$subs.sed | grep -c X` = 97; then
    break
  elif $ac_last_try; then
    { { echo "$as_me:$LINENO: error: could not make $CONFIG_STATUS" >&5
echo "$as_me: error: could not make $CONFIG_STATUS" >&2;}
   { (exit 1); exit 1; }; }
  else
    ac_delim="$ac_delim!$ac_delim _$ac_delim!! "
  fi
done

ac_eof=`sed -n '/^CEOF[0-9]*$/s/CEOF/0/p' conf$$subs.sed`
if test -n "$ac_eof"; then
  ac_eof=`echo "$ac_eof" | sort -nru | sed 1q`
  ac_eof=`expr $ac_eof + 1`
fi

cat >>$CONFIG_STATUS <<_ACEOF
cat >"\$tmp/subs-1.sed" <<\CEOF$ac_eof
/@[a-zA-Z_][a-zA-Z_0-9]*@/!b
_ACEOF
sed '
s/[,\\&]/\\&/g; s/@/@|#_!!_#|/g
s/^/s,@/; s/!/@,|#_!!_#|/
:n
t n
s/'"$ac_delim"'$/,g/; t
s/$/\\/; p
N; s/^.*\n//; s/[,\\&]/\\&/g; s/@/@|#_!!_#|/g; b n
' >>$CONFIG_STATUS <conf$$subs.sed
rm -f conf$$subs.sed
cat >>$CONFIG_STATUS <<_ACEOF
CEOF$ac_eof
_ACEOF


ac_delim='%!_!# '
for ac_last_try in false false false false false :; do
  cat >conf$$subs.sed <<_ACEOF
CONFIG_ISAPNP_KERNEL!$CONFIG_ISAPNP_KERNEL$ac_delim
CONFIG_PNP_KERNEL!$CONFIG_PNP_KERNEL$ac_delim
CONFIG_ISAPNP!$CONFIG_ISAPNP$ac_delim
CONFIG_PNP!$CONFIG_PNP$ac_delim
CONFIG_SND_VERSION!$CONFIG_SND_VERSION$ac_delim
CONFIG_SND_DATE!$CONFIG_SND_DATE$ac_delim
CONFIG_RTC!$CONFIG_RTC$ac_delim
CONFIG_HPET!$CONFIG_HPET$ac_delim
CONFIG_PROC_FS!$CONFIG_PROC_FS$ac_delim
CONFIG_USB!$CONFIG_USB$ac_delim
CONFIG_SND_BIT32_EMUL!$CONFIG_SND_BIT32_EMUL$ac_delim
CONFIG_X86_PC!$CONFIG_X86_PC$ac_delim
CONFIG_HIGH_RES_TIMERS!$CONFIG_HIGH_RES_TIMERS$ac_delim
CONFIG_PCMCIA!$CONFIG_PCMCIA$ac_delim
CONFIG_X86_PC9800!$CONFIG_X86_PC9800$ac_delim
CONFIG_PARPORT!$CONFIG_PARPORT$ac_delim
CONFIG_PM!$CONFIG_PM$ac_delim
CONFIG_HAS_DMA!$CONFIG_HAS_DMA$ac_delim
CONFIG_SOUND!$CONFIG_SOUND$ac_delim
CONFIG_HAS_IOMEM!$CONFIG_HAS_IOMEM$ac_delim
CONFIG_SOUND_OSS_CORE!$CONFIG_SOUND_OSS_CORE$ac_delim
CONFIG_SOUND_OSS_CORE_PRECLAIM!$CONFIG_SOUND_OSS_CORE_PRECLAIM$ac_delim
CONFIG_M68K!$CONFIG_M68K$ac_delim
CONFIG_SND!$CONFIG_SND$ac_delim
CONFIG_SND_TIMER!$CONFIG_SND_TIMER$ac_delim
CONFIG_SND_PCM!$CONFIG_SND_PCM$ac_delim
CONFIG_GCD!$CONFIG_GCD$ac_delim
CONFIG_SND_HWDEP!$CONFIG_SND_HWDEP$ac_delim
CONFIG_SND_RAWMIDI!$CONFIG_SND_RAWMIDI$ac_delim
CONFIG_SND_JACK!$CONFIG_SND_JACK$ac_delim
CONFIG_SND_SEQUENCER!$CONFIG_SND_SEQUENCER$ac_delim
CONFIG_SND_SEQ_DUMMY!$CONFIG_SND_SEQ_DUMMY$ac_delim
CONFIG_SND_OSSEMUL!$CONFIG_SND_OSSEMUL$ac_delim
CONFIG_SND_MIXER_OSS!$CONFIG_SND_MIXER_OSS$ac_delim
CONFIG_SND_PCM_OSS!$CONFIG_SND_PCM_OSS$ac_delim
CONFIG_SND_PCM_OSS_PLUGINS!$CONFIG_SND_PCM_OSS_PLUGINS$ac_delim
CONFIG_SND_SEQUENCER_OSS!$CONFIG_SND_SEQUENCER_OSS$ac_delim
CONFIG_SND_HRTIMER!$CONFIG_SND_HRTIMER$ac_delim
CONFIG_SND_SEQ_HRTIMER_DEFAULT!$CONFIG_SND_SEQ_HRTIMER_DEFAULT$ac_delim
CONFIG_SND_RTCTIMER!$CONFIG_SND_RTCTIMER$ac_delim
CONFIG_SND_SEQ_RTCTIMER_DEFAULT!$CONFIG_SND_SEQ_RTCTIMER_DEFAULT$ac_delim
CONFIG_SND_DYNAMIC_MINORS!$CONFIG_SND_DYNAMIC_MINORS$ac_delim
CONFIG_SND_SUPPORT_OLD_API!$CONFIG_SND_SUPPORT_OLD_API$ac_delim
CONFIG_SND_VERBOSE_PROCFS!$CONFIG_SND_VERBOSE_PROCFS$ac_delim
CONFIG_SND_VERBOSE_PRINTK!$CONFIG_SND_VERBOSE_PRINTK$ac_delim
CONFIG_SND_DEBUG!$CONFIG_SND_DEBUG$ac_delim
CONFIG_SND_DEBUG_VERBOSE!$CONFIG_SND_DEBUG_VERBOSE$ac_delim
CONFIG_SND_PCM_XRUN_DEBUG!$CONFIG_SND_PCM_XRUN_DEBUG$ac_delim
CONFIG_SND_VMASTER!$CONFIG_SND_VMASTER$ac_delim
CONFIG_SND_DMA_SGBUF!$CONFIG_SND_DMA_SGBUF$ac_delim
CONFIG_SND_RAWMIDI_SEQ!$CONFIG_SND_RAWMIDI_SEQ$ac_delim
CONFIG_SND_OPL3_LIB_SEQ!$CONFIG_SND_OPL3_LIB_SEQ$ac_delim
CONFIG_SND_OPL3_LIB!$CONFIG_SND_OPL3_LIB$ac_delim
CONFIG_SND_OPL4_LIB_SEQ!$CONFIG_SND_OPL4_LIB_SEQ$ac_delim
CONFIG_SND_OPL4_LIB!$CONFIG_SND_OPL4_LIB$ac_delim
CONFIG_SND_SBAWE_SEQ!$CONFIG_SND_SBAWE_SEQ$ac_delim
CONFIG_SND_SBAWE!$CONFIG_SND_SBAWE$ac_delim
CONFIG_SND_EMU10K1_SEQ!$CONFIG_SND_EMU10K1_SEQ$ac_delim
CONFIG_SND_EMU10K1!$CONFIG_SND_EMU10K1$ac_delim
CONFIG_SND_DEBUG_MEMORY!$CONFIG_SND_DEBUG_MEMORY$ac_delim
CONFIG_SND_HPET!$CONFIG_SND_HPET$ac_delim
CONFIG_BROKEN!$CONFIG_BROKEN$ac_delim
CONFIG_SND_MPU401_UART!$CONFIG_SND_MPU401_UART$ac_delim
CONFIG_SND_VX_LIB!$CONFIG_SND_VX_LIB$ac_delim
CONFIG_SND_AC97_CODEC!$CONFIG_SND_AC97_CODEC$ac_delim
CONFIG_SND_DRIVERS!$CONFIG_SND_DRIVERS$ac_delim
CONFIG_SND_PCSP!$CONFIG_SND_PCSP$ac_delim
CONFIG_PCSPKR_PLATFORM!$CONFIG_PCSPKR_PLATFORM$ac_delim
CONFIG_SND_DUMMY!$CONFIG_SND_DUMMY$ac_delim
CONFIG_SND_VIRMIDI!$CONFIG_SND_VIRMIDI$ac_delim
CONFIG_SND_MTPAV!$CONFIG_SND_MTPAV$ac_delim
CONFIG_SND_MTS64!$CONFIG_SND_MTS64$ac_delim
CONFIG_SND_SERIAL_U16550!$CONFIG_SND_SERIAL_U16550$ac_delim
CONFIG_SND_MPU401!$CONFIG_SND_MPU401$ac_delim
CONFIG_SND_PORTMAN2X4!$CONFIG_SND_PORTMAN2X4$ac_delim
CONFIG_SND_ML403_AC97CR!$CONFIG_SND_ML403_AC97CR$ac_delim
CONFIG_XILINX_VIRTEX!$CONFIG_XILINX_VIRTEX$ac_delim
CONFIG_SND_AC97_POWER_SAVE!$CONFIG_SND_AC97_POWER_SAVE$ac_delim
CONFIG_SND_AC97_POWER_SAVE_DEFAULT!$CONFIG_SND_AC97_POWER_SAVE_DEFAULT$ac_delim
CONFIG_SND_SERIALMIDI!$CONFIG_SND_SERIALMIDI$ac_delim
CONFIG_SND_LOOPBACK!$CONFIG_SND_LOOPBACK$ac_delim
CONFIG_SND_WSS_LIB!$CONFIG_SND_WSS_LIB$ac_delim
CONFIG_SND_SB_COMMON!$CONFIG_SND_SB_COMMON$ac_delim
CONFIG_SND_SB8_DSP!$CONFIG_SND_SB8_DSP$ac_delim
CONFIG_SND_SB16_DSP!$CONFIG_SND_SB16_DSP$ac_delim
CONFIG_SND_ISA!$CONFIG_SND_ISA$ac_delim
CONFIG_SND_ADLIB!$CONFIG_SND_ADLIB$ac_delim
CONFIG_SND_AD1816A!$CONFIG_SND_AD1816A$ac_delim
CONFIG_SND_AD1848!$CONFIG_SND_AD1848$ac_delim
CONFIG_SND_ALS100!$CONFIG_SND_ALS100$ac_delim
CONFIG_SND_AZT2320!$CONFIG_SND_AZT2320$ac_delim
CONFIG_SND_CMI8330!$CONFIG_SND_CMI8330$ac_delim
CONFIG_SND_CS4231!$CONFIG_SND_CS4231$ac_delim
CONFIG_SND_CS4236!$CONFIG_SND_CS4236$ac_delim
CONFIG_SND_ES968!$CONFIG_SND_ES968$ac_delim
CONFIG_SND_ES1688!$CONFIG_SND_ES1688$ac_delim
CONFIG_SND_ES18XX!$CONFIG_SND_ES18XX$ac_delim
_ACEOF

  if test `sed -n "s/.*$ac_delim\$/X/p" conf$$subs.sed | grep -c X` = 97; then
    break
  elif $ac_last_try; then
    { { echo "$as_me:$LINENO: error: could not make $CONFIG_STATUS" >&5
echo "$as_me: error: could not make $CONFIG_STATUS" >&2;}
   { (exit 1); exit 1; }; }
  else
    ac_delim="$ac_delim!$ac_delim _$ac_delim!! "
  fi
done

ac_eof=`sed -n '/^CEOF[0-9]*$/s/CEOF/0/p' conf$$subs.sed`
if test -n "$ac_eof"; then
  ac_eof=`echo "$ac_eof" | sort -nru | sed 1q`
  ac_eof=`expr $ac_eof + 1`
fi

cat >>$CONFIG_STATUS <<_ACEOF
cat >"\$tmp/subs-2.sed" <<\CEOF$ac_eof
/@[a-zA-Z_][a-zA-Z_0-9]*@/!b
_ACEOF
sed '
s/[,\\&]/\\&/g; s/@/@|#_!!_#|/g
s/^/s,@/; s/!/@,|#_!!_#|/
:n
t n
s/'"$ac_delim"'$/,g/; t
s/$/\\/; p
N; s/^.*\n//; s/[,\\&]/\\&/g; s/@/@|#_!!_#|/g; b n
' >>$CONFIG_STATUS <conf$$subs.sed
rm -f conf$$subs.sed
cat >>$CONFIG_STATUS <<_ACEOF
CEOF$ac_eof
_ACEOF


ac_delim='%!_!# '
for ac_last_try in false false false false false :; do
  cat >conf$$subs.sed <<_ACEOF
CONFIG_SND_SC6000!$CONFIG_SND_SC6000$ac_delim
CONFIG_HAS_IOPORT!$CONFIG_HAS_IOPORT$ac_delim
CONFIG_SND_GUSCLASSIC!$CONFIG_SND_GUSCLASSIC$ac_delim
CONFIG_SND_GUSEXTREME!$CONFIG_SND_GUSEXTREME$ac_delim
CONFIG_SND_GUSMAX!$CONFIG_SND_GUSMAX$ac_delim
CONFIG_SND_INTERWAVE!$CONFIG_SND_INTERWAVE$ac_delim
CONFIG_SND_INTERWAVE_STB!$CONFIG_SND_INTERWAVE_STB$ac_delim
CONFIG_SND_JAZZ16!$CONFIG_SND_JAZZ16$ac_delim
CONFIG_SND_OPL3SA2!$CONFIG_SND_OPL3SA2$ac_delim
CONFIG_SND_OPTI92X_AD1848!$CONFIG_SND_OPTI92X_AD1848$ac_delim
CONFIG_SND_OPTI92X_CS4231!$CONFIG_SND_OPTI92X_CS4231$ac_delim
CONFIG_SND_OPTI93X!$CONFIG_SND_OPTI93X$ac_delim
CONFIG_SND_MIRO!$CONFIG_SND_MIRO$ac_delim
CONFIG_SND_SB8!$CONFIG_SND_SB8$ac_delim
CONFIG_SND_SB16!$CONFIG_SND_SB16$ac_delim
CONFIG_SND_SB16_CSP!$CONFIG_SND_SB16_CSP$ac_delim
CONFIG_SND_SGALAXY!$CONFIG_SND_SGALAXY$ac_delim
CONFIG_SND_SSCAPE!$CONFIG_SND_SSCAPE$ac_delim
CONFIG_SND_WAVEFRONT!$CONFIG_SND_WAVEFRONT$ac_delim
CONFIG_SND_MSND_PINNACLE!$CONFIG_SND_MSND_PINNACLE$ac_delim
CONFIG_SND_MSND_CLASSIC!$CONFIG_SND_MSND_CLASSIC$ac_delim
CONFIG_SND_PC98_CS4232!$CONFIG_SND_PC98_CS4232$ac_delim
CONFIG_SND_PCI!$CONFIG_SND_PCI$ac_delim
CONFIG_SND_AD1889!$CONFIG_SND_AD1889$ac_delim
CONFIG_SND_ALS300!$CONFIG_SND_ALS300$ac_delim
CONFIG_SND_ALS4000!$CONFIG_SND_ALS4000$ac_delim
CONFIG_SND_ALI5451!$CONFIG_SND_ALI5451$ac_delim
CONFIG_SND_ATIIXP!$CONFIG_SND_ATIIXP$ac_delim
CONFIG_SND_ATIIXP_MODEM!$CONFIG_SND_ATIIXP_MODEM$ac_delim
CONFIG_SND_AU8810!$CONFIG_SND_AU8810$ac_delim
CONFIG_SND_AU8820!$CONFIG_SND_AU8820$ac_delim
CONFIG_SND_AU8830!$CONFIG_SND_AU8830$ac_delim
CONFIG_SND_AW2!$CONFIG_SND_AW2$ac_delim
CONFIG_SND_AZT3328!$CONFIG_SND_AZT3328$ac_delim
CONFIG_SND_BT87X!$CONFIG_SND_BT87X$ac_delim
CONFIG_SND_BT87X_OVERCLOCK!$CONFIG_SND_BT87X_OVERCLOCK$ac_delim
CONFIG_SND_CA0106!$CONFIG_SND_CA0106$ac_delim
CONFIG_SND_CMIPCI!$CONFIG_SND_CMIPCI$ac_delim
CONFIG_SND_OXYGEN_LIB!$CONFIG_SND_OXYGEN_LIB$ac_delim
CONFIG_SND_OXYGEN!$CONFIG_SND_OXYGEN$ac_delim
CONFIG_SND_CS4281!$CONFIG_SND_CS4281$ac_delim
CONFIG_SND_CS46XX!$CONFIG_SND_CS46XX$ac_delim
CONFIG_SND_CS46XX_NEW_DSP!$CONFIG_SND_CS46XX_NEW_DSP$ac_delim
CONFIG_SND_CS5530!$CONFIG_SND_CS5530$ac_delim
CONFIG_SND_CS5535AUDIO!$CONFIG_SND_CS5535AUDIO$ac_delim
CONFIG_SND_CTXFI!$CONFIG_SND_CTXFI$ac_delim
CONFIG_SND_DARLA20!$CONFIG_SND_DARLA20$ac_delim
CONFIG_SND_GINA20!$CONFIG_SND_GINA20$ac_delim
CONFIG_SND_LAYLA20!$CONFIG_SND_LAYLA20$ac_delim
CONFIG_SND_DARLA24!$CONFIG_SND_DARLA24$ac_delim
CONFIG_SND_GINA24!$CONFIG_SND_GINA24$ac_delim
CONFIG_SND_LAYLA24!$CONFIG_SND_LAYLA24$ac_delim
CONFIG_SND_MONA!$CONFIG_SND_MONA$ac_delim
CONFIG_SND_MIA!$CONFIG_SND_MIA$ac_delim
CONFIG_SND_ECHO3G!$CONFIG_SND_ECHO3G$ac_delim
CONFIG_SND_INDIGO!$CONFIG_SND_INDIGO$ac_delim
CONFIG_SND_INDIGOIO!$CONFIG_SND_INDIGOIO$ac_delim
CONFIG_SND_INDIGODJ!$CONFIG_SND_INDIGODJ$ac_delim
CONFIG_SND_INDIGOIOX!$CONFIG_SND_INDIGOIOX$ac_delim
CONFIG_SND_INDIGODJX!$CONFIG_SND_INDIGODJX$ac_delim
CONFIG_SND_EMU10K1X!$CONFIG_SND_EMU10K1X$ac_delim
CONFIG_SND_ENS1370!$CONFIG_SND_ENS1370$ac_delim
CONFIG_SND_ENS1371!$CONFIG_SND_ENS1371$ac_delim
CONFIG_SND_ES1938!$CONFIG_SND_ES1938$ac_delim
CONFIG_SND_ES1968!$CONFIG_SND_ES1968$ac_delim
CONFIG_SND_FM801!$CONFIG_SND_FM801$ac_delim
CONFIG_SND_FM801_TEA575X_BOOL!$CONFIG_SND_FM801_TEA575X_BOOL$ac_delim
CONFIG_VIDEO_V4L2!$CONFIG_VIDEO_V4L2$ac_delim
CONFIG_SND_FM801_TEA575X!$CONFIG_SND_FM801_TEA575X$ac_delim
CONFIG_SND_HDA_INTEL!$CONFIG_SND_HDA_INTEL$ac_delim
CONFIG_SND_HDA_HWDEP!$CONFIG_SND_HDA_HWDEP$ac_delim
CONFIG_SND_HDA_RECONFIG!$CONFIG_SND_HDA_RECONFIG$ac_delim
CONFIG_SND_HDA_INPUT_BEEP!$CONFIG_SND_HDA_INPUT_BEEP$ac_delim
CONFIG_SND_HDA_INPUT_BEEP_MODE!$CONFIG_SND_HDA_INPUT_BEEP_MODE$ac_delim
CONFIG_SND_HDA_INPUT_JACK!$CONFIG_SND_HDA_INPUT_JACK$ac_delim
CONFIG_SND_HDA_PATCH_LOADER!$CONFIG_SND_HDA_PATCH_LOADER$ac_delim
CONFIG_SND_HDA_CODEC_REALTEK!$CONFIG_SND_HDA_CODEC_REALTEK$ac_delim
CONFIG_SND_HDA_CODEC_ANALOG!$CONFIG_SND_HDA_CODEC_ANALOG$ac_delim
CONFIG_SND_HDA_CODEC_SIGMATEL!$CONFIG_SND_HDA_CODEC_SIGMATEL$ac_delim
CONFIG_SND_HDA_CODEC_VIA!$CONFIG_SND_HDA_CODEC_VIA$ac_delim
CONFIG_SND_HDA_CODEC_ATIHDMI!$CONFIG_SND_HDA_CODEC_ATIHDMI$ac_delim
CONFIG_SND_HDA_CODEC_NVHDMI!$CONFIG_SND_HDA_CODEC_NVHDMI$ac_delim
CONFIG_SND_HDA_CODEC_INTELHDMI!$CONFIG_SND_HDA_CODEC_INTELHDMI$ac_delim
CONFIG_SND_HDA_ELD!$CONFIG_SND_HDA_ELD$ac_delim
CONFIG_SND_HDA_CODEC_CIRRUS!$CONFIG_SND_HDA_CODEC_CIRRUS$ac_delim
CONFIG_SND_HDA_CODEC_CONEXANT!$CONFIG_SND_HDA_CODEC_CONEXANT$ac_delim
CONFIG_SND_HDA_CODEC_CA0110!$CONFIG_SND_HDA_CODEC_CA0110$ac_delim
CONFIG_SND_HDA_CODEC_CMEDIA!$CONFIG_SND_HDA_CODEC_CMEDIA$ac_delim
CONFIG_SND_HDA_CODEC_SI3054!$CONFIG_SND_HDA_CODEC_SI3054$ac_delim
CONFIG_SND_HDA_GENERIC!$CONFIG_SND_HDA_GENERIC$ac_delim
CONFIG_SND_HDA_POWER_SAVE!$CONFIG_SND_HDA_POWER_SAVE$ac_delim
CONFIG_SND_HDA_POWER_SAVE_DEFAULT!$CONFIG_SND_HDA_POWER_SAVE_DEFAULT$ac_delim
CONFIG_SND_HDSP!$CONFIG_SND_HDSP$ac_delim
CONFIG_SND_HDSPM!$CONFIG_SND_HDSPM$ac_delim
CONFIG_SND_HIFIER!$CONFIG_SND_HIFIER$ac_delim
CONFIG_SND_ICE1712!$CONFIG_SND_ICE1712$ac_delim
CONFIG_BITREVERSE!$CONFIG_BITREVERSE$ac_delim
_ACEOF

  if test `sed -n "s/.*$ac_delim\$/X/p" conf$$subs.sed | grep -c X` = 97; then
    break
  elif $ac_last_try; then
    { { echo "$as_me:$LINENO: error: could not make $CONFIG_STATUS" >&5
echo "$as_me: error: could not make $CONFIG_STATUS" >&2;}
   { (exit 1); exit 1; }; }
  else
    ac_delim="$ac_delim!$ac_delim _$ac_delim!! "
  fi
done

ac_eof=`sed -n '/^CEOF[0-9]*$/s/CEOF/0/p' conf$$subs.sed`
if test -n "$ac_eof"; then
  ac_eof=`echo "$ac_eof" | sort -nru | sed 1q`
  ac_eof=`expr $ac_eof + 1`
fi

cat >>$CONFIG_STATUS <<_ACEOF
cat >"\$tmp/subs-3.sed" <<\CEOF$ac_eof
/@[a-zA-Z_][a-zA-Z_0-9]*@/!b
_ACEOF
sed '
s/[,\\&]/\\&/g; s/@/@|#_!!_#|/g
s/^/s,@/; s/!/@,|#_!!_#|/
:n
t n
s/'"$ac_delim"'$/,g/; t
s/$/\\/; p
N; s/^.*\n//; s/[,\\&]/\\&/g; s/@/@|#_!!_#|/g; b n
' >>$CONFIG_STATUS <conf$$subs.sed
rm -f conf$$subs.sed
cat >>$CONFIG_STATUS <<_ACEOF
CEOF$ac_eof
_ACEOF


ac_delim='%!_!# '
for ac_last_try in false false false false false :; do
  cat >conf$$subs.sed <<_ACEOF
CONFIG_SND_ICE1724!$CONFIG_SND_ICE1724$ac_delim
CONFIG_SND_INTEL8X0!$CONFIG_SND_INTEL8X0$ac_delim
CONFIG_SND_INTEL8X0M!$CONFIG_SND_INTEL8X0M$ac_delim
CONFIG_SND_KORG1212!$CONFIG_SND_KORG1212$ac_delim
CONFIG_SND_LX6464ES!$CONFIG_SND_LX6464ES$ac_delim
CONFIG_SND_MAESTRO3!$CONFIG_SND_MAESTRO3$ac_delim
CONFIG_SND_MIXART!$CONFIG_SND_MIXART$ac_delim
CONFIG_SND_NM256!$CONFIG_SND_NM256$ac_delim
CONFIG_SND_PCXHR!$CONFIG_SND_PCXHR$ac_delim
CONFIG_SND_RIPTIDE!$CONFIG_SND_RIPTIDE$ac_delim
CONFIG_SND_RME32!$CONFIG_SND_RME32$ac_delim
CONFIG_SND_RME96!$CONFIG_SND_RME96$ac_delim
CONFIG_SND_RME9652!$CONFIG_SND_RME9652$ac_delim
CONFIG_SND_SIS7019!$CONFIG_SND_SIS7019$ac_delim
CONFIG_SND_SONICVIBES!$CONFIG_SND_SONICVIBES$ac_delim
CONFIG_SND_TRIDENT!$CONFIG_SND_TRIDENT$ac_delim
CONFIG_SND_VIA82XX!$CONFIG_SND_VIA82XX$ac_delim
CONFIG_SND_VIA82XX_MODEM!$CONFIG_SND_VIA82XX_MODEM$ac_delim
CONFIG_SND_VIRTUOSO!$CONFIG_SND_VIRTUOSO$ac_delim
CONFIG_SND_VX222!$CONFIG_SND_VX222$ac_delim
CONFIG_SND_YMFPCI!$CONFIG_SND_YMFPCI$ac_delim
CONFIG_SND_PDPLUS!$CONFIG_SND_PDPLUS$ac_delim
CONFIG_SND_ASIHPI!$CONFIG_SND_ASIHPI$ac_delim
CONFIG_SND_PPC!$CONFIG_SND_PPC$ac_delim
CONFIG_SND_POWERMAC!$CONFIG_SND_POWERMAC$ac_delim
CONFIG_PPC_PMAC!$CONFIG_PPC_PMAC$ac_delim
CONFIG_SND_POWERMAC_AUTO_DRC!$CONFIG_SND_POWERMAC_AUTO_DRC$ac_delim
CONFIG_SND_PS3!$CONFIG_SND_PS3$ac_delim
CONFIG_PS3_PS3AV!$CONFIG_PS3_PS3AV$ac_delim
CONFIG_SND_PS3_DEFAULT_START_DELAY!$CONFIG_SND_PS3_DEFAULT_START_DELAY$ac_delim
CONFIG_SND_AOA!$CONFIG_SND_AOA$ac_delim
CONFIG_SND_AOA_FABRIC_LAYOUT!$CONFIG_SND_AOA_FABRIC_LAYOUT$ac_delim
CONFIG_SND_AOA_ONYX!$CONFIG_SND_AOA_ONYX$ac_delim
CONFIG_I2C_POWERMAC!$CONFIG_I2C_POWERMAC$ac_delim
CONFIG_SND_AOA_TAS!$CONFIG_SND_AOA_TAS$ac_delim
CONFIG_SND_AOA_TOONIE!$CONFIG_SND_AOA_TOONIE$ac_delim
CONFIG_SND_AOA_SOUNDBUS!$CONFIG_SND_AOA_SOUNDBUS$ac_delim
CONFIG_SND_AOA_SOUNDBUS_I2S!$CONFIG_SND_AOA_SOUNDBUS_I2S$ac_delim
CONFIG_SND_ARM!$CONFIG_SND_ARM$ac_delim
CONFIG_SND_ARMAACI!$CONFIG_SND_ARMAACI$ac_delim
CONFIG_ARM_AMBA!$CONFIG_ARM_AMBA$ac_delim
CONFIG_SND_PXA2XX_PCM!$CONFIG_SND_PXA2XX_PCM$ac_delim
CONFIG_SND_PXA2XX_LIB!$CONFIG_SND_PXA2XX_LIB$ac_delim
CONFIG_SND_PXA2XX_LIB_AC97!$CONFIG_SND_PXA2XX_LIB_AC97$ac_delim
CONFIG_SND_PXA2XX_AC97!$CONFIG_SND_PXA2XX_AC97$ac_delim
CONFIG_SND_SA11XX_UDA1341!$CONFIG_SND_SA11XX_UDA1341$ac_delim
CONFIG_SND_S3C2410!$CONFIG_SND_S3C2410$ac_delim
CONFIG_ARCH_S3C2410!$CONFIG_ARCH_S3C2410$ac_delim
CONFIG_I2C_SENSOR!$CONFIG_I2C_SENSOR$ac_delim
CONFIG_SND_PXA2XX_I2SOUND!$CONFIG_SND_PXA2XX_I2SOUND$ac_delim
CONFIG_AVR32!$CONFIG_AVR32$ac_delim
CONFIG_ARCH_AT91!$CONFIG_ARCH_AT91$ac_delim
CONFIG_SND_ATMEL_ABDAC!$CONFIG_SND_ATMEL_ABDAC$ac_delim
CONFIG_DW_DMAC!$CONFIG_DW_DMAC$ac_delim
CONFIG_SND_ATMEL_AC97C!$CONFIG_SND_ATMEL_AC97C$ac_delim
CONFIG_SND_SPI!$CONFIG_SND_SPI$ac_delim
CONFIG_SPI!$CONFIG_SPI$ac_delim
CONFIG_SND_AT73C213!$CONFIG_SND_AT73C213$ac_delim
CONFIG_ATMEL_SSC!$CONFIG_ATMEL_SSC$ac_delim
CONFIG_SND_AT73C213_TARGET_BITRATE!$CONFIG_SND_AT73C213_TARGET_BITRATE$ac_delim
CONFIG_SND_MIPS!$CONFIG_SND_MIPS$ac_delim
CONFIG_SND_SGI_O2!$CONFIG_SND_SGI_O2$ac_delim
CONFIG_SGI_IP32!$CONFIG_SGI_IP32$ac_delim
CONFIG_SND_SGI_HAL2!$CONFIG_SND_SGI_HAL2$ac_delim
CONFIG_SGI_HAS_HAL2!$CONFIG_SGI_HAS_HAL2$ac_delim
CONFIG_SND_AU1X00!$CONFIG_SND_AU1X00$ac_delim
CONFIG_SOC_AU1000!$CONFIG_SOC_AU1000$ac_delim
CONFIG_SOC_AU1100!$CONFIG_SOC_AU1100$ac_delim
CONFIG_SOC_AU1500!$CONFIG_SOC_AU1500$ac_delim
CONFIG_SND_SUPERH!$CONFIG_SND_SUPERH$ac_delim
CONFIG_SND_AICA!$CONFIG_SND_AICA$ac_delim
CONFIG_SH_DREAMCAST!$CONFIG_SH_DREAMCAST$ac_delim
CONFIG_G2_DMA!$CONFIG_G2_DMA$ac_delim
CONFIG_SND_SH_DAC_AUDIO!$CONFIG_SND_SH_DAC_AUDIO$ac_delim
CONFIG_CPU_SH3!$CONFIG_CPU_SH3$ac_delim
CONFIG_SND_USB!$CONFIG_SND_USB$ac_delim
CONFIG_SND_USB_AUDIO!$CONFIG_SND_USB_AUDIO$ac_delim
CONFIG_SND_USB_UA101!$CONFIG_SND_USB_UA101$ac_delim
CONFIG_SND_USB_USX2Y!$CONFIG_SND_USB_USX2Y$ac_delim
CONFIG_SND_USB_CAIAQ!$CONFIG_SND_USB_CAIAQ$ac_delim
CONFIG_SND_USB_CAIAQ_INPUT!$CONFIG_SND_USB_CAIAQ_INPUT$ac_delim
CONFIG_SND_USB_US122L!$CONFIG_SND_USB_US122L$ac_delim
CONFIG_SND_PCMCIA!$CONFIG_SND_PCMCIA$ac_delim
CONFIG_SND_VXPOCKET!$CONFIG_SND_VXPOCKET$ac_delim
CONFIG_SND_PDAUDIOCF!$CONFIG_SND_PDAUDIOCF$ac_delim
CONFIG_SND_SPARC!$CONFIG_SND_SPARC$ac_delim
CONFIG_SPARC!$CONFIG_SPARC$ac_delim
CONFIG_SND_SUN_AMD7930!$CONFIG_SND_SUN_AMD7930$ac_delim
CONFIG_SND_SUN_CS4231!$CONFIG_SND_SUN_CS4231$ac_delim
CONFIG_SND_SUN_DBRI!$CONFIG_SND_SUN_DBRI$ac_delim
CONFIG_SND_GSC!$CONFIG_SND_GSC$ac_delim
CONFIG_GSC!$CONFIG_GSC$ac_delim
CONFIG_SND_HARMONY!$CONFIG_SND_HARMONY$ac_delim
CONFIG_SND_SOC!$CONFIG_SND_SOC$ac_delim
CONFIG_SND_SOC_AC97_BUS!$CONFIG_SND_SOC_AC97_BUS$ac_delim
CONFIG_SND_ATMEL_SOC!$CONFIG_SND_ATMEL_SOC$ac_delim
CONFIG_SND_ATMEL_SOC_SSC!$CONFIG_SND_ATMEL_SOC_SSC$ac_delim
_ACEOF

  if test `sed -n "s/.*$ac_delim\$/X/p" conf$$subs.sed | grep -c X` = 97; then
    break
  elif $ac_last_try; then
    { { echo "$as_me:$LINENO: error: could not make $CONFIG_STATUS" >&5
echo "$as_me: error: could not make $CONFIG_STATUS" >&2;}
   { (exit 1); exit 1; }; }
  else
    ac_delim="$ac_delim!$ac_delim _$ac_delim!! "
  fi
done

ac_eof=`sed -n '/^CEOF[0-9]*$/s/CEOF/0/p' conf$$subs.sed`
if test -n "$ac_eof"; then
  ac_eof=`echo "$ac_eof" | sort -nru | sed 1q`
  ac_eof=`expr $ac_eof + 1`
fi

cat >>$CONFIG_STATUS <<_ACEOF
cat >"\$tmp/subs-4.sed" <<\CEOF$ac_eof
/@[a-zA-Z_][a-zA-Z_0-9]*@/!b
_ACEOF
sed '
s/[,\\&]/\\&/g; s/@/@|#_!!_#|/g
s/^/s,@/; s/!/@,|#_!!_#|/
:n
t n
s/'"$ac_delim"'$/,g/; t
s/$/\\/; p
N; s/^.*\n//; s/[,\\&]/\\&/g; s/@/@|#_!!_#|/g; b n
' >>$CONFIG_STATUS <conf$$subs.sed
rm -f conf$$subs.sed
cat >>$CONFIG_STATUS <<_ACEOF
CEOF$ac_eof
_ACEOF


ac_delim='%!_!# '
for ac_last_try in false false false false false :; do
  cat >conf$$subs.sed <<_ACEOF
CONFIG_SND_AT91_SOC_SAM9G20_WM8731!$CONFIG_SND_AT91_SOC_SAM9G20_WM8731$ac_delim
CONFIG_ARCH_AT91SAM9G20!$CONFIG_ARCH_AT91SAM9G20$ac_delim
CONFIG_SND_AT32_SOC_PLAYPAQ!$CONFIG_SND_AT32_SOC_PLAYPAQ$ac_delim
CONFIG_BOARD_PLAYPAQ!$CONFIG_BOARD_PLAYPAQ$ac_delim
CONFIG_SND_AT32_SOC_PLAYPAQ_SLAVE!$CONFIG_SND_AT32_SOC_PLAYPAQ_SLAVE$ac_delim
CONFIG_SND_AT91_SOC_AFEB9260!$CONFIG_SND_AT91_SOC_AFEB9260$ac_delim
CONFIG_MACH_AFEB9260!$CONFIG_MACH_AFEB9260$ac_delim
CONFIG_SND_SOC_AU1XPSC!$CONFIG_SND_SOC_AU1XPSC$ac_delim
CONFIG_SOC_AU1200!$CONFIG_SOC_AU1200$ac_delim
CONFIG_SOC_AU1550!$CONFIG_SOC_AU1550$ac_delim
CONFIG_SND_SOC_AU1XPSC_I2S!$CONFIG_SND_SOC_AU1XPSC_I2S$ac_delim
CONFIG_SND_SOC_AU1XPSC_AC97!$CONFIG_SND_SOC_AU1XPSC_AC97$ac_delim
CONFIG_SND_SOC_SAMPLE_PSC_AC97!$CONFIG_SND_SOC_SAMPLE_PSC_AC97$ac_delim
CONFIG_SND_BF5XX_I2S!$CONFIG_SND_BF5XX_I2S$ac_delim
CONFIG_BLACKFIN!$CONFIG_BLACKFIN$ac_delim
CONFIG_SND_BF5XX_SOC_SSM2602!$CONFIG_SND_BF5XX_SOC_SSM2602$ac_delim
CONFIG_SND_BF5XX_SOC_AD73311!$CONFIG_SND_BF5XX_SOC_AD73311$ac_delim
CONFIG_SND_BFIN_AD73311_SE!$CONFIG_SND_BFIN_AD73311_SE$ac_delim
CONFIG_SND_BF5XX_TDM!$CONFIG_SND_BF5XX_TDM$ac_delim
CONFIG_SND_BF5XX_SOC_AD1836!$CONFIG_SND_BF5XX_SOC_AD1836$ac_delim
CONFIG_SND_BF5XX_SOC_AD1938!$CONFIG_SND_BF5XX_SOC_AD1938$ac_delim
CONFIG_SND_BF5XX_AC97!$CONFIG_SND_BF5XX_AC97$ac_delim
CONFIG_SND_BF5XX_MMAP_SUPPORT!$CONFIG_SND_BF5XX_MMAP_SUPPORT$ac_delim
CONFIG_SND_BF5XX_MULTICHAN_SUPPORT!$CONFIG_SND_BF5XX_MULTICHAN_SUPPORT$ac_delim
CONFIG_SND_BF5XX_HAVE_COLD_RESET!$CONFIG_SND_BF5XX_HAVE_COLD_RESET$ac_delim
CONFIG_SND_BF5XX_RESET_GPIO_NUM!$CONFIG_SND_BF5XX_RESET_GPIO_NUM$ac_delim
CONFIG_SND_BF5XX_SOC_AD1980!$CONFIG_SND_BF5XX_SOC_AD1980$ac_delim
CONFIG_SND_BF5XX_SOC_SPORT!$CONFIG_SND_BF5XX_SOC_SPORT$ac_delim
CONFIG_SND_BF5XX_SOC_I2S!$CONFIG_SND_BF5XX_SOC_I2S$ac_delim
CONFIG_SND_BF5XX_SOC_TDM!$CONFIG_SND_BF5XX_SOC_TDM$ac_delim
CONFIG_SND_BF5XX_SOC_AC97!$CONFIG_SND_BF5XX_SOC_AC97$ac_delim
CONFIG_SND_BF5XX_SPORT_NUM!$CONFIG_SND_BF5XX_SPORT_NUM$ac_delim
CONFIG_SND_DAVINCI_SOC!$CONFIG_SND_DAVINCI_SOC$ac_delim
CONFIG_ARCH_DAVINCI!$CONFIG_ARCH_DAVINCI$ac_delim
CONFIG_SND_DAVINCI_SOC_I2S!$CONFIG_SND_DAVINCI_SOC_I2S$ac_delim
CONFIG_SND_DAVINCI_SOC_MCASP!$CONFIG_SND_DAVINCI_SOC_MCASP$ac_delim
CONFIG_SND_DAVINCI_SOC_EVM!$CONFIG_SND_DAVINCI_SOC_EVM$ac_delim
CONFIG_MACH_DAVINCI_EVM!$CONFIG_MACH_DAVINCI_EVM$ac_delim
CONFIG_MACH_DAVINCI_DM355_EVM!$CONFIG_MACH_DAVINCI_DM355_EVM$ac_delim
CONFIG_MACH_DAVINCI_DM365_EVM!$CONFIG_MACH_DAVINCI_DM365_EVM$ac_delim
CONFIG_SND_DM6467_SOC_EVM!$CONFIG_SND_DM6467_SOC_EVM$ac_delim
CONFIG_MACH_DAVINCI_DM6467_EVM!$CONFIG_MACH_DAVINCI_DM6467_EVM$ac_delim
CONFIG_SND_DAVINCI_SOC_SFFSDR!$CONFIG_SND_DAVINCI_SOC_SFFSDR$ac_delim
CONFIG_MACH_SFFSDR!$CONFIG_MACH_SFFSDR$ac_delim
CONFIG_SFFSDR_FPGA!$CONFIG_SFFSDR_FPGA$ac_delim
CONFIG_SND_DA830_SOC_EVM!$CONFIG_SND_DA830_SOC_EVM$ac_delim
CONFIG_MACH_DAVINCI_DA830_EVM!$CONFIG_MACH_DAVINCI_DA830_EVM$ac_delim
CONFIG_SND_DA850_SOC_EVM!$CONFIG_SND_DA850_SOC_EVM$ac_delim
CONFIG_MACH_DAVINCI_DA850_EVM!$CONFIG_MACH_DAVINCI_DA850_EVM$ac_delim
CONFIG_SND_SOC_OF_SIMPLE!$CONFIG_SND_SOC_OF_SIMPLE$ac_delim
CONFIG_SND_MPC52XX_DMA!$CONFIG_SND_MPC52XX_DMA$ac_delim
CONFIG_SND_SOC_MPC8610!$CONFIG_SND_SOC_MPC8610$ac_delim
CONFIG_MPC8610!$CONFIG_MPC8610$ac_delim
CONFIG_SND_SOC_MPC8610_HPCD!$CONFIG_SND_SOC_MPC8610_HPCD$ac_delim
CONFIG_MPC8610_HPCD!$CONFIG_MPC8610_HPCD$ac_delim
CONFIG_SND_SOC_MPC5200_I2S!$CONFIG_SND_SOC_MPC5200_I2S$ac_delim
CONFIG_PPC_MPC52XX!$CONFIG_PPC_MPC52XX$ac_delim
CONFIG_PPC_BESTCOMM!$CONFIG_PPC_BESTCOMM$ac_delim
CONFIG_PPC_BESTCOMM_GEN_BD!$CONFIG_PPC_BESTCOMM_GEN_BD$ac_delim
CONFIG_SND_SOC_MPC5200_AC97!$CONFIG_SND_SOC_MPC5200_AC97$ac_delim
CONFIG_SND_MPC52XX_SOC_PCM030!$CONFIG_SND_MPC52XX_SOC_PCM030$ac_delim
CONFIG_PPC_MPC5200_SIMPLE!$CONFIG_PPC_MPC5200_SIMPLE$ac_delim
CONFIG_SND_MPC52XX_SOC_EFIKA!$CONFIG_SND_MPC52XX_SOC_EFIKA$ac_delim
CONFIG_PPC_EFIKA!$CONFIG_PPC_EFIKA$ac_delim
CONFIG_SND_MX1_MX2_SOC!$CONFIG_SND_MX1_MX2_SOC$ac_delim
CONFIG_ARCH_MX2!$CONFIG_ARCH_MX2$ac_delim
CONFIG_ARCH_MX1!$CONFIG_ARCH_MX1$ac_delim
CONFIG_SND_MXC_SOC_SSI!$CONFIG_SND_MXC_SOC_SSI$ac_delim
CONFIG_SND_SOC_MX27VIS_WM8974!$CONFIG_SND_SOC_MX27VIS_WM8974$ac_delim
CONFIG_MACH_MX27!$CONFIG_MACH_MX27$ac_delim
CONFIG_MACH_IMX27_VISSTRIM_M10!$CONFIG_MACH_IMX27_VISSTRIM_M10$ac_delim
CONFIG_SND_OMAP_SOC!$CONFIG_SND_OMAP_SOC$ac_delim
CONFIG_ARCH_OMAP!$CONFIG_ARCH_OMAP$ac_delim
CONFIG_SND_OMAP_SOC_MCBSP!$CONFIG_SND_OMAP_SOC_MCBSP$ac_delim
CONFIG_OMAP_MCBSP!$CONFIG_OMAP_MCBSP$ac_delim
CONFIG_SND_OMAP_SOC_N810!$CONFIG_SND_OMAP_SOC_N810$ac_delim
CONFIG_MACH_NOKIA_N810!$CONFIG_MACH_NOKIA_N810$ac_delim
CONFIG_OMAP_MUX!$CONFIG_OMAP_MUX$ac_delim
CONFIG_SND_OMAP_SOC_AMS_DELTA!$CONFIG_SND_OMAP_SOC_AMS_DELTA$ac_delim
CONFIG_MACH_AMS_DELTA!$CONFIG_MACH_AMS_DELTA$ac_delim
CONFIG_SND_OMAP_SOC_OSK5912!$CONFIG_SND_OMAP_SOC_OSK5912$ac_delim
CONFIG_MACH_OMAP_OSK!$CONFIG_MACH_OMAP_OSK$ac_delim
CONFIG_SND_OMAP_SOC_OVERO!$CONFIG_SND_OMAP_SOC_OVERO$ac_delim
CONFIG_TWL4030_CORE!$CONFIG_TWL4030_CORE$ac_delim
CONFIG_MACH_OVERO!$CONFIG_MACH_OVERO$ac_delim
CONFIG_MACH_CM_T35!$CONFIG_MACH_CM_T35$ac_delim
CONFIG_SND_OMAP_SOC_OMAP2EVM!$CONFIG_SND_OMAP_SOC_OMAP2EVM$ac_delim
CONFIG_MACH_OMAP2EVM!$CONFIG_MACH_OMAP2EVM$ac_delim
CONFIG_SND_OMAP_SOC_OMAP3EVM!$CONFIG_SND_OMAP_SOC_OMAP3EVM$ac_delim
CONFIG_MACH_OMAP3EVM!$CONFIG_MACH_OMAP3EVM$ac_delim
CONFIG_SND_OMAP_SOC_AM3517EVM!$CONFIG_SND_OMAP_SOC_AM3517EVM$ac_delim
CONFIG_MACH_OMAP3517EVM!$CONFIG_MACH_OMAP3517EVM$ac_delim
CONFIG_SND_OMAP_SOC_SDP3430!$CONFIG_SND_OMAP_SOC_SDP3430$ac_delim
CONFIG_MACH_OMAP_3430SDP!$CONFIG_MACH_OMAP_3430SDP$ac_delim
CONFIG_SND_OMAP_SOC_OMAP3_PANDORA!$CONFIG_SND_OMAP_SOC_OMAP3_PANDORA$ac_delim
CONFIG_MACH_OMAP3_PANDORA!$CONFIG_MACH_OMAP3_PANDORA$ac_delim
CONFIG_SND_OMAP_SOC_OMAP3_BEAGLE!$CONFIG_SND_OMAP_SOC_OMAP3_BEAGLE$ac_delim
_ACEOF

  if test `sed -n "s/.*$ac_delim\$/X/p" conf$$subs.sed | grep -c X` = 97; then
    break
  elif $ac_last_try; then
    { { echo "$as_me:$LINENO: error: could not make $CONFIG_STATUS" >&5
echo "$as_me: error: could not make $CONFIG_STATUS" >&2;}
   { (exit 1); exit 1; }; }
  else
    ac_delim="$ac_delim!$ac_delim _$ac_delim!! "
  fi
done

ac_eof=`sed -n '/^CEOF[0-9]*$/s/CEOF/0/p' conf$$subs.sed`
if test -n "$ac_eof"; then
  ac_eof=`echo "$ac_eof" | sort -nru | sed 1q`
  ac_eof=`expr $ac_eof + 1`
fi

cat >>$CONFIG_STATUS <<_ACEOF
cat >"\$tmp/subs-5.sed" <<\CEOF$ac_eof
/@[a-zA-Z_][a-zA-Z_0-9]*@/!b
_ACEOF
sed '
s/[,\\&]/\\&/g; s/@/@|#_!!_#|/g
s/^/s,@/; s/!/@,|#_!!_#|/
:n
t n
s/'"$ac_delim"'$/,g/; t
s/$/\\/; p
N; s/^.*\n//; s/[,\\&]/\\&/g; s/@/@|#_!!_#|/g; b n
' >>$CONFIG_STATUS <conf$$subs.sed
rm -f conf$$subs.sed
cat >>$CONFIG_STATUS <<_ACEOF
CEOF$ac_eof
_ACEOF


ac_delim='%!_!# '
for ac_last_try in false false false false false :; do
  cat >conf$$subs.sed <<_ACEOF
CONFIG_MACH_OMAP3_BEAGLE!$CONFIG_MACH_OMAP3_BEAGLE$ac_delim
CONFIG_SND_OMAP_SOC_ZOOM2!$CONFIG_SND_OMAP_SOC_ZOOM2$ac_delim
CONFIG_MACH_OMAP_ZOOM2!$CONFIG_MACH_OMAP_ZOOM2$ac_delim
CONFIG_SND_OMAP_SOC_IGEP0020!$CONFIG_SND_OMAP_SOC_IGEP0020$ac_delim
CONFIG_MACH_IGEP0020!$CONFIG_MACH_IGEP0020$ac_delim
CONFIG_SND_PXA2XX_SOC!$CONFIG_SND_PXA2XX_SOC$ac_delim
CONFIG_SND_PXA2XX_SOC_AC97!$CONFIG_SND_PXA2XX_SOC_AC97$ac_delim
CONFIG_SND_PXA2XX_SOC_I2S!$CONFIG_SND_PXA2XX_SOC_I2S$ac_delim
CONFIG_SND_PXA_SOC_SSP!$CONFIG_SND_PXA_SOC_SSP$ac_delim
CONFIG_SND_PXA2XX_SOC_CORGI!$CONFIG_SND_PXA2XX_SOC_CORGI$ac_delim
CONFIG_PXA_SHARP_C7XX!$CONFIG_PXA_SHARP_C7XX$ac_delim
CONFIG_SND_PXA2XX_SOC_SPITZ!$CONFIG_SND_PXA2XX_SOC_SPITZ$ac_delim
CONFIG_PXA_SHARP_CXX00!$CONFIG_PXA_SHARP_CXX00$ac_delim
CONFIG_SND_PXA2XX_SOC_POODLE!$CONFIG_SND_PXA2XX_SOC_POODLE$ac_delim
CONFIG_MACH_POODLE!$CONFIG_MACH_POODLE$ac_delim
CONFIG_SND_PXA2XX_SOC_TOSA!$CONFIG_SND_PXA2XX_SOC_TOSA$ac_delim
CONFIG_MACH_TOSA!$CONFIG_MACH_TOSA$ac_delim
CONFIG_MFD_TC6393XB!$CONFIG_MFD_TC6393XB$ac_delim
CONFIG_SND_PXA2XX_SOC_E740!$CONFIG_SND_PXA2XX_SOC_E740$ac_delim
CONFIG_MACH_E740!$CONFIG_MACH_E740$ac_delim
CONFIG_SND_PXA2XX_SOC_E750!$CONFIG_SND_PXA2XX_SOC_E750$ac_delim
CONFIG_MACH_E750!$CONFIG_MACH_E750$ac_delim
CONFIG_SND_PXA2XX_SOC_E800!$CONFIG_SND_PXA2XX_SOC_E800$ac_delim
CONFIG_MACH_E800!$CONFIG_MACH_E800$ac_delim
CONFIG_SND_PXA2XX_SOC_EM_X270!$CONFIG_SND_PXA2XX_SOC_EM_X270$ac_delim
CONFIG_MACH_EM_X270!$CONFIG_MACH_EM_X270$ac_delim
CONFIG_MACH_EXEDA!$CONFIG_MACH_EXEDA$ac_delim
CONFIG_MACH_CM_X300!$CONFIG_MACH_CM_X300$ac_delim
CONFIG_SND_PXA2XX_SOC_PALM27X!$CONFIG_SND_PXA2XX_SOC_PALM27X$ac_delim
CONFIG_MACH_PALMLD!$CONFIG_MACH_PALMLD$ac_delim
CONFIG_MACH_PALMTX!$CONFIG_MACH_PALMTX$ac_delim
CONFIG_MACH_PALMT5!$CONFIG_MACH_PALMT5$ac_delim
CONFIG_MACH_PALMTE2!$CONFIG_MACH_PALMTE2$ac_delim
CONFIG_SND_SOC_ZYLONITE!$CONFIG_SND_SOC_ZYLONITE$ac_delim
CONFIG_MACH_ZYLONITE!$CONFIG_MACH_ZYLONITE$ac_delim
CONFIG_SND_SOC_RAUMFELD!$CONFIG_SND_SOC_RAUMFELD$ac_delim
CONFIG_MACH_RAUMFELD_SPEAKER!$CONFIG_MACH_RAUMFELD_SPEAKER$ac_delim
CONFIG_MACH_RAUMFELD_CONNECTOR!$CONFIG_MACH_RAUMFELD_CONNECTOR$ac_delim
CONFIG_SND_PXA2XX_SOC_MAGICIAN!$CONFIG_SND_PXA2XX_SOC_MAGICIAN$ac_delim
CONFIG_MACH_MAGICIAN!$CONFIG_MACH_MAGICIAN$ac_delim
CONFIG_SND_PXA2XX_SOC_MIOA701!$CONFIG_SND_PXA2XX_SOC_MIOA701$ac_delim
CONFIG_MACH_MIOA701!$CONFIG_MACH_MIOA701$ac_delim
CONFIG_SND_PXA2XX_SOC_IMOTE2!$CONFIG_SND_PXA2XX_SOC_IMOTE2$ac_delim
CONFIG_SND_S3C24XX_SOC!$CONFIG_SND_S3C24XX_SOC$ac_delim
CONFIG_ARCH_S3C64XX!$CONFIG_ARCH_S3C64XX$ac_delim
CONFIG_S3C64XX_DMA!$CONFIG_S3C64XX_DMA$ac_delim
CONFIG_SND_S3C24XX_SOC_I2S!$CONFIG_SND_S3C24XX_SOC_I2S$ac_delim
CONFIG_S3C2410_DMA!$CONFIG_S3C2410_DMA$ac_delim
CONFIG_SND_S3C_I2SV2_SOC!$CONFIG_SND_S3C_I2SV2_SOC$ac_delim
CONFIG_SND_S3C2412_SOC_I2S!$CONFIG_SND_S3C2412_SOC_I2S$ac_delim
CONFIG_SND_S3C64XX_SOC_I2S!$CONFIG_SND_S3C64XX_SOC_I2S$ac_delim
CONFIG_SND_S3C_SOC_PCM!$CONFIG_SND_S3C_SOC_PCM$ac_delim
CONFIG_SND_S3C2443_SOC_AC97!$CONFIG_SND_S3C2443_SOC_AC97$ac_delim
CONFIG_SND_S3C24XX_SOC_NEO1973_WM8753!$CONFIG_SND_S3C24XX_SOC_NEO1973_WM8753$ac_delim
CONFIG_MACH_NEO1973_GTA01!$CONFIG_MACH_NEO1973_GTA01$ac_delim
CONFIG_SND_S3C24XX_SOC_NEO1973_GTA02_WM8753!$CONFIG_SND_S3C24XX_SOC_NEO1973_GTA02_WM8753$ac_delim
CONFIG_MACH_NEO1973_GTA02!$CONFIG_MACH_NEO1973_GTA02$ac_delim
CONFIG_SND_S3C24XX_SOC_JIVE_WM8750!$CONFIG_SND_S3C24XX_SOC_JIVE_WM8750$ac_delim
CONFIG_MACH_JIVE!$CONFIG_MACH_JIVE$ac_delim
CONFIG_SND_S3C64XX_SOC_WM8580!$CONFIG_SND_S3C64XX_SOC_WM8580$ac_delim
CONFIG_MACH_SMDK6400!$CONFIG_MACH_SMDK6400$ac_delim
CONFIG_MACH_SMDK6410!$CONFIG_MACH_SMDK6410$ac_delim
CONFIG_SND_S3C24XX_SOC_SMDK2443_WM9710!$CONFIG_SND_S3C24XX_SOC_SMDK2443_WM9710$ac_delim
CONFIG_MACH_SMDK2443!$CONFIG_MACH_SMDK2443$ac_delim
CONFIG_SND_S3C24XX_SOC_LN2440SBC_ALC650!$CONFIG_SND_S3C24XX_SOC_LN2440SBC_ALC650$ac_delim
CONFIG_SND_S3C24XX_SOC_S3C24XX_UDA134X!$CONFIG_SND_S3C24XX_SOC_S3C24XX_UDA134X$ac_delim
CONFIG_SND_S3C24XX_SOC_SIMTEC!$CONFIG_SND_S3C24XX_SOC_SIMTEC$ac_delim
CONFIG_SND_S3C24XX_SOC_SIMTEC_TLV320AIC23!$CONFIG_SND_S3C24XX_SOC_SIMTEC_TLV320AIC23$ac_delim
CONFIG_SND_S3C24XX_SOC_SIMTEC_HERMES!$CONFIG_SND_S3C24XX_SOC_SIMTEC_HERMES$ac_delim
CONFIG_SND_S6000_SOC!$CONFIG_SND_S6000_SOC$ac_delim
CONFIG_XTENSA_VARIANT_S6000!$CONFIG_XTENSA_VARIANT_S6000$ac_delim
CONFIG_SND_S6000_SOC_I2S!$CONFIG_SND_S6000_SOC_I2S$ac_delim
CONFIG_SND_S6000_SOC_S6IPCAM!$CONFIG_SND_S6000_SOC_S6IPCAM$ac_delim
CONFIG_XTENSA_PLATFORM_S6105!$CONFIG_XTENSA_PLATFORM_S6105$ac_delim
CONFIG_SND_SOC_PCM_SH7760!$CONFIG_SND_SOC_PCM_SH7760$ac_delim
CONFIG_CPU_SUBTYPE_SH7760!$CONFIG_CPU_SUBTYPE_SH7760$ac_delim
CONFIG_SH_DMABRG!$CONFIG_SH_DMABRG$ac_delim
CONFIG_SND_SOC_SH4_HAC!$CONFIG_SND_SOC_SH4_HAC$ac_delim
CONFIG_SND_SOC_SH4_SSI!$CONFIG_SND_SOC_SH4_SSI$ac_delim
CONFIG_SND_SOC_SH4_FSI!$CONFIG_SND_SOC_SH4_FSI$ac_delim
CONFIG_CPU_SUBTYPE_SH7724!$CONFIG_CPU_SUBTYPE_SH7724$ac_delim
CONFIG_SND_SH7760_AC97!$CONFIG_SND_SH7760_AC97$ac_delim
CONFIG_SND_FSI_AK4642!$CONFIG_SND_FSI_AK4642$ac_delim
CONFIG_SND_FSI_DA7210!$CONFIG_SND_FSI_DA7210$ac_delim
CONFIG_SND_SOC_TXX9ACLC!$CONFIG_SND_SOC_TXX9ACLC$ac_delim
CONFIG_HAS_TXX9_ACLC!$CONFIG_HAS_TXX9_ACLC$ac_delim
CONFIG_TXX9_DMAC!$CONFIG_TXX9_DMAC$ac_delim
CONFIG_SND_SOC_TXX9ACLC_AC97!$CONFIG_SND_SOC_TXX9ACLC_AC97$ac_delim
CONFIG_SND_SOC_TXX9ACLC_GENERIC!$CONFIG_SND_SOC_TXX9ACLC_GENERIC$ac_delim
CONFIG_SND_SOC_I2C_AND_SPI!$CONFIG_SND_SOC_I2C_AND_SPI$ac_delim
CONFIG_SND_SOC_ALL_CODECS!$CONFIG_SND_SOC_ALL_CODECS$ac_delim
CONFIG_SND_SOC_WM_HUBS!$CONFIG_SND_SOC_WM_HUBS$ac_delim
CONFIG_SND_SOC_AC97_CODEC!$CONFIG_SND_SOC_AC97_CODEC$ac_delim
CONFIG_SND_SOC_AD1836!$CONFIG_SND_SOC_AD1836$ac_delim
CONFIG_SND_SOC_AD1938!$CONFIG_SND_SOC_AD1938$ac_delim
CONFIG_SND_SOC_AD1980!$CONFIG_SND_SOC_AD1980$ac_delim
CONFIG_SND_SOC_AD73311!$CONFIG_SND_SOC_AD73311$ac_delim
_ACEOF

  if test `sed -n "s/.*$ac_delim\$/X/p" conf$$subs.sed | grep -c X` = 97; then
    break
  elif $ac_last_try; then
    { { echo "$as_me:$LINENO: error: could not make $CONFIG_STATUS" >&5
echo "$as_me: error: could not make $CONFIG_STATUS" >&2;}
   { (exit 1); exit 1; }; }
  else
    ac_delim="$ac_delim!$ac_delim _$ac_delim!! "
  fi
done

ac_eof=`sed -n '/^CEOF[0-9]*$/s/CEOF/0/p' conf$$subs.sed`
if test -n "$ac_eof"; then
  ac_eof=`echo "$ac_eof" | sort -nru | sed 1q`
  ac_eof=`expr $ac_eof + 1`
fi

cat >>$CONFIG_STATUS <<_ACEOF
cat >"\$tmp/subs-6.sed" <<\CEOF$ac_eof
/@[a-zA-Z_][a-zA-Z_0-9]*@/!b
_ACEOF
sed '
s/[,\\&]/\\&/g; s/@/@|#_!!_#|/g
s/^/s,@/; s/!/@,|#_!!_#|/
:n
t n
s/'"$ac_delim"'$/,g/; t
s/$/\\/; p
N; s/^.*\n//; s/[,\\&]/\\&/g; s/@/@|#_!!_#|/g; b n
' >>$CONFIG_STATUS <conf$$subs.sed
rm -f conf$$subs.sed
cat >>$CONFIG_STATUS <<_ACEOF
CEOF$ac_eof
_ACEOF


ac_delim='%!_!# '
for ac_last_try in false false false false false :; do
  cat >conf$$subs.sed <<_ACEOF
CONFIG_SND_SOC_ADS117X!$CONFIG_SND_SOC_ADS117X$ac_delim
CONFIG_SND_SOC_AK4104!$CONFIG_SND_SOC_AK4104$ac_delim
CONFIG_SND_SOC_AK4535!$CONFIG_SND_SOC_AK4535$ac_delim
CONFIG_SND_SOC_AK4642!$CONFIG_SND_SOC_AK4642$ac_delim
CONFIG_SND_SOC_AK4671!$CONFIG_SND_SOC_AK4671$ac_delim
CONFIG_SND_SOC_CS4270!$CONFIG_SND_SOC_CS4270$ac_delim
CONFIG_SND_SOC_DA7210!$CONFIG_SND_SOC_DA7210$ac_delim
CONFIG_SND_SOC_CS4270_VD33_ERRATA!$CONFIG_SND_SOC_CS4270_VD33_ERRATA$ac_delim
CONFIG_SND_SOC_CX20442!$CONFIG_SND_SOC_CX20442$ac_delim
CONFIG_SND_SOC_L3!$CONFIG_SND_SOC_L3$ac_delim
CONFIG_SND_SOC_PCM3008!$CONFIG_SND_SOC_PCM3008$ac_delim
CONFIG_SND_SOC_SPDIF!$CONFIG_SND_SOC_SPDIF$ac_delim
CONFIG_SND_SOC_SSM2602!$CONFIG_SND_SOC_SSM2602$ac_delim
CONFIG_SND_SOC_STAC9766!$CONFIG_SND_SOC_STAC9766$ac_delim
CONFIG_SND_SOC_TLV320AIC23!$CONFIG_SND_SOC_TLV320AIC23$ac_delim
CONFIG_SND_SOC_TLV320AIC26!$CONFIG_SND_SOC_TLV320AIC26$ac_delim
CONFIG_SND_SOC_TLV320AIC3X!$CONFIG_SND_SOC_TLV320AIC3X$ac_delim
CONFIG_SND_SOC_TLV320DAC33!$CONFIG_SND_SOC_TLV320DAC33$ac_delim
CONFIG_SND_SOC_TWL4030!$CONFIG_SND_SOC_TWL4030$ac_delim
CONFIG_TWL4030_CODEC!$CONFIG_TWL4030_CODEC$ac_delim
CONFIG_SND_SOC_UDA134X!$CONFIG_SND_SOC_UDA134X$ac_delim
CONFIG_SND_SOC_UDA1380!$CONFIG_SND_SOC_UDA1380$ac_delim
CONFIG_SND_SOC_WM8350!$CONFIG_SND_SOC_WM8350$ac_delim
CONFIG_SND_SOC_WM8400!$CONFIG_SND_SOC_WM8400$ac_delim
CONFIG_SND_SOC_WM8510!$CONFIG_SND_SOC_WM8510$ac_delim
CONFIG_SND_SOC_WM8523!$CONFIG_SND_SOC_WM8523$ac_delim
CONFIG_SND_SOC_WM8580!$CONFIG_SND_SOC_WM8580$ac_delim
CONFIG_SND_SOC_WM8711!$CONFIG_SND_SOC_WM8711$ac_delim
CONFIG_SND_SOC_WM8727!$CONFIG_SND_SOC_WM8727$ac_delim
CONFIG_SND_SOC_WM8728!$CONFIG_SND_SOC_WM8728$ac_delim
CONFIG_SND_SOC_WM8731!$CONFIG_SND_SOC_WM8731$ac_delim
CONFIG_SND_SOC_WM8750!$CONFIG_SND_SOC_WM8750$ac_delim
CONFIG_SND_SOC_WM8753!$CONFIG_SND_SOC_WM8753$ac_delim
CONFIG_SND_SOC_WM8776!$CONFIG_SND_SOC_WM8776$ac_delim
CONFIG_SND_SOC_WM8900!$CONFIG_SND_SOC_WM8900$ac_delim
CONFIG_SND_SOC_WM8903!$CONFIG_SND_SOC_WM8903$ac_delim
CONFIG_SND_SOC_WM8904!$CONFIG_SND_SOC_WM8904$ac_delim
CONFIG_SND_SOC_WM8940!$CONFIG_SND_SOC_WM8940$ac_delim
CONFIG_SND_SOC_WM8955!$CONFIG_SND_SOC_WM8955$ac_delim
CONFIG_SND_SOC_WM8960!$CONFIG_SND_SOC_WM8960$ac_delim
CONFIG_SND_SOC_WM8961!$CONFIG_SND_SOC_WM8961$ac_delim
CONFIG_SND_SOC_WM8971!$CONFIG_SND_SOC_WM8971$ac_delim
CONFIG_SND_SOC_WM8974!$CONFIG_SND_SOC_WM8974$ac_delim
CONFIG_SND_SOC_WM8988!$CONFIG_SND_SOC_WM8988$ac_delim
CONFIG_SND_SOC_WM8990!$CONFIG_SND_SOC_WM8990$ac_delim
CONFIG_SND_SOC_WM8993!$CONFIG_SND_SOC_WM8993$ac_delim
CONFIG_SND_SOC_WM9081!$CONFIG_SND_SOC_WM9081$ac_delim
CONFIG_SND_SOC_WM9705!$CONFIG_SND_SOC_WM9705$ac_delim
CONFIG_SND_SOC_WM9712!$CONFIG_SND_SOC_WM9712$ac_delim
CONFIG_SND_SOC_WM9713!$CONFIG_SND_SOC_WM9713$ac_delim
CONFIG_SND_SOC_MAX9877!$CONFIG_SND_SOC_MAX9877$ac_delim
CONFIG_SND_SOC_TPA6130A2!$CONFIG_SND_SOC_TPA6130A2$ac_delim
CONFIG_SOUND_PRIME!$CONFIG_SOUND_PRIME$ac_delim
CONFIG_AC97_BUS!$CONFIG_AC97_BUS$ac_delim
c_opts!$c_opts$ac_delim
m_opts!$m_opts$ac_delim
GENKSYMS!$GENKSYMS$ac_delim
EXTRA_INCLUDES!$EXTRA_INCLUDES$ac_delim
KERNEL_INC!$KERNEL_INC$ac_delim
LIBOBJS!$LIBOBJS$ac_delim
LTLIBOBJS!$LTLIBOBJS$ac_delim
_ACEOF

  if test `sed -n "s/.*$ac_delim\$/X/p" conf$$subs.sed | grep -c X` = 61; then
    break
  elif $ac_last_try; then
    { { echo "$as_me:$LINENO: error: could not make $CONFIG_STATUS" >&5
echo "$as_me: error: could not make $CONFIG_STATUS" >&2;}
   { (exit 1); exit 1; }; }
  else
    ac_delim="$ac_delim!$ac_delim _$ac_delim!! "
  fi
done

ac_eof=`sed -n '/^CEOF[0-9]*$/s/CEOF/0/p' conf$$subs.sed`
if test -n "$ac_eof"; then
  ac_eof=`echo "$ac_eof" | sort -nru | sed 1q`
  ac_eof=`expr $ac_eof + 1`
fi

cat >>$CONFIG_STATUS <<_ACEOF
cat >"\$tmp/subs-7.sed" <<\CEOF$ac_eof
/@[a-zA-Z_][a-zA-Z_0-9]*@/!b end
_ACEOF
sed '
s/[,\\&]/\\&/g; s/@/@|#_!!_#|/g
s/^/s,@/; s/!/@,|#_!!_#|/
:n
t n
s/'"$ac_delim"'$/,g/; t
s/$/\\/; p
N; s/^.*\n//; s/[,\\&]/\\&/g; s/@/@|#_!!_#|/g; b n
' >>$CONFIG_STATUS <conf$$subs.sed
rm -f conf$$subs.sed
cat >>$CONFIG_STATUS <<_ACEOF
:end
s/|#_!!_#|//g
CEOF$ac_eof
_ACEOF


# VPATH may cause trouble with some makes, so we remove $(srcdir),
# ${srcdir} and @srcdir@ from VPATH if srcdir is ".", strip leading and
# trailing colons and then remove the whole line if VPATH becomes empty
# (actually we leave an empty line to preserve line numbers).
if test "x$srcdir" = x.; then
  ac_vpsub='/^[	 ]*VPATH[	 ]*=/{
s/:*\$(srcdir):*/:/
s/:*\${srcdir}:*/:/
s/:*@srcdir@:*/:/
s/^\([^=]*=[	 ]*\):*/\1/
s/:*$//
s/^[^=]*=[	 ]*$//
}'
fi

cat >>$CONFIG_STATUS <<\_ACEOF
fi # test -n "$CONFIG_FILES"


for ac_tag in  :F $CONFIG_FILES  :H $CONFIG_HEADERS
do
  case $ac_tag in
  :[FHLC]) ac_mode=$ac_tag; continue;;
  esac
  case $ac_mode$ac_tag in
  :[FHL]*:*);;
  :L* | :C*:*) { { echo "$as_me:$LINENO: error: Invalid tag $ac_tag." >&5
echo "$as_me: error: Invalid tag $ac_tag." >&2;}
   { (exit 1); exit 1; }; };;
  :[FH]-) ac_tag=-:-;;
  :[FH]*) ac_tag=$ac_tag:$ac_tag.in;;
  esac
  ac_save_IFS=$IFS
  IFS=:
  set x $ac_tag
  IFS=$ac_save_IFS
  shift
  ac_file=$1
  shift

  case $ac_mode in
  :L) ac_source=$1;;
  :[FH])
    ac_file_inputs=
    for ac_f
    do
      case $ac_f in
      -) ac_f="$tmp/stdin";;
      *) # Look for the file first in the build tree, then in the source tree
	 # (if the path is not absolute).  The absolute path cannot be DOS-style,
	 # because $ac_f cannot contain `:'.
	 test -f "$ac_f" ||
	   case $ac_f in
	   [\\/$]*) false;;
	   *) test -f "$srcdir/$ac_f" && ac_f="$srcdir/$ac_f";;
	   esac ||
	   { { echo "$as_me:$LINENO: error: cannot find input file: $ac_f" >&5
echo "$as_me: error: cannot find input file: $ac_f" >&2;}
   { (exit 1); exit 1; }; };;
      esac
      ac_file_inputs="$ac_file_inputs $ac_f"
    done

    # Let's still pretend it is `configure' which instantiates (i.e., don't
    # use $as_me), people would be surprised to read:
    #    /* config.h.  Generated by config.status.  */
    configure_input="Generated from "`IFS=:
	  echo $* | sed 's|^[^:]*/||;s|:[^:]*/|, |g'`" by configure."
    if test x"$ac_file" != x-; then
      configure_input="$ac_file.  $configure_input"
      { echo "$as_me:$LINENO: creating $ac_file" >&5
echo "$as_me: creating $ac_file" >&6;}
    fi

    case $ac_tag in
    *:-:* | *:-) cat >"$tmp/stdin";;
    esac
    ;;
  esac

  ac_dir=`$as_dirname -- "$ac_file" ||
$as_expr X"$ac_file" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
	 X"$ac_file" : 'X\(//\)[^/]' \| \
	 X"$ac_file" : 'X\(//\)$' \| \
	 X"$ac_file" : 'X\(/\)' \| . 2>/dev/null ||
echo X"$ac_file" |
    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)[^/].*/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\).*/{
	    s//\1/
	    q
	  }
	  s/.*/./; q'`
  { as_dir="$ac_dir"
  case $as_dir in #(
  -*) as_dir=./$as_dir;;
  esac
  test -d "$as_dir" || { $as_mkdir_p && mkdir -p "$as_dir"; } || {
    as_dirs=
    while :; do
      case $as_dir in #(
      *\'*) as_qdir=`echo "$as_dir" | sed "s/'/'\\\\\\\\''/g"`;; #(
      *) as_qdir=$as_dir;;
      esac
      as_dirs="'$as_qdir' $as_dirs"
      as_dir=`$as_dirname -- "$as_dir" ||
$as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
	 X"$as_dir" : 'X\(//\)[^/]' \| \
	 X"$as_dir" : 'X\(//\)$' \| \
	 X"$as_dir" : 'X\(/\)' \| . 2>/dev/null ||
echo X"$as_dir" |
    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)[^/].*/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\).*/{
	    s//\1/
	    q
	  }
	  s/.*/./; q'`
      test -d "$as_dir" && break
    done
    test -z "$as_dirs" || eval "mkdir $as_dirs"
  } || test -d "$as_dir" || { { echo "$as_me:$LINENO: error: cannot create directory $as_dir" >&5
echo "$as_me: error: cannot create directory $as_dir" >&2;}
   { (exit 1); exit 1; }; }; }
  ac_builddir=.

case "$ac_dir" in
.) ac_dir_suffix= ac_top_builddir_sub=. ac_top_build_prefix= ;;
*)
  ac_dir_suffix=/`echo "$ac_dir" | sed 's,^\.[\\/],,'`
  # A ".." for each directory in $ac_dir_suffix.
  ac_top_builddir_sub=`echo "$ac_dir_suffix" | sed 's,/[^\\/]*,/..,g;s,/,,'`
  case $ac_top_builddir_sub in
  "") ac_top_builddir_sub=. ac_top_build_prefix= ;;
  *)  ac_top_build_prefix=$ac_top_builddir_sub/ ;;
  esac ;;
esac
ac_abs_top_builddir=$ac_pwd
ac_abs_builddir=$ac_pwd$ac_dir_suffix
# for backward compatibility:
ac_top_builddir=$ac_top_build_prefix

case $srcdir in
  .)  # We are building in place.
    ac_srcdir=.
    ac_top_srcdir=$ac_top_builddir_sub
    ac_abs_top_srcdir=$ac_pwd ;;
  [\\/]* | ?:[\\/]* )  # Absolute name.
    ac_srcdir=$srcdir$ac_dir_suffix;
    ac_top_srcdir=$srcdir
    ac_abs_top_srcdir=$srcdir ;;
  *) # Relative name.
    ac_srcdir=$ac_top_build_prefix$srcdir$ac_dir_suffix
    ac_top_srcdir=$ac_top_build_prefix$srcdir
    ac_abs_top_srcdir=$ac_pwd/$srcdir ;;
esac
ac_abs_srcdir=$ac_abs_top_srcdir$ac_dir_suffix


  case $ac_mode in
  :F)
  #
  # CONFIG_FILE
  #

  case $INSTALL in
  [\\/$]* | ?:[\\/]* ) ac_INSTALL=$INSTALL ;;
  *) ac_INSTALL=$ac_top_build_prefix$INSTALL ;;
  esac
_ACEOF

cat >>$CONFIG_STATUS <<\_ACEOF
# If the template does not know about datarootdir, expand it.
# FIXME: This hack should be removed a few years after 2.60.
ac_datarootdir_hack=; ac_datarootdir_seen=

case `sed -n '/datarootdir/ {
  p
  q
}
/@datadir@/p
/@docdir@/p
/@infodir@/p
/@localedir@/p
/@mandir@/p
' $ac_file_inputs` in
*datarootdir*) ac_datarootdir_seen=yes;;
*@datadir@*|*@docdir@*|*@infodir@*|*@localedir@*|*@mandir@*)
  { echo "$as_me:$LINENO: WARNING: $ac_file_inputs seems to ignore the --datarootdir setting" >&5
echo "$as_me: WARNING: $ac_file_inputs seems to ignore the --datarootdir setting" >&2;}
_ACEOF
cat >>$CONFIG_STATUS <<_ACEOF
  ac_datarootdir_hack='
  s&@datadir@&$datadir&g
  s&@docdir@&$docdir&g
  s&@infodir@&$infodir&g
  s&@localedir@&$localedir&g
  s&@mandir@&$mandir&g
    s&\\\${datarootdir}&$datarootdir&g' ;;
esac
_ACEOF

# Neutralize VPATH when `$srcdir' = `.'.
# Shell code in configure.ac might set extrasub.
# FIXME: do we really want to maintain this feature?
cat >>$CONFIG_STATUS <<_ACEOF
  sed "$ac_vpsub
$extrasub
_ACEOF
cat >>$CONFIG_STATUS <<\_ACEOF
:t
/@[a-zA-Z_][a-zA-Z_0-9]*@/!b
s&@configure_input@&$configure_input&;t t
s&@top_builddir@&$ac_top_builddir_sub&;t t
s&@srcdir@&$ac_srcdir&;t t
s&@abs_srcdir@&$ac_abs_srcdir&;t t
s&@top_srcdir@&$ac_top_srcdir&;t t
s&@abs_top_srcdir@&$ac_abs_top_srcdir&;t t
s&@builddir@&$ac_builddir&;t t
s&@abs_builddir@&$ac_abs_builddir&;t t
s&@abs_top_builddir@&$ac_abs_top_builddir&;t t
s&@INSTALL@&$ac_INSTALL&;t t
$ac_datarootdir_hack
" $ac_file_inputs | sed -f "$tmp/subs-1.sed" | sed -f "$tmp/subs-2.sed" | sed -f "$tmp/subs-3.sed" | sed -f "$tmp/subs-4.sed" | sed -f "$tmp/subs-5.sed" | sed -f "$tmp/subs-6.sed" | sed -f "$tmp/subs-7.sed" >$tmp/out

test -z "$ac_datarootdir_hack$ac_datarootdir_seen" &&
  { ac_out=`sed -n '/\${datarootdir}/p' "$tmp/out"`; test -n "$ac_out"; } &&
  { ac_out=`sed -n '/^[	 ]*datarootdir[	 ]*:*=/p' "$tmp/out"`; test -z "$ac_out"; } &&
  { echo "$as_me:$LINENO: WARNING: $ac_file contains a reference to the variable \`datarootdir'
which seems to be undefined.  Please make sure it is defined." >&5
echo "$as_me: WARNING: $ac_file contains a reference to the variable \`datarootdir'
which seems to be undefined.  Please make sure it is defined." >&2;}

  rm -f "$tmp/stdin"
  case $ac_file in
  -) cat "$tmp/out"; rm -f "$tmp/out";;
  *) rm -f "$ac_file"; mv "$tmp/out" $ac_file;;
  esac
 ;;
  :H)
  #
  # CONFIG_HEADER
  #
_ACEOF

# Transform confdefs.h into a sed script `conftest.defines', that
# substitutes the proper values into config.h.in to produce config.h.
rm -f conftest.defines conftest.tail
# First, append a space to every undef/define line, to ease matching.
echo 's/$/ /' >conftest.defines
# Then, protect against being on the right side of a sed subst, or in
# an unquoted here document, in config.status.  If some macros were
# called several times there might be several #defines for the same
# symbol, which is useless.  But do not sort them, since the last
# AC_DEFINE must be honored.
ac_word_re=[_$as_cr_Letters][_$as_cr_alnum]*
# These sed commands are passed to sed as "A NAME B PARAMS C VALUE D", where
# NAME is the cpp macro being defined, VALUE is the value it is being given.
# PARAMS is the parameter list in the macro definition--in most cases, it's
# just an empty string.
ac_dA='s,^\\([	 #]*\\)[^	 ]*\\([	 ]*'
ac_dB='\\)[	 (].*,\\1define\\2'
ac_dC=' '
ac_dD=' ,'

uniq confdefs.h |
  sed -n '
	t rset
	:rset
	s/^[	 ]*#[	 ]*define[	 ][	 ]*//
	t ok
	d
	:ok
	s/[\\&,]/\\&/g
	s/^\('"$ac_word_re"'\)\(([^()]*)\)[	 ]*\(.*\)/ '"$ac_dA"'\1'"$ac_dB"'\2'"${ac_dC}"'\3'"$ac_dD"'/p
	s/^\('"$ac_word_re"'\)[	 ]*\(.*\)/'"$ac_dA"'\1'"$ac_dB$ac_dC"'\2'"$ac_dD"'/p
  ' >>conftest.defines

# Remove the space that was appended to ease matching.
# Then replace #undef with comments.  This is necessary, for
# example, in the case of _POSIX_SOURCE, which is predefined and required
# on some systems where configure will not decide to define it.
# (The regexp can be short, since the line contains either #define or #undef.)
echo 's/ $//
s,^[	 #]*u.*,/* & */,' >>conftest.defines

# Break up conftest.defines:
ac_max_sed_lines=50

# First sed command is:	 sed -f defines.sed $ac_file_inputs >"$tmp/out1"
# Second one is:	 sed -f defines.sed "$tmp/out1" >"$tmp/out2"
# Third one will be:	 sed -f defines.sed "$tmp/out2" >"$tmp/out1"
# et cetera.
ac_in='$ac_file_inputs'
ac_out='"$tmp/out1"'
ac_nxt='"$tmp/out2"'

while :
do
  # Write a here document:
    cat >>$CONFIG_STATUS <<_ACEOF
    # First, check the format of the line:
    cat >"\$tmp/defines.sed" <<\\CEOF
/^[	 ]*#[	 ]*undef[	 ][	 ]*$ac_word_re[	 ]*\$/b def
/^[	 ]*#[	 ]*define[	 ][	 ]*$ac_word_re[(	 ]/b def
b
:def
_ACEOF
  sed ${ac_max_sed_lines}q conftest.defines >>$CONFIG_STATUS
  echo 'CEOF
    sed -f "$tmp/defines.sed"' "$ac_in >$ac_out" >>$CONFIG_STATUS
  ac_in=$ac_out; ac_out=$ac_nxt; ac_nxt=$ac_in
  sed 1,${ac_max_sed_lines}d conftest.defines >conftest.tail
  grep . conftest.tail >/dev/null || break
  rm -f conftest.defines
  mv conftest.tail conftest.defines
done
rm -f conftest.defines conftest.tail

echo "ac_result=$ac_in" >>$CONFIG_STATUS
cat >>$CONFIG_STATUS <<\_ACEOF
  if test x"$ac_file" != x-; then
    echo "/* $configure_input  */" >"$tmp/config.h"
    cat "$ac_result" >>"$tmp/config.h"
    if diff $ac_file "$tmp/config.h" >/dev/null 2>&1; then
      { echo "$as_me:$LINENO: $ac_file is unchanged" >&5
echo "$as_me: $ac_file is unchanged" >&6;}
    else
      rm -f $ac_file
      mv "$tmp/config.h" $ac_file
    fi
  else
    echo "/* $configure_input  */"
    cat "$ac_result"
  fi
  rm -f "$tmp/out12"
 ;;


  esac

done # for ac_tag


{ (exit 0); exit 0; }
_ACEOF
chmod +x $CONFIG_STATUS
ac_clean_files=$ac_clean_files_save


# configure is writing to config.log, and then calls config.status.
# config.status does its own redirection, appending to config.log.
# Unfortunately, on DOS this fails, as config.log is still kept open
# by configure, so config.status won't be able to write to it; its
# output is simply discarded.  So we exec the FD to /dev/null,
# effectively closing config.log, so it can be properly (re)opened and
# appended to by config.status.  When coming back to configure, we
# need to make the FD available again.
if test "$no_create" != yes; then
  ac_cs_success=:
  ac_config_status_args=
  test "$silent" = yes &&
    ac_config_status_args="$ac_config_status_args --quiet"
  exec 5>/dev/null
  $SHELL $CONFIG_STATUS $ac_config_status_args || ac_cs_success=false
  exec 5>>config.log
  # Use ||, not &&, to avoid exiting from the if with $? = 1, which
  # would make configure fail if this is the last instruction.
  $ac_cs_success || { (exit 1); exit 1; }
fi


chmod 755 $srcdir/snddevices

mkdir -p include/linux
ln -sf ../pci_ids_compat.h include/linux/pci_ids.h
ln -sf ../i2c-id_compat.h include/linux/i2c-id.h

if test "$CONFIG_SND_MODULE" = y; then
  echo "Hacking autoconf.h..."
  rm -f include/linux/autoconf.h
  mkdir -p include/linux
  if test -n "$kernelbuild" -a -r $kernelbuild/include/linux/autoconf.h ; then
    kernconf="$kernelbuild/include/linux/autoconf.h"
  elif test -r  $CONFIG_SND_KERNELDIR/include/linux/autoconf.h ; then
    kernconf="$CONFIG_SND_KERNELDIR/include/linux/autoconf.h"
  else
      cat << EOF
File include/linux/autoconf.h does not exist in kernel tree.
Fatal error - aborting...
EOF
      exit 1
  fi
  grep -v CONFIG_SND_ $kernconf > include/linux/autoconf.h
  cat include/autoconf-extra.h include/config1.h | grep CONFIG_SND \
    | sed -e's@/\* #undef \([A-Za-z0-9_]\+\) .*$@#undef \1@g' \
      >> include/linux/autoconf.h
else
  rm -f include/linux/autoconf.h
fi

if test "$update_version" != "yes"; then
  touch alsa-kernel/include/version.h
fi
